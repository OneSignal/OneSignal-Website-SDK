{"version":3,"sources":["webpack:///OneSignalSDK.js","webpack:///webpack/bootstrap b55ce930d18e55f11076","webpack:///./src/entry.js","webpack:///./src/vars.js","webpack:///./src/utils.js","webpack:///./~/loglevel/lib/loglevel.js","webpack:///./src/environment.js","webpack:///./src/sdk.js?dfb0","webpack:///./src/sdk.js","webpack:///./~/whatwg-fetch/fetch.js","webpack:///./src/string.js","webpack:///./src/api.js","webpack:///./src/limitStore.js","webpack:///./src/events.js","webpack:///./src/bell/bell.js","webpack:///./~/bowser/bowser.js","webpack:///./src/bell/AnimatedElement.js","webpack:///./src/bell/ActiveAnimatedElement.js","webpack:///./src/bell/Launcher.js","webpack:///./src/bell/Badge.js","webpack:///./src/bell/Button.js","webpack:///./src/bell/Dialog.js","webpack:///./src/bell/Message.js","webpack:///./src/bell/bell.scss?18cf","webpack:///./src/bell/bell.scss","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./src/bell/bell.svg","webpack:///./src/database.js","webpack:///./src/ServiceWorker.js?20f8","webpack:///./src/ServiceWorker.js","webpack:///./src/cache-polyfill.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_vars","_environment","_environment2","isBrowser","OneSignal","predefinedOneSignalPushes","_process_pushes","isServiceWorker","Object","defineProperty","value","API_URL","HOST_URL","PROD_HOST","DEV_HOST","undefined","_utils","isDev","_typeof","Symbol","constructor","isArray","variable","prototype","toString","getHumanizedTimeDuration","timeDurationInMilliseconds","addPluralSuffix","number","duration","Math","floor","years","days","hours","minutes","seconds","isPushNotificationsSupported","chromeVersion","navigator","appVersion","match","isSupportedFireFox","isSupportedSafari","test","platform","parseInt","substring","isBrowserSafari","safariVersion","fireFoxVersion","userAgent","isBrowserFirefox","getFirefoxVersion","removeDomElement","selector","els","document","querySelectorAll","length","i","parentNode","removeChild","addDomElement","targetSelectorOrElement","addOrder","elementHtml","querySelector","insertAdjacentHTML","Error","clearDomElementChildren","element","firstChild","addCssClass","cssClass","classList","add","removeCssClass","remove","hasCssClass","contains","on","event","task","_loglevel2","error","addEventListener","once","manualDestroy","arguments","taskWrapper","internalTaskFunction","e","destroyEventListener","removeEventListener","type","off","getConsoleStyle","style","delay","durationMs","Promise","resolve","setTimeout","nothing","when","condition","promiseIfTrue","promiseIfFalse","guid","replace","r","crypto","getRandomValues","Uint8Array","v","_loglevel","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","root","definition","log","this","realMethod","methodName","console","undefinedType","bindMethod","noop","method","bind","Function","apply","enableLoggingWhenConsoleArrives","level","loggerName","replaceLoggingMethods","logMethods","methodFactory","defaultMethodFactory","Logger","name","defaultLevel","factory","persistLevelIfPossible","levelNum","levelName","toUpperCase","window","localStorage","storageKey","ignore","cookie","encodeURIComponent","getPersistedLevel","storedLevel","location","indexOf","exec","slice","self","levels","currentLevel","TRACE","DEBUG","INFO","WARN","ERROR","SILENT","getLevel","setLevel","persist","setDefaultLevel","enableAll","disableAll","initialLevel","defaultLogger","_loggersByName","getLogger","TypeError","logger","_log","noConflict","_classCallCheck","instance","Constructor","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","Environment","getEnv","WorkerLocation","SERVICE_WORKER","top","href","POPUP","HOST","IFRAME","isHost","isPopup","isIframe","get","global","fetch","_interopRequireWildcard","newObj","hasOwnProperty","_api","_limitStore","_limitStore2","_events","_events2","_bell","_bell2","_database","_database2","_bowser","Browser","_VERSION","_API_URL","_app_id","_tagsToSendOnRegister","_notificationOpened_callback","_idsAvailable_callback","_defaultLaunchURL","_initOptions","_httpRegistration","_main_page_port","_isNotificationEnabledCallback","_subscriptionSet","_initOneSignalHttp","_sessionIframeAdded","_useHttpMode","_windowWidth","_windowHeight","_isUninitiatedVisitor","_isNewVisitor","_isInitialized","notifyButton","store","environment","database","LOGGING","browser","SERVICE_WORKER_UPDATER_PATH","SERVICE_WORKER_PATH","SERVICE_WORKER_PARAM","EVENTS","CUSTOM_PROMPT_CLICKED","NATIVE_PROMPT_PERMISSIONCHANGED","SUBSCRIPTION_CHANGED","WELCOME_NOTIFICATION_SENT","INTERNAL_SUBSCRIPTIONSET","SDK_INITIALIZED","_sendToOneSignalApi","url","action","inData","callback","failedCallback","debug","contents","headers","Content-type","body","JSON","stringify","then","status","response","reject","statusText","json","jsonData","_getLanguage","language","_getPlayerId","_getPlayerId_gotUserId","result","_registerWithOneSignal","appId","registrationId","deviceType","_registerWithOneSignal_GotUserId","userIdResult","_getNotificationTypes","notif_types","requestUrl","app_id","device_type","timezone","Date","getTimezoneOffset","device_model","device_os","version","sdk","notification_types","identifier","put","registeredCallback","responseJSON","sessionStorage","setItem","_sendUnsentTags","userId","curr_callback","pop","_getNotificationPermission","permission","creator","opener","parent","_safePostMessage","idsAvailable","from","origin","httpNativePromptPermissionChanged","close","sendTags","setDefaultNotificationUrl","setDefaultIcon","icon","setDefaultTitle","title","onCustomPromptClicked","_checkTrigger_eventSubscriptionChanged","onNativePromptChanged","_sendSelfNotification","message","sendNotification","en","warn","_onSubscriptionChanged","detail","welcome_notification_opts","welcome_notification_disabled","welcomeNotificationUrl","URL","trigger","_onDbValueRetrieved","_onDbValueSet","info","_onInternalSubscriptionSet","newSubscriptionValue","_onSdkInitialized","bell","assign","create","_onDatabaseRebuilt","_checkTrigger_nativePermissionChanged","safari_web_id","currentPermission","lastPermission","getLast","_triggerEvent_nativePromptPermissionChanged","permissions","ids","lastId","currentId","subscriptionStates","lastSubscriptionState","currentSubscriptionState","newSubscriptionState","lastTriggerTimes","now","currentTime","lastTriggerTime","elapsedTimeSeconds","lastEventStates","currentState","lastState","shouldNotTriggerEvent","_triggerEvent_subscriptionChanged","_installNativePromptPermissionChangedHook","_usingNativePermissionHook","query","permissionStatus","onchange","permissionBeforePrompt","getFirst","init","options","REBUILT","storeValue","_getSubscription","currentSubscription","RETRIEVED","SET","_supportsDirectPermission","subdomainName","s","createElement","setAttribute","head","appendChild","readyState","_internalInit","all","_internalInit_GotAppRegistrationSubscriptionIds","appIdResult","registrationIdResult","subscriptionResult","removeItem","getItem","Notification","safari","autoRegister","visibilityState","_sessionInit","registerForPushNotifications","fromRegisterFor","_initHttp","continuePressed","setSubscription","messageChannel","MessageChannel","port1","onmessage","capitalize","data","initOptions","defaultUrl","defaultTitle","defaultIcon","parent_url","registerForPushNotifications_GotNotificationOpened","notificationOpenedResult","openedNotification","getNotificationPermission","_getSubdomainState","curState","currentNotificationPermission","remoteGetNotificationPermission","safariWebId","promiseId","remoteGetNotificationPermissionResponse","setSubdomainState","setSubscriptionComplete","oneSignalInitPageReady","port2","_initSaveState","search","player_id","serviceWorker","register","_enableNotifications","_registerError","state","notifPermssion","subscriptionSet","isPushEnabled","protocol","host","_getPromptOptionsQueryString","message_localization_opts","message_localization_opts_str","message_localization_params","encoded_value","hostPageProtocol","dualScreenLeft","screenLeft","screen","left","dualScreenTop","screenTop","thisWidth","innerWidth","documentElement","clientWidth","width","thisHeight","innerHeight","clientHeight","height","childWidth","childHeight","childWindow","open","focus","_addSessionIframe","pushNotification","requestPermission","notificationPermissionAfterRequest","deviceToken","toLowerCase","modalPrompt","isPushNotificationsEnabled","pushEnabled","innerHTML","iframeStyle","getElementsByTagName","iframeNode","className","cssText","src","getElementById","_registerForW3CPush","_registerForW3CPush_GotRegistrationId","getRegistration","serviceWorkerRegistration","sw_path","path","_registerServiceWorker","active","scriptURL","versionResult","installing","full_sw_and_path","node","display","err","existingServiceWorkerRegistration","ServiceWorkerRegistration","ready","_subscribeForPush","isHttpsProtocol","noSubdomain","uid","_iframePort","postMessage","_triggerEvent_customPromptClicked","clickResult","recentPermissions","to","updateIfIdentical","promise","_triggerEvent_dbValueRetrieved","_triggerEvent_dbValueSet","_triggerEvent_internalSubscriptionSet","notificationPermissionBeforeRequest","pushManager","subscribe","userVisibleOnly","subscription","_subscribeForPush_GotAppId","subscriptionId","endpoint","RegExp","code","sendTag","jsonKeyValue","jsonPair","sendTags_GotUserId","tags","resultObj","_obj","deleteTag","deleteTags","keyArray","_handleNotificationOpened","notificationData","parse","notification","tag","_handleNotificationOpened_GotAppUserIds","results","opened","waitUntil","clients","matchAll","clientList","launchURL","registration","scope","client","openWindow","_listener_receiveMessage","receiveMessage","eventData","ports","_fireNotificationEnabledCallback","promiseResolve","remoteEvent","remoteEventData","remoteTriggerEnv","httpsPromptAccepted","elem","httpsPromptCanceled","httpPromptAccepted","httpPromptCanceled","addListenerForNotificationOpened","newNotificationPermission","getIdsAvailable","push","getIdsAvailable_GotUserRegistrationIds","getTags","notificationType","newSubscription","apiCall","targetOrigin","receiver","tOrigin","startsWith","queryDict","substr","split","forEach","item","validPreURLRegex","array","functionName","shift","normalizeName","String","normalizeValue","Headers","map","append","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","Body","_initBody","_bodyInit","_bodyText","support","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","arrayBuffer","ArrayBuffer","rejected","text","decode","normalizeMethod","upcased","methods","Request","input","credentials","mode","referrer","form","trim","bytes","join","decodeURIComponent","xhr","pairs","getAllResponseHeaders","header","Response","bodyInit","ok","list","values","getAll","has","set","thisArg","clone","redirectStatuses","redirect","RangeError","responseURL","getResponseHeader","request","XMLHttpRequest","responseText","withCredentials","responseType","setRequestHeader","send","polyfill","charAt","cache","jsonResponse","playerIds","titles","params","include_player_ids","isAnyWeb","headings","LimitStore","LIMIT","isEmpty","SILENT_EVENTS","RETRIGGER_REMOTE_EVENTS","Event","eventName","displayData","env","CustomEvent","bubbles","cancelable","dispatchEvent","_AnimatedElement","_AnimatedElement2","_ActiveAnimatedElement","_ActiveAnimatedElement2","_Launcher","_Launcher2","_Badge","_Badge2","_Button","_Button2","_Dialog","_Dialog2","_Message","_Message2","logoSvg","Bell","_this","_ref","_ref$enable","enable","_ref$size","size","_ref$position","position","_ref$theme","theme","_ref$showLauncherAfte","showLauncherAfter","_ref$showBadgeAfter","showBadgeAfter","_ref$modalPrompt","_ref$text","tip.state.unsubscribed","tip.state.subscribed","tip.state.blocked","message.prenotify","message.action.subscribing","message.action.subscribed","message.action.resubscribed","message.action.unsubscribed","dialog.main.title","dialog.main.button.subscribe","dialog.main.button.unsubscribe","dialog.blocked.title","dialog.blocked.message","_ref$prenotify","prenotify","_ref$showCredit","showCredit","substituteText","STATES","UNINITIALIZED","LAUNCHER_CLICK","shown","contentType","TYPES","MESSAGE","launcher","activateIfInactive","hide","unsubscribed","setSubscriptionState","showDialogProcedure","destroyListenerFn","TIMEOUT","inactivate","subscribed","blocked","SUBSCRIBE_CLICK","dialog","subscribeButton","disabled","clearIfWasInactive","UNSUBSCRIBE_CLICK","unsubscribeButton","activate","HOVERING","hovering","queued","dequeue","msg","content","QUEUED","getTipForState","TIP","show","HOVERED","waitUntilShown","wasInactive","isSubscribed","setState","SUBSCRIBED","UNSUBSCRIBED","updateState","browserName","tKey","TEXT_SUBS","tValue","zValue","includes","STATE_CHANGED","BELL_CLICK","BLOCKED","prompt.native.grant","chrome","firefox","_this2","wasDialogClicked","inactivateIfWasInactive","_this3","container","button","resize","enqueue","badge","initialized","_getCurrentSetSubscriptionState","currentSetSubscription","_this4","isEnabled","newState","_launcher","_button","_badge","_message","_dialog","detect","ua","getFirstMatch","regex","getSecondMatch","iosdevice","likeAndroid","android","chromeBook","edgeVersion","versionIdentifier","tablet","mobile","opera","t","yandexbrowser","windowsphone","msedge","msie","sailfish","seamonkey","firefoxos","silk","phantom","blackberry","webos","touchpad","bada","tizen","webkit","gecko","ios","osVersion","osversion","osMajorVersion","a","x","bowser","browserList","browserItem","_detect","AnimatedElement","showClass","hideClass","targetTransitionEvents","nestedContentSelector","transitionCheckTimeout","hidden","SHOWING","timerId","activeState","propertyName","clearTimeout","SHOWN","HIDING","HIDDEN","waitUntilHidden","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","__proto__","_AnimatedElement3","ActiveAnimatedElement","activeClass","inactiveClass","getPrototypeOf","inactive","ACTIVATING","ACTIVE","INACTIVATING","INACTIVE","waitUntilActive","waitUntilInactive","_this5","_get","object","property","desc","getOwnPropertyDescriptor","getter","Launcher","_ActiveAnimatedElemen","Badge","increment","isNaN","badgeNumber","decrement","Button","events","mouse","onHovering","onTap","onHovered","onEndTap","onClick","pulse","Dialog","subscribeButtonId","unsubscribeButtonId","notificationIcons","getNotificationIcons","icons","errors","ex","getPlatformNotificationIcon","updateBellLauncherDialogBody","footer","notificationIconHtml","imageUrl","buttonHtml","subscribeButtonSelectorId","unsubscribeButtonSelectorId","instructionsHtml","Message","notify","dequeuedMessage","numMessagesLeft","update","locals","hot","accept","newContent","require","dispose","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","insertBefore","nextSibling","removeStyleElement","idx","splice","createStyleElement","createLinkElement","linkElement","rel","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","createObjectURL","revokeObjectURL","btoa","updateLink","applyToTag","updateStyle","index","styleSheet","replaceText","cssNode","createTextNode","childNodes","unescape","oldSrc","memoize","fn","memo","isOldIE","newList","mayRemove","textStore","replacement","filter","Boolean","Database","getInstance","_instance","indexedDB","onsuccess","onupgradeneeded","db","createObjectStore","keyPath","table","transaction","objectStore","errorCode","jsonResult","cursor","openCursor","cursorResult","printIds","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_i","iterator","_s","next","done","Array","ServiceWorker","run","onPushReceived","onNotificationClicked","onServiceWorkerInstalled","onOurSubdomain","onFetch","extra","_getTitle","defaultIconResult","_getLastNotifications","notifications","notificationEventPromises","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","custom","alert","additionalData","u","notificationEventPromise","showNotification","requireInteraction","defaultUrlResult","defaultLaunchUrl","launchURLObject","_results","pathname","serviceWorkerVersionType","caches","addAll","CACHE_URLS","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","cacheUrl","respondWith","_results2","defaultTitleResult","pageTitleResult","OneSignalServiceWorker","Cache","requests","NetworkError","sequence","scheme","responses"],"mappings":"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","file":"OneSignalSDK.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vars = __webpack_require__(1);\n\t\n\tvar _environment = __webpack_require__(4);\n\t\n\tvar _environment2 = _interopRequireDefault(_environment);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tif (_environment2.default.isBrowser()) {\n\t  // We're running in the host page, iFrame of the host page, or popup window\n\t  // Load OneSignal's web SDK\n\t  if (typeof OneSignal !== \"undefined\") var predefinedOneSignalPushes = OneSignal;\n\t\n\t  __webpack_require__(5);\n\t\n\t  if (predefinedOneSignalPushes) OneSignal._process_pushes(predefinedOneSignalPushes);\n\t} else if (_environment2.default.isServiceWorker()) {\n\t  // We're running as the service worker\n\t  __webpack_require__(27);\n\t}\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.API_URL = exports.HOST_URL = exports.PROD_HOST = exports.DEV_HOST = undefined;\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar DEV_HOST = exports.DEV_HOST = 'https://192.168.1.205:3001';\n\tvar PROD_HOST = exports.PROD_HOST = 'https://onesignal.com';\n\tvar HOST_URL = exports.HOST_URL = (0, _utils.isDev)() ? DEV_HOST : PROD_HOST;\n\tvar API_URL = exports.API_URL = ((0, _utils.isDev)() ? DEV_HOST : PROD_HOST) + '/api/v1/';\n\t\n\t//  \n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.isArray = isArray;\n\texports.getHumanizedTimeDuration = getHumanizedTimeDuration;\n\texports.isDev = isDev;\n\texports.isPushNotificationsSupported = isPushNotificationsSupported;\n\texports.isBrowserSafari = isBrowserSafari;\n\texports.isSupportedFireFox = isSupportedFireFox;\n\texports.isBrowserFirefox = isBrowserFirefox;\n\texports.getFirefoxVersion = getFirefoxVersion;\n\texports.isSupportedSafari = isSupportedSafari;\n\texports.removeDomElement = removeDomElement;\n\texports.addDomElement = addDomElement;\n\texports.clearDomElementChildren = clearDomElementChildren;\n\texports.addCssClass = addCssClass;\n\texports.removeCssClass = removeCssClass;\n\texports.hasCssClass = hasCssClass;\n\texports.on = on;\n\texports.once = once;\n\texports.off = off;\n\texports.getConsoleStyle = getConsoleStyle;\n\texports.delay = delay;\n\texports.nothing = nothing;\n\texports.when = when;\n\texports.guid = guid;\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\tfunction isArray(variable) {\n\t  return Object.prototype.toString.call(variable) === '[object Array]';\n\t}\n\t\n\tfunction getHumanizedTimeDuration(timeDurationInMilliseconds) {\n\t  function addPluralSuffix(number) {\n\t    return number > 1 ? 's' : '';\n\t  }\n\t  var duration = Math.floor(timeDurationInMilliseconds / 1000);\n\t\n\t  var years = Math.floor(duration / 31536000);\n\t  if (years) return years + ' year' + addPluralSuffix(years);\n\t\n\t  var days = Math.floor((duration %= 31536000) / 86400);\n\t  if (days) return days + ' day' + addPluralSuffix(days);\n\t\n\t  var hours = Math.floor((duration %= 86400) / 3600);\n\t  if (hours) return hours + ' hour' + addPluralSuffix(hours);\n\t\n\t  var minutes = Math.floor((duration %= 3600) / 60);\n\t  if (minutes) return minutes + ' minute' + addPluralSuffix(minutes);\n\t\n\t  var seconds = duration % 60;\n\t  if (seconds) return seconds + ' second' + addPluralSuffix(seconds);\n\t\n\t  return 'just now';\n\t}\n\t\n\tfunction isDev() {\n\t  return (false);\n\t}\n\t\n\tfunction isPushNotificationsSupported() {\n\t  var chromeVersion = navigator.appVersion.match(/Chrome\\/(.*?) /);\n\t\n\t  if (isSupportedFireFox()) return true;\n\t\n\t  if (isSupportedSafari()) return true;\n\t\n\t  // Chrome is not found in appVersion.\n\t  if (!chromeVersion) return false;\n\t\n\t  // Microsoft Edge\n\t  if (navigator.appVersion.match(/Edge/)) return false;\n\t\n\t  // Android Chrome WebView\n\t  if (navigator.appVersion.match(/ wv/)) return false;\n\t\n\t  // Opera\n\t  if (navigator.appVersion.match(/OPR\\//)) return false;\n\t\n\t  // The user is on iOS\n\t  if (/iPad|iPhone|iPod/.test(navigator.platform)) return false;\n\t\n\t  return parseInt(chromeVersion[1].substring(0, 2)) > 41;\n\t}\n\t\n\tfunction isBrowserSafari() {\n\t  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n\t  return safariVersion != null;\n\t}\n\t\n\tfunction isSupportedFireFox() {\n\t  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n\t  if (fireFoxVersion) return parseInt(fireFoxVersion[2].substring(0, 2)) > 43;\n\t  return false;\n\t}\n\t\n\tfunction isBrowserFirefox() {\n\t  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n\t  return fireFoxVersion != null;\n\t}\n\t\n\tfunction getFirefoxVersion() {\n\t  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n\t  if (fireFoxVersion) return parseInt(fireFoxVersion[2].substring(0, 2));else return -1;\n\t}\n\t\n\tfunction isSupportedSafari() {\n\t  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n\t  if (safariVersion == null) return false;\n\t  if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) return false;\n\t  return parseInt(safariVersion[1]) > 6;\n\t}\n\t\n\tfunction removeDomElement(selector) {\n\t  var els = document.querySelectorAll(selector);\n\t  if (els.length > 0) {\n\t    for (var i = 0; i < els.length; i++) {\n\t      els[i].parentNode.removeChild(els[i]);\n\t    }\n\t  }\n\t}\n\t\n\tfunction addDomElement(targetSelectorOrElement, addOrder, elementHtml) {\n\t  if (typeof targetSelectorOrElement === 'string') document.querySelector(targetSelectorOrElement).insertAdjacentHTML(addOrder, elementHtml);else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.insertAdjacentHTML(addOrder, elementHtml);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction clearDomElementChildren(targetSelectorOrElement) {\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var element = document.querySelector(targetSelectorOrElement);\n\t    while (element.firstChild) {\n\t      element.removeChild(element.firstChild);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') {\n\t    while (targetSelectorOrElement.firstChild) {\n\t      targetSelectorOrElement.removeChild(targetSelectorOrElement.firstChild);\n\t    }\n\t  } else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction addCssClass(targetSelectorOrElement, cssClass) {\n\t  if (typeof targetSelectorOrElement === 'string') document.querySelector(targetSelectorOrElement).classList.add(cssClass);else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.classList.add(cssClass);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction removeCssClass(targetSelectorOrElement, cssClass) {\n\t  if (typeof targetSelectorOrElement === 'string') document.querySelector(targetSelectorOrElement).classList.remove(cssClass);else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.classList.remove(cssClass);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction hasCssClass(targetSelectorOrElement, cssClass) {\n\t  if (typeof targetSelectorOrElement === 'string') return document.querySelector(targetSelectorOrElement).classList.contains(cssClass);else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') return targetSelectorOrElement.classList.contains(cssClass);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction on(targetSelectorOrElement, event, task) {\n\t  if (!event) {\n\t    _loglevel2.default.error('Cannot call on() with no event: ', event);\n\t  }\n\t  if (!task) {\n\t    _loglevel2.default.error('Cannot call on() with no task: ', task);\n\t  }\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var els = document.querySelectorAll(selector);\n\t    if (els.length > 0) {\n\t      for (var i = 0; i < els.length; i++) {\n\t        on(els[i], task);\n\t      }\n\t    }\n\t  } else if (isArray(targetSelectorOrElement)) {\n\t    for (var i = 0; i < targetSelectorOrElement.length; i++) {\n\t      on(targetSelectorOrElement[i], task);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') targetSelectorOrElement.addEventListener(event, task);else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction once(targetSelectorOrElement, event, task) {\n\t  var manualDestroy = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t\n\t  if (!event) {\n\t    _loglevel2.default.error('Cannot call on() with no event: ', event);\n\t  }\n\t  if (!task) {\n\t    _loglevel2.default.error('Cannot call on() with no task: ', task);\n\t  }\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var els = document.querySelectorAll(selector);\n\t    if (els.length > 0) {\n\t      for (var i = 0; i < els.length; i++) {\n\t        once(els[i], task);\n\t      }\n\t    }\n\t  } else if (isArray(targetSelectorOrElement)) {\n\t    for (var i = 0; i < targetSelectorOrElement.length; i++) {\n\t      once(targetSelectorOrElement[i], task);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') {\n\t    var taskWrapper = (function () {\n\t      var internalTaskFunction = function internalTaskFunction(e) {\n\t        var destroyEventListener = function destroyEventListener() {\n\t          targetSelectorOrElement.removeEventListener(e.type, taskWrapper);\n\t        };\n\t        if (!manualDestroy) {\n\t          destroyEventListener();\n\t        }\n\t        task(e, destroyEventListener);\n\t      };\n\t      return internalTaskFunction;\n\t    })();\n\t    targetSelectorOrElement.addEventListener(event, taskWrapper);\n\t  } else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\t/**\n\t * Removes event handler from selector.\n\t * @param targetSelectorOrElement Selector to target one or multiple elements, or a single or array of DOMElement.\n\t * @param event The event to target (e.g. 'transitionend')\n\t * @param task A single function callback to unbind, or leave empty to remove all event handlers.\n\t */\n\tfunction off(targetSelectorOrElement, event, task) {\n\t  if (typeof targetSelectorOrElement === 'string') {\n\t    var els = document.querySelectorAll(selector);\n\t    if (els.length > 0) {\n\t      for (var i = 0; i < els.length; i++) {\n\t        off(els[i], task);\n\t      }\n\t    }\n\t  } else if (isArray(targetSelectorOrElement)) {\n\t    for (var i = 0; i < targetSelectorOrElement.length; i++) {\n\t      off(targetSelectorOrElement[i], task);\n\t    }\n\t  } else if ((typeof targetSelectorOrElement === 'undefined' ? 'undefined' : _typeof(targetSelectorOrElement)) === 'object') {\n\t    if (task) targetSelectorOrElement.removeEventListener(event, task);else targetSelectorOrElement.removeEventListener(event);\n\t  } else throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');\n\t}\n\t\n\tfunction getConsoleStyle(style) {\n\t  if (style == 'code') {\n\t    return '\\n    padding: 0 5px 2px;\\n    border: 1px solid #ddd;\\n    -webkit-border-radius: 3px;\\n    -moz-border-radius: 3px;\\n    border-radius: 3px;\\n    background-clip: padding-box;\\n    font-family: Monaco,\"DejaVu Sans Mono\",\"Courier New\",monospace;\\n    color: #666;\\n    ';\n\t  } else if (style == 'bold') {\n\t    return '\\n      font-weight: 600;\\n    color: rgb(51, 51, 51);\\n    ';\n\t  } else if (style == 'alert') {\n\t    return '\\n      font-weight: 600;\\n    color: red;\\n    ';\n\t  } else if (style == 'event') {\n\t    return '\\n    color: green;\\n    ';\n\t  } else if (style == 'postmessage') {\n\t    return '\\n    color: orange;\\n    ';\n\t  }\n\t}\n\t\n\t/**\n\t * Returns a promise for the setTimeout() method.\n\t * @param durationMs\n\t * @returns {Promise} Returns a promise that resolves when the timeout is complete.\n\t */\n\tfunction delay(durationMs) {\n\t  return new Promise(function (resolve) {\n\t    setTimeout(resolve, durationMs);\n\t  });\n\t}\n\t\n\tfunction nothing() {\n\t  return Promise.resolve();\n\t}\n\t\n\tfunction when(condition, promiseIfTrue, promiseIfFalse) {\n\t  if (promiseIfTrue === undefined) promiseIfTrue = nothing();\n\t  if (promiseIfFalse === undefined) promiseIfFalse = nothing();\n\t  return condition ? promiseIfTrue : promiseIfFalse;\n\t}\n\t\n\tfunction guid() {\n\t  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t    var r = crypto.getRandomValues(new Uint8Array(1))[0] % 16 | 0,\n\t        v = c == 'x' ? r : r & 0x3 | 0x8;\n\t    return v.toString(16);\n\t  });\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\r\n\t* loglevel - https://github.com/pimterry/loglevel\r\n\t*\r\n\t* Copyright (c) 2013 Tim Perry\r\n\t* Licensed under the MIT license.\r\n\t*/\r\n\t(function (root, definition) {\r\n\t    \"use strict\";\r\n\t    if (typeof module === 'object' && module.exports && \"function\" === 'function') {\r\n\t        module.exports = definition();\r\n\t    } else if (true) {\r\n\t        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\t    } else {\r\n\t        root.log = definition();\r\n\t    }\r\n\t}(this, function () {\r\n\t    \"use strict\";\r\n\t    var noop = function() {};\r\n\t    var undefinedType = \"undefined\";\r\n\t\r\n\t    function realMethod(methodName) {\r\n\t        if (typeof console === undefinedType) {\r\n\t            return false; // We can't build a real method without a console to log to\r\n\t        } else if (console[methodName] !== undefined) {\r\n\t            return bindMethod(console, methodName);\r\n\t        } else if (console.log !== undefined) {\r\n\t            return bindMethod(console, 'log');\r\n\t        } else {\r\n\t            return noop;\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function bindMethod(obj, methodName) {\r\n\t        var method = obj[methodName];\r\n\t        if (typeof method.bind === 'function') {\r\n\t            return method.bind(obj);\r\n\t        } else {\r\n\t            try {\r\n\t                return Function.prototype.bind.call(method, obj);\r\n\t            } catch (e) {\r\n\t                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\r\n\t                return function() {\r\n\t                    return Function.prototype.apply.apply(method, [obj, arguments]);\r\n\t                };\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t\r\n\t    // these private functions always need `this` to be set properly\r\n\t\r\n\t    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\r\n\t        return function () {\r\n\t            if (typeof console !== undefinedType) {\r\n\t                replaceLoggingMethods.call(this, level, loggerName);\r\n\t                this[methodName].apply(this, arguments);\r\n\t            }\r\n\t        };\r\n\t    }\r\n\t\r\n\t    function replaceLoggingMethods(level, loggerName) {\r\n\t        /*jshint validthis:true */\r\n\t        for (var i = 0; i < logMethods.length; i++) {\r\n\t            var methodName = logMethods[i];\r\n\t            this[methodName] = (i < level) ?\r\n\t                noop :\r\n\t                this.methodFactory(methodName, level, loggerName);\r\n\t        }\r\n\t    }\r\n\t\r\n\t    function defaultMethodFactory(methodName, level, loggerName) {\r\n\t        /*jshint validthis:true */\r\n\t        return realMethod(methodName) ||\r\n\t               enableLoggingWhenConsoleArrives.apply(this, arguments);\r\n\t    }\r\n\t\r\n\t    var logMethods = [\r\n\t        \"trace\",\r\n\t        \"debug\",\r\n\t        \"info\",\r\n\t        \"warn\",\r\n\t        \"error\"\r\n\t    ];\r\n\t\r\n\t    function Logger(name, defaultLevel, factory) {\r\n\t      var self = this;\r\n\t      var currentLevel;\r\n\t      var storageKey = \"loglevel\";\r\n\t      if (name) {\r\n\t        storageKey += \":\" + name;\r\n\t      }\r\n\t\r\n\t      function persistLevelIfPossible(levelNum) {\r\n\t          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\r\n\t\r\n\t          // Use localStorage if available\r\n\t          try {\r\n\t              window.localStorage[storageKey] = levelName;\r\n\t              return;\r\n\t          } catch (ignore) {}\r\n\t\r\n\t          // Use session cookie as fallback\r\n\t          try {\r\n\t              window.document.cookie =\r\n\t                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\r\n\t          } catch (ignore) {}\r\n\t      }\r\n\t\r\n\t      function getPersistedLevel() {\r\n\t          var storedLevel;\r\n\t\r\n\t          try {\r\n\t              storedLevel = window.localStorage[storageKey];\r\n\t          } catch (ignore) {}\r\n\t\r\n\t          if (typeof storedLevel === undefinedType) {\r\n\t              try {\r\n\t                  var cookie = window.document.cookie;\r\n\t                  var location = cookie.indexOf(\r\n\t                      encodeURIComponent(storageKey) + \"=\");\r\n\t                  if (location) {\r\n\t                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\r\n\t                  }\r\n\t              } catch (ignore) {}\r\n\t          }\r\n\t\r\n\t          // If the stored level is not valid, treat it as if nothing was stored.\r\n\t          if (self.levels[storedLevel] === undefined) {\r\n\t              storedLevel = undefined;\r\n\t          }\r\n\t\r\n\t          return storedLevel;\r\n\t      }\r\n\t\r\n\t      /*\r\n\t       *\r\n\t       * Public API\r\n\t       *\r\n\t       */\r\n\t\r\n\t      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\r\n\t          \"ERROR\": 4, \"SILENT\": 5};\r\n\t\r\n\t      self.methodFactory = factory || defaultMethodFactory;\r\n\t\r\n\t      self.getLevel = function () {\r\n\t          return currentLevel;\r\n\t      };\r\n\t\r\n\t      self.setLevel = function (level, persist) {\r\n\t          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\r\n\t              level = self.levels[level.toUpperCase()];\r\n\t          }\r\n\t          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\r\n\t              currentLevel = level;\r\n\t              if (persist !== false) {  // defaults to true\r\n\t                  persistLevelIfPossible(level);\r\n\t              }\r\n\t              replaceLoggingMethods.call(self, level, name);\r\n\t              if (typeof console === undefinedType && level < self.levels.SILENT) {\r\n\t                  return \"No console available for logging\";\r\n\t              }\r\n\t          } else {\r\n\t              throw \"log.setLevel() called with invalid level: \" + level;\r\n\t          }\r\n\t      };\r\n\t\r\n\t      self.setDefaultLevel = function (level) {\r\n\t          if (!getPersistedLevel()) {\r\n\t              self.setLevel(level, false);\r\n\t          }\r\n\t      };\r\n\t\r\n\t      self.enableAll = function(persist) {\r\n\t          self.setLevel(self.levels.TRACE, persist);\r\n\t      };\r\n\t\r\n\t      self.disableAll = function(persist) {\r\n\t          self.setLevel(self.levels.SILENT, persist);\r\n\t      };\r\n\t\r\n\t      // Initialize with the right level\r\n\t      var initialLevel = getPersistedLevel();\r\n\t      if (initialLevel == null) {\r\n\t          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\r\n\t      }\r\n\t      self.setLevel(initialLevel, false);\r\n\t    }\r\n\t\r\n\t    /*\r\n\t     *\r\n\t     * Package-level API\r\n\t     *\r\n\t     */\r\n\t\r\n\t    var defaultLogger = new Logger();\r\n\t\r\n\t    var _loggersByName = {};\r\n\t    defaultLogger.getLogger = function getLogger(name) {\r\n\t        if (typeof name !== \"string\" || name === \"\") {\r\n\t          throw new TypeError(\"You must supply a name when creating a logger.\");\r\n\t        }\r\n\t\r\n\t        var logger = _loggersByName[name];\r\n\t        if (!logger) {\r\n\t          logger = _loggersByName[name] = new Logger(\r\n\t            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\r\n\t        }\r\n\t        return logger;\r\n\t    };\r\n\t\r\n\t    // Grab the current global log variable in case of overwrite\r\n\t    var _log = (typeof window !== undefinedType) ? window.log : undefined;\r\n\t    defaultLogger.noConflict = function() {\r\n\t        if (typeof window !== undefinedType &&\r\n\t               window.log === defaultLogger) {\r\n\t            window.log = _log;\r\n\t        }\r\n\t\r\n\t        return defaultLogger;\r\n\t    };\r\n\t\r\n\t    return defaultLogger;\r\n\t}));\r\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Environment = (function () {\n\t  function Environment() {\n\t    _classCallCheck(this, Environment);\n\t  }\n\t\n\t  _createClass(Environment, null, [{\n\t    key: \"getEnv\",\n\t    value: function getEnv() {\n\t      if (typeof window === \"undefined\") {\n\t        if (typeof WorkerLocation !== \"undefined\" && location instanceof WorkerLocation) return Environment.SERVICE_WORKER;\n\t      } else {\n\t        // If the window is the root top-most level\n\t        if (window.self === window.top) {\n\t          if (location.href.indexOf(\"initOneSignal\") > -1) return Environment.POPUP;else return Environment.HOST;\n\t        } else return Environment.IFRAME;\n\t      }\n\t    }\n\t  }, {\n\t    key: \"isServiceWorker\",\n\t    value: function isServiceWorker() {\n\t      return Environment.getEnv() === Environment.SERVICE_WORKER;\n\t    }\n\t  }, {\n\t    key: \"isHost\",\n\t    value: function isHost() {\n\t      return Environment.getEnv() === Environment.HOST;\n\t    }\n\t  }, {\n\t    key: \"isPopup\",\n\t    value: function isPopup() {\n\t      return Environment.getEnv() === Environment.POPUP;\n\t    }\n\t  }, {\n\t    key: \"isIframe\",\n\t    value: function isIframe() {\n\t      return Environment.getEnv() === Environment.IFRAME;\n\t    }\n\t  }, {\n\t    key: \"isBrowser\",\n\t    value: function isBrowser() {\n\t      return typeof window !== 'undefined';\n\t    }\n\t  }, {\n\t    key: \"SERVICE_WORKER\",\n\t    get: function get() {\n\t      return 'ServiceWorker';\n\t    }\n\t  }, {\n\t    key: \"HOST\",\n\t    get: function get() {\n\t      return \"host\";\n\t    }\n\t  }, {\n\t    key: \"POPUP\",\n\t    get: function get() {\n\t      return \"popup\";\n\t    }\n\t  }, {\n\t    key: \"IFRAME\",\n\t    get: function get() {\n\t      return \"iFrame\";\n\t    }\n\t  }]);\n\t\n\t  return Environment;\n\t})();\n\t\n\texports.default = Environment;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"OneSignal\"] = __webpack_require__(6);\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(fetch) {'use strict';\n\t\n\tvar _vars = __webpack_require__(1);\n\t\n\tvar _environment = __webpack_require__(4);\n\t\n\tvar _environment2 = _interopRequireDefault(_environment);\n\t\n\t__webpack_require__(8);\n\t\n\tvar _api = __webpack_require__(9);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _limitStore = __webpack_require__(10);\n\t\n\tvar _limitStore2 = _interopRequireDefault(_limitStore);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _bell = __webpack_require__(12);\n\t\n\tvar _bell2 = _interopRequireDefault(_bell);\n\t\n\tvar _database = __webpack_require__(26);\n\t\n\tvar _database2 = _interopRequireDefault(_database);\n\t\n\tvar _bowser = __webpack_require__(13);\n\t\n\tvar Browser = _interopRequireWildcard(_bowser);\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar OneSignal = {\n\t  _VERSION: (\"109039\"),\n\t  _API_URL: _vars.API_URL,\n\t  _app_id: null,\n\t  _tagsToSendOnRegister: null,\n\t  _notificationOpened_callback: null,\n\t  _idsAvailable_callback: [],\n\t  _defaultLaunchURL: null,\n\t  _initOptions: null,\n\t  _httpRegistration: false,\n\t  _main_page_port: null,\n\t  _isNotificationEnabledCallback: [],\n\t  _subscriptionSet: true,\n\t  _initOneSignalHttp: null,\n\t  _sessionIframeAdded: false,\n\t  _useHttpMode: null,\n\t  _windowWidth: 550,\n\t  _windowHeight: 480,\n\t  _isUninitiatedVisitor: false,\n\t  _isNewVisitor: false,\n\t  _isInitialized: false,\n\t  notifyButton: null,\n\t  store: _limitStore2.default,\n\t  environment: _environment2.default,\n\t  database: _database2.default,\n\t  event: _events2.default,\n\t  LOGGING: (false),\n\t  browser: Browser,\n\t  log: _loglevel2.default,\n\t  SERVICE_WORKER_UPDATER_PATH: \"OneSignalSDKUpdaterWorker.js\",\n\t  SERVICE_WORKER_PATH: \"OneSignalSDKWorker.js\",\n\t  SERVICE_WORKER_PARAM: {},\n\t\n\t  /* Event Definitions */\n\t  EVENTS: {\n\t    CUSTOM_PROMPT_CLICKED: 'onesignal.prompt.custom.clicked',\n\t    NATIVE_PROMPT_PERMISSIONCHANGED: 'onesignal.prompt.native.permissionchanged',\n\t    SUBSCRIPTION_CHANGED: 'onesignal.subscription.changed',\n\t    WELCOME_NOTIFICATION_SENT: 'onesignal.actions.welcomenotificationsent',\n\t    INTERNAL_SUBSCRIPTIONSET: 'onesignal.internal.subscriptionset',\n\t    SDK_INITIALIZED: 'onesignal.sdk.initialized'\n\t  },\n\t\n\t  _sendToOneSignalApi: function _sendToOneSignalApi(url, action, inData, callback, failedCallback) {\n\t    _loglevel2.default.debug('Calling ' + action + ' ' + (OneSignal._API_URL + url) + ' with data:', inData);\n\t    var contents = {\n\t      method: action\n\t    };\n\t\n\t    //mode: 'no-cors', // no-cors is disabled for non-serviceworker.\n\t    if (inData) {\n\t      contents.headers = { \"Content-type\": \"application/json;charset=UTF-8\" };\n\t      contents.body = JSON.stringify(inData);\n\t    }\n\t\n\t    fetch(OneSignal._API_URL + url, contents).then(function status(response) {\n\t      if (response.status >= 200 && response.status < 300) return Promise.resolve(response);else return Promise.reject(new Error(response.statusText));\n\t    }).then(function status(response) {\n\t      return response.json();\n\t    }).then(function (jsonData) {\n\t      if (callback != null) callback(jsonData);\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error('OneSignal._sendToOneSignalApi() failed:', e);\n\t      if (failedCallback != null) failedCallback();\n\t    });\n\t  },\n\t\n\t  _getLanguage: function _getLanguage() {\n\t    return navigator.language ? navigator.language.length > 3 ? navigator.language.substring(0, 2) : navigator.language : 'en';\n\t  },\n\t\n\t  _getPlayerId: function _getPlayerId(value, callback) {\n\t    if (value) callback(value);else {\n\t      _database2.default.get('Ids', 'userId').then(function _getPlayerId_gotUserId(result) {\n\t        if (result) callback(result.id);else callback(null);\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t      ;\n\t    }\n\t  },\n\t\n\t  _registerWithOneSignal: function _registerWithOneSignal(appId, registrationId, deviceType) {\n\t\n\t    _database2.default.get('Ids', 'userId').then(function _registerWithOneSignal_GotUserId(userIdResult) {\n\t      OneSignal._getNotificationTypes(function (notif_types) {\n\t        var requestUrl = 'players';\n\t\n\t        var jsonData = {\n\t          app_id: appId,\n\t          device_type: deviceType,\n\t          language: OneSignal._getLanguage(),\n\t          timezone: new Date().getTimezoneOffset() * -60,\n\t          device_model: navigator.platform + \" \" + Browser.name,\n\t          device_os: Browser.version,\n\t          sdk: OneSignal._VERSION\n\t        };\n\t\n\t        if (userIdResult) {\n\t          requestUrl = 'players/' + userIdResult.id + '/on_session';\n\t          jsonData.notification_types = notif_types;\n\t        } else if (notif_types != 1) jsonData.notification_types = notif_types;\n\t\n\t        if (registrationId) {\n\t          jsonData.identifier = registrationId;\n\t          _database2.default.put(\"Ids\", { type: \"registrationId\", id: registrationId });\n\t        }\n\t\n\t        OneSignal._sendToOneSignalApi(requestUrl, 'POST', jsonData, function registeredCallback(responseJSON) {\n\t          sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t\n\t          if (responseJSON.id) {\n\t            _database2.default.put(\"Ids\", { type: \"userId\", id: responseJSON.id });\n\t            OneSignal._sendUnsentTags();\n\t          }\n\t\n\t          OneSignal._getPlayerId(responseJSON.id, function (userId) {\n\t            if (OneSignal._idsAvailable_callback.length > 0) {\n\t              while (OneSignal._idsAvailable_callback.length > 0) {\n\t                var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t                curr_callback({ userId: userId, registrationId: registrationId });\n\t              }\n\t            }\n\t\n\t            if (OneSignal._httpRegistration) {\n\t              // 12/16/2015 -- At this point, the user has just clicked Allow on the HTTP prompt!!\n\t              OneSignal._getNotificationPermission().then(function (permission) {\n\t                _loglevel2.default.debug(\"Sending player Id and registrationId back to host page\");\n\t                _loglevel2.default.debug(OneSignal._initOptions);\n\t                var creator = opener || parent;\n\t                OneSignal._safePostMessage(creator, {\n\t                  idsAvailable: {\n\t                    userId: userId,\n\t                    registrationId: registrationId\n\t                  },\n\t                  from: _environment2.default.getEnv()\n\t                }, OneSignal._initOptions.origin, null);\n\t                OneSignal._safePostMessage(creator, {\n\t                  httpNativePromptPermissionChanged: permission,\n\t                  from: _environment2.default.getEnv()\n\t                }, OneSignal._initOptions.origin, null);\n\t\n\t                if (opener) window.close();\n\t              }).catch(function (e) {\n\t                return _loglevel2.default.error(e);\n\t              });\n\t            }\n\t          });\n\t        });\n\t      });\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  _sendUnsentTags: function _sendUnsentTags() {\n\t    if (OneSignal._tagsToSendOnRegister) {\n\t      OneSignal.sendTags(OneSignal._tagsToSendOnRegister);\n\t      OneSignal._tagsToSendOnRegister = null;\n\t    }\n\t  },\n\t\n\t  setDefaultNotificationUrl: function setDefaultNotificationUrl(url) {\n\t    _database2.default.put(\"Options\", { key: \"defaultUrl\", value: url });\n\t  },\n\t\n\t  setDefaultIcon: function setDefaultIcon(icon) {\n\t    _database2.default.put(\"Options\", { key: \"defaultIcon\", value: icon });\n\t  },\n\t\n\t  setDefaultTitle: function setDefaultTitle(title) {\n\t    _database2.default.put(\"Options\", { key: \"defaultTitle\", value: title });\n\t  },\n\t\n\t  onCustomPromptClicked: function onCustomPromptClicked(event) {\n\t    OneSignal._checkTrigger_eventSubscriptionChanged();\n\t  },\n\t\n\t  onNativePromptChanged: function onNativePromptChanged(event) {\n\t    OneSignal._checkTrigger_eventSubscriptionChanged();\n\t  },\n\t\n\t  _sendSelfNotification: function _sendSelfNotification(title, message, url) {\n\t    if (!title) {\n\t      title = 'OneSignal Test Message';\n\t    }\n\t    if (!message) {\n\t      message = 'This is an example notification.';\n\t    }\n\t    _database2.default.get('Ids', 'userId').then(function (result) {\n\t      if (result && result.id) {\n\t        (0, _api.sendNotification)(OneSignal._app_id, [result.id], { 'en': title }, { 'en': message }, url);\n\t      } else {\n\t        _loglevel2.default.warn('Could not send self a test notification because there is no valid user ID.');\n\t      }\n\t    });\n\t  },\n\t\n\t  _onSubscriptionChanged: function _onSubscriptionChanged(event) {\n\t    if (OneSignal._isUninitiatedVisitor && event.detail === true) {\n\t      _database2.default.get('Ids', 'userId').then(function (result) {\n\t        var welcome_notification_opts = OneSignal._initOptions['welcomeNotification'];\n\t        var welcome_notification_disabled = welcome_notification_opts !== undefined && welcome_notification_opts['disable'] === true;\n\t        var title = welcome_notification_opts !== undefined && welcome_notification_opts['title'] !== undefined && welcome_notification_opts['title'] !== null ? welcome_notification_opts['title'] : '';\n\t        var message = welcome_notification_opts !== undefined && welcome_notification_opts['message'] !== undefined && welcome_notification_opts['message'] !== null && welcome_notification_opts['message'].length > 0 ? welcome_notification_opts['message'] : 'Thanks for subscribing!';\n\t        if (!welcome_notification_disabled) {\n\t          _loglevel2.default.debug('Because this user is a new site visitor, a welcome notification will be sent.');\n\t          var welcomeNotificationUrl = new URL(location.href);\n\t          welcomeNotificationUrl = welcomeNotificationUrl.origin + '?_osp=do_not_open';\n\t          (0, _api.sendNotification)(OneSignal._app_id, [result.id], { 'en': title }, { 'en': message }, welcomeNotificationUrl);\n\t          _events2.default.trigger(OneSignal.EVENTS.WELCOME_NOTIFICATION_SENT, { title: title, message: message });\n\t          OneSignal._isUninitiatedVisitor = false;\n\t        }\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    }\n\t    _limitStore2.default.put('subscription.value', event.detail);\n\t  },\n\t\n\t  _onDbValueRetrieved: function _onDbValueRetrieved(event) {},\n\t\n\t  _onDbValueSet: function _onDbValueSet(event) {\n\t    var info = event.detail;\n\t    if (info.type === 'userId') {\n\t      _limitStore2.default.put('db.ids.userId', info.id);\n\t      OneSignal._checkTrigger_eventSubscriptionChanged();\n\t    }\n\t  },\n\t\n\t  _onInternalSubscriptionSet: function _onInternalSubscriptionSet(event) {\n\t    var newSubscriptionValue = event.detail;\n\t    _limitStore2.default.put('setsubscription.value', newSubscriptionValue);\n\t    OneSignal._checkTrigger_eventSubscriptionChanged();\n\t  },\n\t\n\t  _onSdkInitialized: function _onSdkInitialized() {\n\t    if (!OneSignal._isInitialized && _environment2.default.isBrowser() && !OneSignal.notifyButton) {\n\t      OneSignal._initOptions.notifyButton = OneSignal._initOptions.notifyButton || {};\n\t      if (OneSignal._initOptions.bell) {\n\t        // If both bell and notifyButton, notifyButton's options take precedence\n\t        Object.assign(OneSignal._initOptions.bell, OneSignal._initOptions.notifyButton);\n\t        Object.assign(OneSignal._initOptions.notifyButton, OneSignal._initOptions.bell);\n\t      }\n\t      OneSignal.notifyButton = new _bell2.default(OneSignal._initOptions.notifyButton);\n\t      OneSignal.notifyButton.create();\n\t      OneSignal._isInitialized = true;\n\t    } else if (OneSignal._isInitialized) {\n\t      _loglevel2.default.warn('SDK initialized event occured more than once.');\n\t    }\n\t  },\n\t\n\t  _onDatabaseRebuilt: function _onDatabaseRebuilt() {\n\t    OneSignal._isNewVisitor = true;\n\t  },\n\t\n\t  _checkTrigger_nativePermissionChanged: function _checkTrigger_nativePermissionChanged() {\n\t    OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id).then(function (permission) {\n\t      var currentPermission = permission;\n\t      var lastPermission = _limitStore2.default.getLast('notification.permission');\n\t      if (lastPermission !== currentPermission) {\n\t        OneSignal._triggerEvent_nativePromptPermissionChanged(lastPermission, currentPermission);\n\t      }\n\t    }).catch(function (e) {\n\t      return _loglevel2.default.error(e);\n\t    });\n\t  },\n\t\n\t  _checkTrigger_eventSubscriptionChanged: function _checkTrigger_eventSubscriptionChanged() {\n\t    _loglevel2.default.debug('Called %c_checkTrigger_eventSubscriptionChanged()', (0, _utils.getConsoleStyle)('code'), 'in', _environment2.default.getEnv());\n\t    var permissions = _limitStore2.default.get('notification.permission');\n\t    var lastPermission = permissions[permissions.length - 2];\n\t    var currentPermission = permissions[permissions.length - 1];\n\t    _loglevel2.default.debug('%c_checkTrigger_eventSubscriptionChanged():', (0, _utils.getConsoleStyle)('code'), 'Permissions:', { lastPermission: lastPermission, currentPermission: currentPermission });\n\t\n\t    var ids = _limitStore2.default.get('db.ids.userId');\n\t    var lastId = ids[ids.length - 2];\n\t    var currentId = ids[ids.length - 1];\n\t    _loglevel2.default.debug('%c_checkTrigger_eventSubscriptionChanged():', (0, _utils.getConsoleStyle)('code'), 'Ids:', { lastId: lastId, currentId: currentId });\n\t\n\t    var subscriptionStates = _limitStore2.default.get('setsubscription.value');\n\t    var lastSubscriptionState = subscriptionStates[subscriptionStates.length - 2];\n\t    var currentSubscriptionState = subscriptionStates[subscriptionStates.length - 1];\n\t    _loglevel2.default.debug('%c_checkTrigger_eventSubscriptionChanged():', (0, _utils.getConsoleStyle)('code'), 'Subscriptions:', { lastSubscriptionState: lastSubscriptionState, currentSubscriptionState: currentSubscriptionState });\n\t\n\t    var newSubscriptionState = 'unchanged';\n\t\n\t    if ((lastPermission === 'default' || lastPermission === 'denied' || lastPermission === null) && currentPermission === 'granted' && currentId !== null && currentSubscriptionState === true || lastSubscriptionState === false && currentSubscriptionState === true && currentId != null && currentPermission === 'granted') {\n\t      newSubscriptionState = true;\n\t    }\n\t\n\t    if (lastPermission !== 'denied' && currentPermission === 'denied' || lastPermission === 'granted' && currentPermission !== 'granted' || lastId !== null && currentId === null || lastSubscriptionState !== false && currentSubscriptionState === false) {\n\t      newSubscriptionState = false;\n\t    }\n\t\n\t    if (newSubscriptionState !== \"unchanged\") {\n\t      var lastTriggerTimes = _limitStore2.default.put('event.subscriptionchanged.lastriggered', Date.now());\n\t      var currentTime = lastTriggerTimes[lastTriggerTimes.length - 1];\n\t      var lastTriggerTime = lastTriggerTimes[lastTriggerTimes.length - 2];\n\t      var elapsedTimeSeconds = (currentTime - lastTriggerTime) / 1000;\n\t\n\t      var lastEventStates = _limitStore2.default.put('event.subscriptionchanged.laststates', newSubscriptionState);\n\t      var currentState = lastEventStates[lastEventStates.length - 1];\n\t      var lastState = lastEventStates[lastEventStates.length - 2];\n\t\n\t      // If event already triggered within the last second, don't re-trigger.\n\t      var shouldNotTriggerEvent = lastTriggerTime != null && elapsedTimeSeconds <= 1 || currentState === lastState;\n\t      if (shouldNotTriggerEvent === false) {\n\t        OneSignal._triggerEvent_subscriptionChanged(newSubscriptionState);\n\t      }\n\t    }\n\t  },\n\t\n\t  isPushNotificationsSupported: function isPushNotificationsSupported() {\n\t    return (0, _utils.isPushNotificationsSupported)();\n\t  },\n\t\n\t  _installNativePromptPermissionChangedHook: function _installNativePromptPermissionChangedHook() {\n\t    if (navigator.permissions && !((0, _utils.isBrowserFirefox)() && (0, _utils.getFirefoxVersion)() <= 45)) {\n\t      OneSignal._usingNativePermissionHook = true;\n\t      // If the browser natively supports hooking the subscription prompt permission change event\n\t      //     use it instead of our SDK method\n\t      navigator.permissions.query({ name: 'notifications' }).then(function (permissionStatus) {\n\t        permissionStatus.onchange = function () {\n\t          var permissionBeforePrompt = _limitStore2.default.getFirst('notification.permission');\n\t          OneSignal._triggerEvent_nativePromptPermissionChanged(permissionBeforePrompt);\n\t        };\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    }\n\t  },\n\t\n\t  init: function init(options) {\n\t    _loglevel2.default.debug('Called %cinit(' + JSON.stringify(options, null, 4) + ')', (0, _utils.getConsoleStyle)('code'));\n\t\n\t    if (_environment2.default.isBrowser() && window.localStorage[\"onesignal.debugger.init\"]) {\n\t      debugger;\n\t    }\n\t\n\t    if (OneSignal._isInitialized) {\n\t      _loglevel2.default.warn('OneSignal.init() was called again, but the SDK is already initialized. Skipping initialization.');\n\t      return;\n\t    }\n\t\n\t    OneSignal._initOptions = options;\n\t    OneSignal._app_id = OneSignal._initOptions.appId;\n\t\n\t    if (!(0, _utils.isPushNotificationsSupported)()) {\n\t      _loglevel2.default.warn(\"Your browser does not support push notifications.\");\n\t      return;\n\t    }\n\t\n\t    window.addEventListener(_database2.default.EVENTS.REBUILT, OneSignal._onDatabaseRebuilt);\n\t\n\t    OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id).then(function (permission) {\n\t      _limitStore2.default.put('notification.permission', permission);\n\t      OneSignal._installNativePromptPermissionChangedHook();\n\t\n\t      // Store the current value of Ids:registrationId, so that we can see if the value changes in the future\n\t      return _database2.default.get('Ids', 'userId');\n\t    }).then(function (result) {\n\t      if (result === undefined) {\n\t        OneSignal._isUninitiatedVisitor = true;\n\t      }\n\t      var storeValue = result ? result.id : null;\n\t      _limitStore2.default.put('db.ids.userId', storeValue);\n\t\n\t      // Store the current value of subscription, so that we can see if the value changes in the future\n\t      return OneSignal._getSubscription();\n\t    }).then(function (currentSubscription) {\n\t      _limitStore2.default.put('setsubscription.value', currentSubscription);\n\t      window.addEventListener(OneSignal.EVENTS.CUSTOM_PROMPT_CLICKED, OneSignal.onCustomPromptClicked);\n\t      window.addEventListener(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, OneSignal.onNativePromptChanged);\n\t      window.addEventListener(OneSignal.EVENTS.SUBSCRIPTION_CHANGED, OneSignal._onSubscriptionChanged);\n\t      window.addEventListener(_database2.default.EVENTS.RETRIEVED, OneSignal._onDbValueRetrieved);\n\t      window.addEventListener(_database2.default.EVENTS.SET, OneSignal._onDbValueSet);\n\t      window.addEventListener(OneSignal.EVENTS.INTERNAL_SUBSCRIPTIONSET, OneSignal._onInternalSubscriptionSet);\n\t      window.addEventListener(OneSignal.EVENTS.SDK_INITIALIZED, OneSignal._onSdkInitialized);\n\t      window.addEventListener('focus', function (event) {\n\t        // Checks if permission changed everytime a user focuses on the page, since a user has to click out of and back on the page to check permissions\n\t        OneSignal._checkTrigger_nativePermissionChanged();\n\t      });\n\t\n\t      OneSignal._useHttpMode = !(0, _utils.isSupportedSafari)() && (!OneSignal._supportsDirectPermission() || OneSignal._initOptions.subdomainName);\n\t\n\t      if (OneSignal._useHttpMode) OneSignal._initOneSignalHttp = 'https://' + OneSignal._initOptions.subdomainName + '.onesignal.com/sdks/initOneSignalHttp';else OneSignal._initOneSignalHttp = 'https://onesignal.com/sdks/initOneSignalHttps';\n\t\n\t      if (false) OneSignal._initOneSignalHttp = _vars.DEV_HOST + '/dev_sdks/initOneSignalHttp';\n\t\n\t      // If Safari - add 'fetch' pollyfill if it isn't already added.\n\t      if ((0, _utils.isSupportedSafari)() && typeof window.fetch == \"undefined\") {\n\t        var s = document.createElement('script');\n\t        s.setAttribute('src', \"https://cdnjs.cloudflare.com/ajax/libs/fetch/0.9.0/fetch.js\");\n\t        document.head.appendChild(s);\n\t      }\n\t\n\t      if (document.readyState === \"complete\") OneSignal._internalInit();else window.addEventListener('load', OneSignal._internalInit);\n\t    }).catch(function (e) {\n\t      return _loglevel2.default.error(e);\n\t    });\n\t  },\n\t\n\t  _internalInit: function _internalInit() {\n\t    _loglevel2.default.debug('Called %c_internalInit()', (0, _utils.getConsoleStyle)('code'));\n\t    Promise.all([_database2.default.get('Ids', 'appId'), _database2.default.get('Ids', 'registrationId'), _database2.default.get('Options', 'subscription')]).then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n\t      var appIdResult = result[0];\n\t      var registrationIdResult = result[1];\n\t      var subscriptionResult = result[2];\n\t\n\t      // If AppId changed delete playerId and continue.\n\t      if (appIdResult && appIdResult.id != OneSignal._initOptions.appId) {\n\t        _database2.default.remove(\"Ids\", \"userId\");\n\t        sessionStorage.removeItem(\"ONE_SIGNAL_SESSION\");\n\t      }\n\t\n\t      // HTTPS - Only register for push notifications once per session or if the user changes notification permission to Ask or Allow.\n\t      if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\") && !OneSignal._initOptions.subdomainName && (Notification.permission == \"denied\" || sessionStorage.getItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\") == Notification.permission)) {\n\t        _events2.default.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n\t        return;\n\t      }\n\t\n\t      sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\t\n\t      if (Browser.safari && OneSignal._initOptions.autoRegister === false) {\n\t        _loglevel2.default.debug('On Safari and autoregister is false, skipping sessionInit().');\n\t        _loglevel2.default.debug('Use http mode: ', OneSignal._useHttpMode);\n\t        // This *seems* to trigger on either Safari's autoregister false or Chrome HTTP\n\t        // Chrome HTTP gets an SDK_INITIALIZED event from the iFrame postMessage, so don't call it here\n\t        if (!OneSignal._useHttpMode) {\n\t          _events2.default.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n\t        }\n\t        return;\n\t      }\n\t\n\t      if (OneSignal._initOptions.autoRegister === false && !registrationIdResult && !OneSignal._initOptions.subdomainName) {\n\t        _loglevel2.default.debug('No autoregister, no registration ID, no subdomain > skip _internalInit().');\n\t        _events2.default.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n\t        return;\n\t      }\n\t\n\t      if (document.visibilityState !== \"visible\") {\n\t        (0, _utils.once)(document, 'visibilitychange', function (e, destroyEventListener) {\n\t          if (document.visibilityState === 'visible') {\n\t            destroyEventListener();\n\t            OneSignal._sessionInit({});\n\t          }\n\t        }, true);\n\t        return;\n\t      }\n\t\n\t      _loglevel2.default.debug('Calling _sessionInit() normally from _internalInit().');\n\t      OneSignal._sessionInit({});\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t  },\n\t\n\t  registerForPushNotifications: function registerForPushNotifications(options) {\n\t    if (!(0, _utils.isPushNotificationsSupported)()) {\n\t      _loglevel2.default.warn(\"Your browser does not support push notifications.\");\n\t      return;\n\t    }\n\t    // WARNING: Do NOT add callbacks that have to fire to get from here to window.open in _sessionInit.\n\t    //          Otherwise the pop-up to ask for push permission on HTTP connections will be blocked by Chrome.\n\t    if (!options) options = {};\n\t    options.fromRegisterFor = true;\n\t    OneSignal._sessionInit(options);\n\t  },\n\t\n\t  // Http only - Only called from iframe's init.js\n\t  _initHttp: function _initHttp(options) {\n\t    _loglevel2.default.debug('Called %c _initHttp', (0, _utils.getConsoleStyle)('code'));\n\t    OneSignal._initOptions = options;\n\t\n\t    OneSignal._installNativePromptPermissionChangedHook();\n\t    if (options.continuePressed) {\n\t      OneSignal.setSubscription(true);\n\t    }\n\t\n\t    var isIframe = parent != null && parent != window;\n\t    var creator = opener || parent;\n\t\n\t    if (!creator) {\n\t      _loglevel2.default.error('_initHttp (from <iframe>):', 'No opener or parent found!');\n\t      return;\n\t    }\n\t    // Setting up message channel to receive message from host page.\n\t    var messageChannel = new MessageChannel();\n\t    messageChannel.port1.onmessage = function (event) {\n\t      _loglevel2.default.debug('%c' + _environment2.default.getEnv().capitalize() + '  ' + event.data.from.capitalize() + ':', (0, _utils.getConsoleStyle)('postmessage'), event.data);\n\t\n\t      if (event.data.initOptions) {\n\t        OneSignal.setDefaultNotificationUrl(event.data.initOptions.defaultUrl);\n\t        OneSignal.setDefaultTitle(event.data.initOptions.defaultTitle);\n\t        if (event.data.initOptions.defaultIcon) OneSignal.setDefaultIcon(event.data.initOptions.defaultIcon);\n\t\n\t        _database2.default.get(\"NotificationOpened\", event.data.initOptions.parent_url).then(function registerForPushNotifications_GotNotificationOpened(notificationOpenedResult) {\n\t          if (notificationOpenedResult) {\n\t            _database2.default.remove(\"NotificationOpened\", event.data.initOptions.parent_url);\n\t            _loglevel2.default.debug(\"OneSignal._safePostMessage:targetOrigin:\", OneSignal._initOptions.origin);\n\t\n\t            OneSignal._safePostMessage(creator, { openedNotification: notificationOpenedResult.data, from: _environment2.default.getEnv() }, OneSignal._initOptions.origin, null);\n\t          }\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t        });\n\t        ;\n\t      } else if (event.data.getNotificationPermission) {\n\t        // This is not used for OneSignal._getNotificationPermission, even though the naming is similar\n\t        //log.info('%cIn the <iframe>: getNotificationPermission message was received.', getConsoleStyle('alert'));\n\t        OneSignal._getSubdomainState(function (curState) {\n\t          OneSignal._safePostMessage(creator, { currentNotificationPermission: curState, from: _environment2.default.getEnv() }, OneSignal._initOptions.origin, null);\n\t        });\n\t      } else if (event.data.remoteGetNotificationPermission) {\n\t        (function () {\n\t          var safariWebId = event.data.safariWebId;\n\t          var promiseId = event.data.promiseId;\n\t          OneSignal._getNotificationPermission(safariWebId).then(function (permission) {\n\t            OneSignal._safePostMessage(creator, { remoteGetNotificationPermissionResponse: permission, promiseId: promiseId, from: _environment2.default.getEnv() }, OneSignal._initOptions.origin, null);\n\t          }).catch(function (e) {\n\t            return _loglevel2.default.error(e);\n\t          });\n\t        })();\n\t      } else if (event.data.setSubdomainState) {\n\t        (function () {\n\t          var promiseId = event.data.promiseId;\n\t          OneSignal.setSubscription(event.data.setSubdomainState.setSubscription).then(function () {\n\t            // Let main page know setSubscription is complete so promise can be fulfilled\n\t            OneSignal._safePostMessage(creator, { setSubscriptionComplete: true, from: _environment2.default.getEnv(), promiseId: promiseId }, OneSignal._initOptions.origin, null);\n\t          }).catch(function () {\n\t            OneSignal._safePostMessage(creator, { setSubscriptionComplete: false, from: _environment2.default.getEnv(), promiseId: promiseId }, OneSignal._initOptions.origin, null);\n\t          });\n\t        })();\n\t      }\n\t    };\n\t\n\t    OneSignal._getSubdomainState(function (curState) {\n\t      curState[\"isIframe\"] = isIframe;\n\t      OneSignal._safePostMessage(creator, { oneSignalInitPageReady: curState, from: _environment2.default.getEnv() }, OneSignal._initOptions.origin, [messageChannel.port2]);\n\t    });\n\t\n\t    OneSignal._initSaveState();\n\t    OneSignal._httpRegistration = true;\n\t    if (location.search.indexOf(\"?session=true\") == 0) return;\n\t\n\t    OneSignal._getPlayerId(null, function (player_id) {\n\t      if (!isIframe || player_id) {\n\t        navigator.serviceWorker.register(OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\t      }\n\t    });\n\t  },\n\t\n\t  _getSubdomainState: function _getSubdomainState(callback) {\n\t    var state = {};\n\t\n\t    Promise.all([_database2.default.get('Ids', 'userId'), _database2.default.get('Ids', 'registrationId'), _database2.default.get('Options', 'subscription')]).then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n\t      var userIdResult = result[0];\n\t      var registrationIdResult = result[1];\n\t      var subscriptionResult = result[2];\n\t\n\t      callback({\n\t        userId: userIdResult ? userIdResult.id : null,\n\t        registrationId: registrationIdResult ? registrationIdResult.id : null,\n\t        notifPermssion: Notification.permission,\n\t        subscriptionSet: subscriptionResult ? subscriptionResult.value : null,\n\t        isPushEnabled: Notification.permission == \"granted\" && userIdResult && registrationIdResult && (subscriptionResult && subscriptionResult.value || subscriptionResult == null)\n\t      });\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  _initSaveState: function _initSaveState() {\n\t    OneSignal._app_id = OneSignal._initOptions.appId;\n\t    _database2.default.put(\"Ids\", { type: \"appId\", id: OneSignal._app_id });\n\t    _database2.default.put(\"Options\", { key: \"pageTitle\", value: document.title });\n\t  },\n\t\n\t  _supportsDirectPermission: function _supportsDirectPermission() {\n\t    return (0, _utils.isSupportedSafari)() || location.protocol == 'https:' || location.host.indexOf(\"localhost\") == 0 || location.host.indexOf(\"127.0.0.1\") == 0;\n\t  },\n\t\n\t  _getPromptOptionsQueryString: function _getPromptOptionsQueryString() {\n\t    var message_localization_opts = OneSignal._initOptions['promptOptions'];\n\t    var message_localization_opts_str = '';\n\t    if (message_localization_opts) {\n\t      var message_localization_params = ['actionMessage', 'exampleNotificationTitleDesktop', 'exampleNotificationMessageDesktop', 'exampleNotificationTitleMobile', 'exampleNotificationMessageMobile', 'exampleNotificationCaption', 'acceptButtonText', 'cancelButtonText', 'showCredit'];\n\t      for (var i = 0; i < message_localization_params.length; i++) {\n\t        var key = message_localization_params[i];\n\t        var value = message_localization_opts[key];\n\t        var encoded_value = encodeURIComponent(value);\n\t        if (value || value === false || value === '') {\n\t          message_localization_opts_str += '&' + key + '=' + encoded_value;\n\t        }\n\t      }\n\t    }\n\t    return message_localization_opts_str;\n\t  },\n\t\n\t  _sessionInit: function _sessionInit(options) {\n\t    _loglevel2.default.debug('Called %c_sessionInit(' + JSON.stringify(options) + ')', (0, _utils.getConsoleStyle)('code'));\n\t    OneSignal._initSaveState();\n\t\n\t    var hostPageProtocol = location.origin.match(/^http(s|):\\/\\/(www\\.|)/)[0];\n\t\n\t    // If HTTP or using subdomain mode\n\t    if (OneSignal._useHttpMode) {\n\t      if (options.fromRegisterFor) {\n\t        var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;\n\t        var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;\n\t\n\t        var thisWidth = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n\t        var thisHeight = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\t        var childWidth = OneSignal._windowWidth;\n\t        var childHeight = OneSignal._windowHeight;\n\t\n\t        var left = thisWidth / 2 - childWidth / 2 + dualScreenLeft;\n\t        var top = thisHeight / 2 - childHeight / 2 + dualScreenTop;\n\t\n\t        _loglevel2.default.debug('Opening popup window.');\n\t        var message_localization_opts_str = OneSignal._getPromptOptionsQueryString();\n\t        var childWindow = window.open(OneSignal._initOneSignalHttp + \"?\" + message_localization_opts_str + \"&hostPageProtocol=\" + hostPageProtocol, \"_blank\", 'scrollbars=yes, width=' + childWidth + ', height=' + childHeight + ', top=' + top + ', left=' + left);\n\t\n\t        if (childWindow) childWindow.focus();\n\t      } else {\n\t        OneSignal._addSessionIframe(hostPageProtocol);\n\t      }\n\t    } else {\n\t      if ((0, _utils.isSupportedSafari)()) {\n\t        if (OneSignal._initOptions.safari_web_id) {\n\t          OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id).then(function (permission) {\n\t            window.safari.pushNotification.requestPermission(OneSignal._API_URL + 'safari', OneSignal._initOptions.safari_web_id, { app_id: OneSignal._app_id }, function (data) {\n\t              _loglevel2.default.info('Safari requestPermission() callback:', data);\n\t              var notificationPermissionAfterRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n\t              if (data.deviceToken) {\n\t                OneSignal._registerWithOneSignal(OneSignal._app_id, data.deviceToken.toLowerCase(), 7);\n\t              } else {\n\t                sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t              }\n\t              OneSignal._triggerEvent_nativePromptPermissionChanged(permission);\n\t            });\n\t          }).catch(function (e) {\n\t            return _loglevel2.default.error(e);\n\t          });\n\t        }\n\t      } else if (options.modalPrompt && options.fromRegisterFor) {\n\t        // If HTTPS - Show modal\n\t        if (!(0, _utils.isPushNotificationsSupported)()) {\n\t          _loglevel2.default.warn('An attempt was made to open the HTTPS modal permission prompt, but push notifications are not supported on this browser. Opening canceled.');\n\t          return;\n\t        }\n\t        OneSignal.isPushNotificationsEnabled(function (pushEnabled) {\n\t          var element = document.createElement('div');\n\t          element.setAttribute('id', 'OneSignal-iframe-modal');\n\t          element.innerHTML = '<div id=\"notif-permission\" style=\"background: rgba(0, 0, 0, 0.7); position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 3000000000; display: block\"></div>';\n\t          document.body.appendChild(element);\n\t\n\t          var iframeStyle = document.createElement('style');\n\t          iframeStyle.innerHTML = \"@media (max-width: 560px) { .OneSignal-permission-iframe { width: 100%; height: 100%;} }\" + \"@media (min-width: 561px) { .OneSignal-permission-iframe { top: 50%; left: 50%; margin-left: -275px; margin-top: -248px;} }\";\n\t          document.getElementsByTagName('head')[0].appendChild(iframeStyle);\n\t\n\t          var message_localization_opts_str = OneSignal._getPromptOptionsQueryString();\n\t\n\t          var iframeNode = document.createElement(\"iframe\");\n\t          iframeNode.className = \"OneSignal-permission-iframe\";\n\t          iframeNode.style.cssText = \"background: rgba(255, 255, 255, 1); position: fixed;\";\n\t          iframeNode.src = OneSignal._initOneSignalHttp + '?' + message_localization_opts_str + '&id=' + OneSignal._app_id + '&httpsPrompt=true' + '&pushEnabled=' + pushEnabled + '&permissionBlocked=' + (typeof Notification === \"undefined\" || Notification.permission == \"denied\") + '&hostPageProtocol=' + hostPageProtocol;\n\t          iframeNode.setAttribute('frameborder', '0');\n\t          iframeNode.width = OneSignal._windowWidth.toString();\n\t          iframeNode.height = OneSignal._windowHeight.toString();\n\t\n\t          _loglevel2.default.debug('Opening HTTPS modal prompt.');\n\t          document.getElementById(\"notif-permission\").appendChild(iframeNode);\n\t        });\n\t      } else if ('serviceWorker' in navigator) // If HTTPS - Show native prompt\n\t        OneSignal._registerForW3CPush(options);else _loglevel2.default.debug('Service workers are not supported in this browser.');\n\t\n\t      _events2.default.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n\t    }\n\t  },\n\t\n\t  _registerForW3CPush: function _registerForW3CPush(options) {\n\t\n\t    _database2.default.get('Ids', 'registrationId').then(function _registerForW3CPush_GotRegistrationId(registrationIdResult) {\n\t      if (!registrationIdResult || !options.fromRegisterFor || Notification.permission != \"granted\") {\n\t        navigator.serviceWorker.getRegistration().then(function (serviceWorkerRegistration) {\n\t          var sw_path = \"\";\n\t\n\t          if (OneSignal._initOptions.path) sw_path = OneSignal._initOptions.path;\n\t\n\t          if (typeof serviceWorkerRegistration === \"undefined\") // Nothing registered, very first run\n\t            OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);else {\n\t            if (serviceWorkerRegistration.active) {\n\t              if (serviceWorkerRegistration.active.scriptURL.indexOf(sw_path + OneSignal.SERVICE_WORKER_PATH) > -1) {\n\t\n\t                _database2.default.get('Ids', 'WORKER1_ONE_SIGNAL_SW_VERSION').then(function (versionResult) {\n\t                  if (versionResult) {\n\t                    if (versionResult.id != OneSignal._VERSION) OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);else OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n\t                  } else OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n\t                }).catch(function (e) {\n\t                  _loglevel2.default.error(e);\n\t                });\n\t              } else if (serviceWorkerRegistration.active.scriptURL.indexOf(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH) > -1) {\n\t\n\t                _database2.default.get('Ids', 'WORKER2_ONE_SIGNAL_SW_VERSION').then(function (versionResult) {\n\t                  if (versionResult) {\n\t                    if (versionResult.id != OneSignal._VERSION) OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);else OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n\t                  } else OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n\t                }).catch(function (e) {\n\t                  _loglevel2.default.error(e);\n\t                });\n\t              }\n\t            } else if (serviceWorkerRegistration.installing == null) OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n\t          }\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t        });\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  _registerServiceWorker: function _registerServiceWorker(full_sw_and_path) {\n\t    navigator.serviceWorker.register(full_sw_and_path, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n\t  },\n\t\n\t  _addSessionIframe: function _addSessionIframe(hostPageProtocol) {\n\t    _loglevel2.default.debug('Called %c_addSessionIframe(' + JSON.stringify(hostPageProtocol, null, 4) + ')', (0, _utils.getConsoleStyle)('code'));\n\t\n\t    var node = document.createElement(\"iframe\");\n\t    node.style.display = \"none\";\n\t    node.src = OneSignal._initOneSignalHttp + \"Iframe\";\n\t    if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\")) node.src += \"?session=true\" + \"&hostPageProtocol=\" + hostPageProtocol;else node.src += \"?hostPageProtocol=\" + hostPageProtocol;\n\t    document.body.appendChild(node);\n\t\n\t    OneSignal._sessionIframeAdded = true;\n\t  },\n\t\n\t  _registerError: function _registerError(err) {\n\t    _loglevel2.default.error(\"ServiceWorker registration\", err);\n\t  },\n\t\n\t  _enableNotifications: function _enableNotifications(existingServiceWorkerRegistration) {\n\t    // is ServiceWorkerRegistration type\n\t    if (existingServiceWorkerRegistration) _loglevel2.default.debug('An older ServiceWorker exists:', existingServiceWorkerRegistration);\n\t    if (!('PushManager' in window)) {\n\t      _loglevel2.default.error(\"Push messaging is not supported. No PushManager.\");\n\t      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t      return;\n\t    }\n\t\n\t    if (!('showNotification' in ServiceWorkerRegistration.prototype)) {\n\t      _loglevel2.default.error(\"Notifications are not supported. showNotification not available in ServiceWorkerRegistration.\");\n\t      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t      return;\n\t    }\n\t\n\t    if (Notification.permission === 'denied') {\n\t      _loglevel2.default.warn(\"The user has disabled notifications.\");\n\t      return;\n\t    }\n\t\n\t    navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {\n\t      _loglevel2.default.info('Service worker now active:', serviceWorkerRegistration);\n\t\n\t      OneSignal._subscribeForPush(serviceWorkerRegistration);\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  /*\n\t   Returns the current browser-agnostic notification permission as \"default\", \"granted\", \"denied\".\n\t   safariWebId: Used only to get the current notification permission state in Safari (required as part of the spec).\n\t   */\n\t  _getNotificationPermission: function _getNotificationPermission(safariWebId) {\n\t    /*\n\t     For the following conditions, get directly and return:\n\t     - Safari, because the permission property is not scoped by origin\n\t     - HTTPS without a subdomain, because the permission is then accessed directly\n\t      Otherwise use a postmessage for:\n\t     - HTTP, this one is obvious\n\t     - HTTPS with a subdomain, when someone wants to consolidate multiple HTTPS sites under a subdomain\n\t     */\n\t    return new Promise(function (resolve, reject) {\n\t      var isHttpsProtocol = location.protocol === 'https:';\n\t      var noSubdomain = !OneSignal._useHttpMode;\n\t      if (Browser.safari || isHttpsProtocol && noSubdomain) {\n\t        if (window.safari) {\n\t          // The user is on Safari\n\t          // A web ID is required to determine the current notificiation permission\n\t          if (safariWebId) {\n\t            resolve(window.safari.pushNotification.permission(safariWebId).permission);\n\t          } else {\n\t            // The user didn't set up Safari web push properly; notifications are unlikely to be enabled\n\t            resolve(\"default\");\n\t          }\n\t        } else {\n\t          // Identical API on Firefox and Chrome\n\t          resolve(Notification.permission);\n\t        }\n\t      } else {\n\t        var uid = (0, _utils.guid)();\n\t        _limitStore2.default.put('_getNotificationPermissionPromiseResolve.' + uid, resolve);\n\t        if (OneSignal._iframePort) {\n\t          OneSignal._iframePort.postMessage({ remoteGetNotificationPermission: true, safariWebId: safariWebId, promiseId: uid, from: _environment2.default.getEnv() });\n\t          // This promise will eventually be resolved by _listener_receiveMessage\n\t        } else {\n\t            // This entire function was called before an iFrame port is even available\n\t            resolve(\"default\");\n\t          }\n\t      }\n\t    });\n\t  },\n\t\n\t  _triggerEvent_customPromptClicked: function _triggerEvent_customPromptClicked(clickResult) {\n\t    var recentPermissions = _limitStore2.default.put('prompt.custom.permission', clickResult);\n\t    _events2.default.trigger(OneSignal.EVENTS.CUSTOM_PROMPT_CLICKED, {\n\t      result: clickResult\n\t    });\n\t  },\n\t\n\t  _triggerEvent_nativePromptPermissionChanged: function _triggerEvent_nativePromptPermissionChanged(from, to) {\n\t    var updateIfIdentical = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n\t\n\t    if (to === undefined) {\n\t      var promise = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id).then(function (permission) {\n\t        to = permission;\n\t      }).catch(function (e) {\n\t        return _loglevel2.default.error(e);\n\t      });\n\t    } else {\n\t      var promise = Promise.resolve();\n\t    }\n\t    promise.then(function () {\n\t      if (from !== to || updateIfIdentical) {\n\t        var recentPermissions = _limitStore2.default.put('notification.permission', to);\n\t        _events2.default.trigger(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, {\n\t          from: from,\n\t          to: to\n\t        });\n\t      }\n\t    });\n\t  },\n\t\n\t  _triggerEvent_subscriptionChanged: function _triggerEvent_subscriptionChanged(to) {\n\t    _events2.default.trigger(OneSignal.EVENTS.SUBSCRIPTION_CHANGED, to);\n\t  },\n\t\n\t  _triggerEvent_dbValueRetrieved: function _triggerEvent_dbValueRetrieved(value) {\n\t    _events2.default.trigger(_database2.default.EVENTS.RETRIEVED, value);\n\t  },\n\t\n\t  _triggerEvent_dbValueSet: function _triggerEvent_dbValueSet(value) {\n\t    _events2.default.trigger(_database2.default.EVENTS.SET, value);\n\t  },\n\t\n\t  _triggerEvent_internalSubscriptionSet: function _triggerEvent_internalSubscriptionSet(value) {\n\t    _events2.default.trigger(OneSignal.EVENTS.INTERNAL_SUBSCRIPTIONSET, value);\n\t  },\n\t\n\t  _subscribeForPush: function _subscribeForPush(serviceWorkerRegistration) {\n\t    var notificationPermissionBeforeRequest = '';\n\t\n\t    OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id).then(function (permission) {\n\t      notificationPermissionBeforeRequest = permission;\n\t    }).then(function () {\n\t      return serviceWorkerRegistration.pushManager.subscribe({ userVisibleOnly: true });\n\t    }).then(function (subscription) {\n\t      sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\t\n\t      _database2.default.get('Ids', 'appId').then(function _subscribeForPush_GotAppId(appIdResult) {\n\t        var appId = appIdResult.id;\n\t        _loglevel2.default.debug(\"Called OneSignal._subscribeForPush() -> serviceWorkerRegistration.pushManager.subscribe().\");\n\t\n\t        var registrationId = null;\n\t        if (subscription) {\n\t          if (typeof subscription.subscriptionId != \"undefined\") // Chrome 43 & 42\n\t            registrationId = subscription.subscriptionId;else // Chrome 44+ and FireFox\n\t            registrationId = subscription.endpoint.replace(new RegExp(\"^(https://android.googleapis.com/gcm/send/|https://updates.push.services.mozilla.com/push/)\"), \"\");\n\t        } else _loglevel2.default.warn('Could not subscribe your browser for push notifications.');\n\t\n\t        OneSignal._registerWithOneSignal(appId, registrationId, (0, _utils.isSupportedFireFox)() ? 8 : 5);\n\t\n\t        if (!OneSignal._usingNativePermissionHook) {\n\t          OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n\t        }\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error('Error while subscribing for push:', e);\n\t\n\t      // New addition (12/22/2015), adding support for detecting the cancel 'X'\n\t      // Chrome doesn't show when the user clicked 'X' for cancel\n\t      // We get the same error as if the user had clicked denied, but we can check Notification.permission to see if it is still 'default'\n\t      OneSignal._getNotificationPermission().then(function (permission) {\n\t        if (permission === 'default') {\n\t          // The user clicked 'X'\n\t          OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest, permission, true);\n\t        }\n\t\n\t        if (!OneSignal._usingNativePermissionHook) OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest, permission);\n\t\n\t        if (e.code == 20 && opener && OneSignal._httpRegistration) window.close();\n\t      }).catch(function (e) {\n\t        return _loglevel2.default.error(e);\n\t      });\n\t    });\n\t  },\n\t\n\t  sendTag: function sendTag(key, value) {\n\t    var jsonKeyValue = {};\n\t    jsonKeyValue[key] = value;\n\t    OneSignal.sendTags(jsonKeyValue);\n\t  },\n\t\n\t  sendTags: function sendTags(jsonPair) {\n\t    _database2.default.get('Ids', 'userId').then(function sendTags_GotUserId(userIdResult) {\n\t      if (userIdResult) OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, \"PUT\", {\n\t        app_id: OneSignal._app_id,\n\t        tags: jsonPair\n\t      });else {\n\t        if (OneSignal._tagsToSendOnRegister == null) OneSignal._tagsToSendOnRegister = jsonPair;else {\n\t          var resultObj = {};\n\t          for (var _obj in OneSignal._tagsToSendOnRegister) {\n\t            resultObj[_obj] = OneSignal._tagsToSendOnRegister[_obj];\n\t          }for (var _obj in jsonPair) {\n\t            resultObj[_obj] = jsonPair[_obj];\n\t          }OneSignal._tagsToSendOnRegister = resultObj;\n\t        }\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error('sendTags:', e);\n\t    });\n\t  },\n\t\n\t  deleteTag: function deleteTag(key) {\n\t    OneSignal.deleteTags([key]);\n\t  },\n\t\n\t  deleteTags: function deleteTags(keyArray) {\n\t    var jsonPair = {};\n\t    var length = keyArray.length;\n\t    for (var i = 0; i < length; i++) {\n\t      jsonPair[keyArray[i]] = \"\";\n\t    }OneSignal.sendTags(jsonPair);\n\t  },\n\t\n\t  _handleNotificationOpened: function _handleNotificationOpened(event) {\n\t    var notificationData = JSON.parse(event.notification.tag);\n\t    event.notification.close();\n\t\n\t    Promise.all([_database2.default.get('Ids', 'appId'), _database2.default.get('Ids', 'userId')]).then(function _handleNotificationOpened_GotAppUserIds(results) {\n\t      var appIdResult = results[0];\n\t      var userIdResult = results[1];\n\t      if (appIdResult && userIdResult) {\n\t        OneSignal._sendToOneSignalApi(\"notifications/\" + notificationData.id, \"PUT\", {\n\t          app_id: appIdResult.id,\n\t          player_id: userIdResult.id,\n\t          opened: true\n\t        });\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t\n\t    event.waitUntil(clients.matchAll({ type: \"window\" }).then(function (clientList) {\n\t      var launchURL = registration.scope;\n\t      if (OneSignal._defaultLaunchURL) launchURL = OneSignal._defaultLaunchURL;\n\t      if (notificationData.launchURL) launchURL = notificationData.launchURL;\n\t\n\t      for (var i = 0; i < clientList.length; i++) {\n\t        var client = clientList[i];\n\t        if ('focus' in client && client.url == launchURL) {\n\t          client.focus();\n\t\n\t          // targetOrigin not valid here as the service worker owns the page.\n\t          client.postMessage(notificationData);\n\t          return;\n\t        }\n\t      }\n\t\n\t      if (launchURL !== 'javascript:void(0);' && launchURL !== 'do_not_open') {\n\t        _database2.default.put(\"NotificationOpened\", { url: launchURL, data: notificationData });\n\t        clients.openWindow(launchURL).catch(function (error) {\n\t          // Should only fall into here if going to an external URL on Chrome older than 43.\n\t          clients.openWindow(registration.scope + \"redirector.html?url=\" + launchURL);\n\t        });\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    }));\n\t  },\n\t\n\t  // HTTP & HTTPS - Runs on main page (receives events from iframe / popup)\n\t  _listener_receiveMessage: function receiveMessage(event) {\n\t    if (event.data.from) {\n\t      var from = event.data.from.capitalize();\n\t    } else {\n\t      var from = 'IFrame/Popup';\n\t    }\n\t    _loglevel2.default.debug('%c' + _environment2.default.getEnv().capitalize() + '  ' + from + ':', (0, _utils.getConsoleStyle)('postmessage'), event.data);\n\t\n\t    if (OneSignal._initOptions == undefined) return;\n\t\n\t    if (!(false) && event.origin !== \"\" && event.origin !== \"https://onesignal.com\" && event.origin !== \"https://\" + OneSignal._initOptions.subdomainName + \".onesignal.com\") return;\n\t\n\t    if (event.data.oneSignalInitPageReady) {\n\t      // Only called on HTTP pages.\n\t      var eventData = event.data.oneSignalInitPageReady;\n\t\n\t      if (eventData.isIframe) {\n\t        OneSignal._iframePort = event.ports[0];\n\t      }\n\t\n\t      if (eventData.userId) _database2.default.put(\"Ids\", { type: \"userId\", id: eventData.userId });\n\t      if (eventData.registrationId) _database2.default.put(\"Ids\", { type: \"registrationId\", id: eventData.registrationId });\n\t\n\t      OneSignal._fireNotificationEnabledCallback(eventData.isPushEnabled);\n\t      OneSignal._sendUnsentTags();\n\t\n\t      _database2.default.get(\"Options\").then(function _listener_receiveMessage(options) {\n\t        if (!options.defaultUrl) options.defaultUrl = document.URL;\n\t        if (!options.defaultTitle) options.defaultTitle = document.title;\n\t\n\t        options.parent_url = document.URL;\n\t        event.ports[0].postMessage({ initOptions: options, from: _environment2.default.getEnv() });\n\t\n\t        // For HTTP sites, only now is the SDK initialized and able to communicate with the iframe\n\t        _events2.default.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error('_listener_receiveMessage:', e);\n\t      });\n\t    } else if (event.data.currentNotificationPermission) {\n\t      // Subdomain Only\n\t      OneSignal._fireNotificationEnabledCallback(event.data.currentNotificationPermission.isPushEnabled);\n\t    } else if (event.data.remoteGetNotificationPermissionResponse) {\n\t      var permission = event.data.remoteGetNotificationPermissionResponse;\n\t      var promiseId = event.data.promiseId;\n\t      var promiseResolve = _limitStore2.default.getLast('_getNotificationPermissionPromiseResolve.' + promiseId);\n\t      if (!promiseResolve) {\n\t        _loglevel2.default.warn('When _getNotificationPermission() was previously called, no Promise was stored to be called back now.');\n\t      } else {\n\t        _limitStore2.default.remove('_getNotificationPermissionPromiseResolve.' + promiseId);\n\t        promiseResolve(permission);\n\t      }\n\t    } else if (event.data.setSubscriptionComplete) {\n\t      // Subdomain to Host page notifying setSubscription(trueOrFalse) is complete\n\t      var promiseId = event.data.promiseId;\n\t      var promiseResolve = _limitStore2.default.getLast('setSubscriptionPromiseResolve.' + promiseId);\n\t      if (!promiseResolve) {\n\t        _loglevel2.default.warn('When setSubscription() was previously called, no Promise was stored to be called back now.');\n\t      } else {\n\t        _limitStore2.default.remove('setSubscriptionPromiseResolve.' + promiseId);\n\t        promiseResolve();\n\t      }\n\t    } else if (event.data.remoteEvent) {\n\t      // Subdomain to Host page notifying setSubscription(trueOrFalse) is complete\n\t      var name = event.data.remoteEvent;\n\t      var data = event.data.remoteEventData;\n\t      var remoteTriggerEnv = event.data.from;\n\t      if (!name || data === undefined) {\n\t        _loglevel2.default.warn('Received an event back from postMessage, but it was undefined!');\n\t      } else {\n\t        _events2.default.trigger(name, data, remoteTriggerEnv);\n\t      }\n\t    } else if (event.data.idsAvailable) {\n\t      // Only called on HTTP pages.\n\t      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\t      _database2.default.put(\"Ids\", { type: \"userId\", id: event.data.idsAvailable.userId });\n\t      _database2.default.put(\"Ids\", { type: \"registrationId\", id: event.data.idsAvailable.registrationId });\n\t\n\t      if (OneSignal._idsAvailable_callback.length > 0) {\n\t        while (OneSignal._idsAvailable_callback.length > 0) {\n\t          var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t          curr_callback({\n\t            userId: event.data.idsAvailable.userId,\n\t            registrationId: event.data.idsAvailable.registrationId\n\t          });\n\t        }\n\t      }\n\t      OneSignal._sendUnsentTags();\n\t    } else if (event.data.httpsPromptAccepted) {\n\t      // HTTPS Only\n\t      OneSignal.registerForPushNotifications();\n\t      OneSignal.setSubscription(true);\n\t      var elem = document.getElementById('OneSignal-iframe-modal');\n\t      elem.parentNode.removeChild(elem);\n\t      OneSignal._triggerEvent_customPromptClicked('granted');\n\t    } else if (event.data.httpsPromptCanceled) {\n\t      // HTTPS Only\n\t      var elem = document.getElementById('OneSignal-iframe-modal');\n\t      elem.parentNode.removeChild(elem);\n\t      OneSignal._triggerEvent_customPromptClicked('denied');\n\t    } else if (event.data.httpPromptAccepted) {\n\t      // HTTP Only\n\t      OneSignal._triggerEvent_customPromptClicked('granted');\n\t    } else if (event.data.httpPromptCanceled) {\n\t      // HTTP Only\n\t      OneSignal._triggerEvent_customPromptClicked('denied');\n\t    } else if (event.data.httpNativePromptPermissionChanged) {\n\t      var recentPermissions = _limitStore2.default.get('notification.permission');\n\t      var permissionBeforePrompt = recentPermissions[0];\n\t      OneSignal._triggerEvent_nativePromptPermissionChanged(permissionBeforePrompt, event.data.httpNativePromptPermissionChanged);\n\t    } else if (OneSignal._notificationOpened_callback) {\n\t      // HTTP and HTTPS\n\t      OneSignal._notificationOpened_callback(event.data);\n\t    }\n\t  },\n\t\n\t  addListenerForNotificationOpened: function addListenerForNotificationOpened(callback) {\n\t    OneSignal._notificationOpened_callback = callback;\n\t    if (window) {\n\t      _database2.default.get(\"NotificationOpened\", document.URL).then(function (notificationOpenedResult) {\n\t        if (notificationOpenedResult) {\n\t          _database2.default.remove(\"NotificationOpened\", document.URL);\n\t          OneSignal._notificationOpened_callback(notificationOpenedResult.data);\n\t        }\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t      });\n\t      ;\n\t    }\n\t  },\n\t\n\t  // Subdomain - Fired from message received from iframe.\n\t  _fireNotificationEnabledCallback: function _fireNotificationEnabledCallback(newNotificationPermission) {\n\t    if (OneSignal._isNotificationEnabledCallback) {\n\t      while (OneSignal._isNotificationEnabledCallback.length > 0) {\n\t        var callback = OneSignal._isNotificationEnabledCallback.pop();\n\t        callback(newNotificationPermission);\n\t      }\n\t    }\n\t  },\n\t\n\t  getIdsAvailable: function getIdsAvailable(callback) {\n\t    if (callback === undefined) return;\n\t\n\t    OneSignal._idsAvailable_callback.push(callback);\n\t\n\t    Promise.all([_database2.default.get('Ids', 'userId'), _database2.default.get('Ids', 'registrationId')]).then(function getIdsAvailable_GotUserRegistrationIds(results) {\n\t      var userIdResult = results[0];\n\t      var registrationIdResult = results[1];\n\t\n\t      if (userIdResult) {\n\t        if (registrationIdResult) {\n\t          while (OneSignal._idsAvailable_callback.length > 0) {\n\t            var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t            curr_callback({\n\t              userId: userIdResult.id,\n\t              registrationId: registrationIdResult.id\n\t            });\n\t          }\n\t        } else while (OneSignal._idsAvailable_callback.length > 0) {\n\t          var curr_callback = OneSignal._idsAvailable_callback.pop();\n\t          curr_callback({ userId: userIdResult.id, registrationId: null });\n\t        }\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  getTags: function getTags(callback) {\n\t    _database2.default.get('Ids', 'userId').then(function (userIdResult) {\n\t      if (userIdResult) {\n\t        OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, 'GET', null, function (response) {\n\t          callback(response.tags);\n\t        });\n\t      }\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t    ;\n\t  },\n\t\n\t  isPushNotificationsEnabled: function isPushNotificationsEnabled(callback) {\n\t    if (!(0, _utils.isPushNotificationsSupported)()) {\n\t      _loglevel2.default.warn(\"Your browser does not support push notifications.\");\n\t      return;\n\t    }\n\t\n\t    // If Subdomain\n\t    if (OneSignal._initOptions.subdomainName && !(0, _utils.isBrowserSafari)()) {\n\t      OneSignal._isNotificationEnabledCallback.push(callback);\n\t      if (OneSignal._iframePort) {\n\t        OneSignal._iframePort.postMessage({ getNotificationPermission: true, from: _environment2.default.getEnv() });\n\t      }\n\t      return;\n\t    }\n\t\n\t    // If HTTPS\n\t\n\t    Promise.all([_database2.default.get('Ids', 'registrationId'), _database2.default.get('Options', 'subscription')]).then(function (results) {\n\t      var registrationIdResult = results[0];\n\t      var subscriptionResult = results[1];\n\t\n\t      if (registrationIdResult) {\n\t        if (subscriptionResult && !subscriptionResult.value) return callback(false);\n\t\n\t        callback(Notification.permission == \"granted\");\n\t      } else callback(false);\n\t    }).catch(function (e) {\n\t      _loglevel2.default.error(e);\n\t    });\n\t  },\n\t\n\t  _getNotificationTypes: function _getNotificationTypes(callback) {\n\t    return new Promise(function (resolve, reject) {\n\t      OneSignal._getSubscription().then(function (currentSubscription) {\n\t        var notificationType = currentSubscription ? 1 : -2;\n\t        resolve(notificationType);\n\t        callback(notificationType);\n\t      });\n\t    });\n\t  },\n\t\n\t  setSubscription: function setSubscription(newSubscription) {\n\t    return new Promise(function (resolve, reject) {\n\t      if (OneSignal._iframePort) {\n\t        var uid = (0, _utils.guid)();\n\t        _limitStore2.default.put('setSubscriptionPromiseResolve.' + uid, resolve);\n\t        OneSignal._iframePort.postMessage({ setSubdomainState: { setSubscription: newSubscription }, promiseId: uid, from: _environment2.default.getEnv() });\n\t        // This promise will eventually be resolved when the iFrame replies with setSubscriptionComplete\n\t      } else {\n\t          OneSignal._getSubscription().then(function (currentSubscription) {\n\t            if (currentSubscription != newSubscription) {\n\t              return _database2.default.put(\"Options\", { key: \"subscription\", value: newSubscription });\n\t            } else {\n\t              _loglevel2.default.debug('Called %csetSubscription(' + newSubscription + ')', (0, _utils.getConsoleStyle)('code'), 'but there was no change, so skipping call.');\n\t              resolve();\n\t            }\n\t          }).then(function () {\n\t            return _database2.default.get('Ids', 'userId');\n\t          }).then(function (userIdResult) {\n\t            _loglevel2.default.debug(userIdResult);\n\t            if (userIdResult) {\n\t              _loglevel2.default.debug(3);\n\t              return (0, _api.apiCall)(\"players/\" + userIdResult.id, \"PUT\", {\n\t                app_id: OneSignal._app_id,\n\t                notification_types: newSubscription ? 1 : -2\n\t              });\n\t            } else {\n\t              _loglevel2.default.debug(2);\n\t              _loglevel2.default.error('Called %csetSubscription(' + newSubscription + ')', (0, _utils.getConsoleStyle)('code'), 'but there was no user ID, so the result was not forwarded to OneSignal.');\n\t              reject('No user ID.');\n\t            }\n\t          }).then(function () {\n\t            _loglevel2.default.debug(1);\n\t            OneSignal._triggerEvent_internalSubscriptionSet(newSubscription);\n\t            resolve();\n\t          }).catch(function (e) {\n\t            if (e.constructor.name === 'Error') {\n\t              _loglevel2.default.error(e);\n\t              reject(e);\n\t            } else {\n\t              resolve(e);\n\t            }\n\t          });\n\t        }\n\t    });\n\t  },\n\t\n\t  /**\n\t   * Returns a promise that resolves to false if setSubscription(false) has been explicitly called at any point in time. Otherwise returns true.\n\t   * This means a return value of true does not mean the user is subscribed, only that the user did not call setSubcription(false).\n\t   * @private\n\t   * @returns {Promise}\n\t   */\n\t  _getSubscription: function _getSubscription() {\n\t    return new Promise(function (resolve, reject) {\n\t      _database2.default.get('Options', 'subscription').then(function (subscriptionResult) {\n\t        resolve(!(subscriptionResult && subscriptionResult.value == false));\n\t      }).catch(function (e) {\n\t        _loglevel2.default.error(e);\n\t        reject(e);\n\t      });\n\t    });\n\t  },\n\t\n\t  _safePostMessage: function _safePostMessage(creator, data, targetOrigin, receiver) {\n\t    var tOrigin = targetOrigin.toLowerCase();\n\t\n\t    // If we are trying to target a http site allow the https version. (w/ or w/o 'wwww.' too)\n\t    if (tOrigin.startsWith(\"http://\")) {\n\t      var queryDict = {};\n\t      location.search.substr(1).split(\"&\").forEach(function (item) {\n\t        queryDict[item.split(\"=\")[0]] = item.split(\"=\")[1];\n\t      });\n\t      var validPreURLRegex = /^http(s|):\\/\\/(www\\.|)/;\n\t      tOrigin = tOrigin.replace(validPreURLRegex, queryDict[\"hostPageProtocol\"]);\n\t    }\n\t\n\t    if (!data.from) {\n\t      data['from'] = _environment2.default.getEnv();\n\t    }\n\t\n\t    if (receiver) creator.postMessage(data, tOrigin, receiver);else creator.postMessage(data, tOrigin);\n\t  },\n\t\n\t  _process_pushes: function _process_pushes(array) {\n\t    for (var i = 0; i < array.length; i++) {\n\t      OneSignal.push(array[i]);\n\t    }\n\t  },\n\t\n\t  push: function push(item) {\n\t    if (typeof item == \"function\") item();else {\n\t      var functionName = item.shift();\n\t      OneSignal[functionName].apply(null, item);\n\t    }\n\t  }\n\t};\n\t\n\t// If imported on your page.\n\tif (_environment2.default.isBrowser()) {\n\t  window.addEventListener(\"message\", OneSignal._listener_receiveMessage, false);\n\t} else {// if imported from the service worker.\n\t\n\t}\n\t\n\tif (OneSignal.LOGGING) _loglevel2.default.setDefaultLevel(_loglevel2.default.levels.TRACE);else _loglevel2.default.setDefaultLevel(_loglevel2.default.levels.ERROR);\n\t\n\t_loglevel2.default.info('%cOneSignal Web SDK loaded (version ' + OneSignal._VERSION + ', ' + _environment2.default.getEnv() + ' environment).', (0, _utils.getConsoleStyle)('bold'));\n\t\n\tmodule.exports = OneSignal;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/*** IMPORTS FROM imports-loader ***/\n\t(function() {\n\t\n\t(function() {\n\t  'use strict';\n\t\n\t  if (self.fetch) {\n\t    return\n\t  }\n\t\n\t  function normalizeName(name) {\n\t    if (typeof name !== 'string') {\n\t      name = String(name)\n\t    }\n\t    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n\t      throw new TypeError('Invalid character in header field name')\n\t    }\n\t    return name.toLowerCase()\n\t  }\n\t\n\t  function normalizeValue(value) {\n\t    if (typeof value !== 'string') {\n\t      value = String(value)\n\t    }\n\t    return value\n\t  }\n\t\n\t  function Headers(headers) {\n\t    this.map = {}\n\t\n\t    if (headers instanceof Headers) {\n\t      headers.forEach(function(value, name) {\n\t        this.append(name, value)\n\t      }, this)\n\t\n\t    } else if (headers) {\n\t      Object.getOwnPropertyNames(headers).forEach(function(name) {\n\t        this.append(name, headers[name])\n\t      }, this)\n\t    }\n\t  }\n\t\n\t  Headers.prototype.append = function(name, value) {\n\t    name = normalizeName(name)\n\t    value = normalizeValue(value)\n\t    var list = this.map[name]\n\t    if (!list) {\n\t      list = []\n\t      this.map[name] = list\n\t    }\n\t    list.push(value)\n\t  }\n\t\n\t  Headers.prototype['delete'] = function(name) {\n\t    delete this.map[normalizeName(name)]\n\t  }\n\t\n\t  Headers.prototype.get = function(name) {\n\t    var values = this.map[normalizeName(name)]\n\t    return values ? values[0] : null\n\t  }\n\t\n\t  Headers.prototype.getAll = function(name) {\n\t    return this.map[normalizeName(name)] || []\n\t  }\n\t\n\t  Headers.prototype.has = function(name) {\n\t    return this.map.hasOwnProperty(normalizeName(name))\n\t  }\n\t\n\t  Headers.prototype.set = function(name, value) {\n\t    this.map[normalizeName(name)] = [normalizeValue(value)]\n\t  }\n\t\n\t  Headers.prototype.forEach = function(callback, thisArg) {\n\t    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n\t      this.map[name].forEach(function(value) {\n\t        callback.call(thisArg, value, name, this)\n\t      }, this)\n\t    }, this)\n\t  }\n\t\n\t  function consumed(body) {\n\t    if (body.bodyUsed) {\n\t      return Promise.reject(new TypeError('Already read'))\n\t    }\n\t    body.bodyUsed = true\n\t  }\n\t\n\t  function fileReaderReady(reader) {\n\t    return new Promise(function(resolve, reject) {\n\t      reader.onload = function() {\n\t        resolve(reader.result)\n\t      }\n\t      reader.onerror = function() {\n\t        reject(reader.error)\n\t      }\n\t    })\n\t  }\n\t\n\t  function readBlobAsArrayBuffer(blob) {\n\t    var reader = new FileReader()\n\t    reader.readAsArrayBuffer(blob)\n\t    return fileReaderReady(reader)\n\t  }\n\t\n\t  function readBlobAsText(blob) {\n\t    var reader = new FileReader()\n\t    reader.readAsText(blob)\n\t    return fileReaderReady(reader)\n\t  }\n\t\n\t  var support = {\n\t    blob: 'FileReader' in self && 'Blob' in self && (function() {\n\t      try {\n\t        new Blob();\n\t        return true\n\t      } catch(e) {\n\t        return false\n\t      }\n\t    })(),\n\t    formData: 'FormData' in self,\n\t    arrayBuffer: 'ArrayBuffer' in self\n\t  }\n\t\n\t  function Body() {\n\t    this.bodyUsed = false\n\t\n\t\n\t    this._initBody = function(body) {\n\t      this._bodyInit = body\n\t      if (typeof body === 'string') {\n\t        this._bodyText = body\n\t      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n\t        this._bodyBlob = body\n\t      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n\t        this._bodyFormData = body\n\t      } else if (!body) {\n\t        this._bodyText = ''\n\t      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n\t        // Only support ArrayBuffers for POST method.\n\t        // Receiving ArrayBuffers happens via Blobs, instead.\n\t      } else {\n\t        throw new Error('unsupported BodyInit type')\n\t      }\n\t    }\n\t\n\t    if (support.blob) {\n\t      this.blob = function() {\n\t        var rejected = consumed(this)\n\t        if (rejected) {\n\t          return rejected\n\t        }\n\t\n\t        if (this._bodyBlob) {\n\t          return Promise.resolve(this._bodyBlob)\n\t        } else if (this._bodyFormData) {\n\t          throw new Error('could not read FormData body as blob')\n\t        } else {\n\t          return Promise.resolve(new Blob([this._bodyText]))\n\t        }\n\t      }\n\t\n\t      this.arrayBuffer = function() {\n\t        return this.blob().then(readBlobAsArrayBuffer)\n\t      }\n\t\n\t      this.text = function() {\n\t        var rejected = consumed(this)\n\t        if (rejected) {\n\t          return rejected\n\t        }\n\t\n\t        if (this._bodyBlob) {\n\t          return readBlobAsText(this._bodyBlob)\n\t        } else if (this._bodyFormData) {\n\t          throw new Error('could not read FormData body as text')\n\t        } else {\n\t          return Promise.resolve(this._bodyText)\n\t        }\n\t      }\n\t    } else {\n\t      this.text = function() {\n\t        var rejected = consumed(this)\n\t        return rejected ? rejected : Promise.resolve(this._bodyText)\n\t      }\n\t    }\n\t\n\t    if (support.formData) {\n\t      this.formData = function() {\n\t        return this.text().then(decode)\n\t      }\n\t    }\n\t\n\t    this.json = function() {\n\t      return this.text().then(JSON.parse)\n\t    }\n\t\n\t    return this\n\t  }\n\t\n\t  // HTTP methods whose capitalization should be normalized\n\t  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\t\n\t  function normalizeMethod(method) {\n\t    var upcased = method.toUpperCase()\n\t    return (methods.indexOf(upcased) > -1) ? upcased : method\n\t  }\n\t\n\t  function Request(input, options) {\n\t    options = options || {}\n\t    var body = options.body\n\t    if (Request.prototype.isPrototypeOf(input)) {\n\t      if (input.bodyUsed) {\n\t        throw new TypeError('Already read')\n\t      }\n\t      this.url = input.url\n\t      this.credentials = input.credentials\n\t      if (!options.headers) {\n\t        this.headers = new Headers(input.headers)\n\t      }\n\t      this.method = input.method\n\t      this.mode = input.mode\n\t      if (!body) {\n\t        body = input._bodyInit\n\t        input.bodyUsed = true\n\t      }\n\t    } else {\n\t      this.url = input\n\t    }\n\t\n\t    this.credentials = options.credentials || this.credentials || 'omit'\n\t    if (options.headers || !this.headers) {\n\t      this.headers = new Headers(options.headers)\n\t    }\n\t    this.method = normalizeMethod(options.method || this.method || 'GET')\n\t    this.mode = options.mode || this.mode || null\n\t    this.referrer = null\n\t\n\t    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n\t      throw new TypeError('Body not allowed for GET or HEAD requests')\n\t    }\n\t    this._initBody(body)\n\t  }\n\t\n\t  Request.prototype.clone = function() {\n\t    return new Request(this)\n\t  }\n\t\n\t  function decode(body) {\n\t    var form = new FormData()\n\t    body.trim().split('&').forEach(function(bytes) {\n\t      if (bytes) {\n\t        var split = bytes.split('=')\n\t        var name = split.shift().replace(/\\+/g, ' ')\n\t        var value = split.join('=').replace(/\\+/g, ' ')\n\t        form.append(decodeURIComponent(name), decodeURIComponent(value))\n\t      }\n\t    })\n\t    return form\n\t  }\n\t\n\t  function headers(xhr) {\n\t    var head = new Headers()\n\t    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n\t    pairs.forEach(function(header) {\n\t      var split = header.trim().split(':')\n\t      var key = split.shift().trim()\n\t      var value = split.join(':').trim()\n\t      head.append(key, value)\n\t    })\n\t    return head\n\t  }\n\t\n\t  Body.call(Request.prototype)\n\t\n\t  function Response(bodyInit, options) {\n\t    if (!options) {\n\t      options = {}\n\t    }\n\t\n\t    this._initBody(bodyInit)\n\t    this.type = 'default'\n\t    this.status = options.status\n\t    this.ok = this.status >= 200 && this.status < 300\n\t    this.statusText = options.statusText\n\t    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n\t    this.url = options.url || ''\n\t  }\n\t\n\t  Body.call(Response.prototype)\n\t\n\t  Response.prototype.clone = function() {\n\t    return new Response(this._bodyInit, {\n\t      status: this.status,\n\t      statusText: this.statusText,\n\t      headers: new Headers(this.headers),\n\t      url: this.url\n\t    })\n\t  }\n\t\n\t  Response.error = function() {\n\t    var response = new Response(null, {status: 0, statusText: ''})\n\t    response.type = 'error'\n\t    return response\n\t  }\n\t\n\t  var redirectStatuses = [301, 302, 303, 307, 308]\n\t\n\t  Response.redirect = function(url, status) {\n\t    if (redirectStatuses.indexOf(status) === -1) {\n\t      throw new RangeError('Invalid status code')\n\t    }\n\t\n\t    return new Response(null, {status: status, headers: {location: url}})\n\t  }\n\t\n\t  self.Headers = Headers;\n\t  self.Request = Request;\n\t  self.Response = Response;\n\t\n\t  self.fetch = function(input, init) {\n\t    return new Promise(function(resolve, reject) {\n\t      var request\n\t      if (Request.prototype.isPrototypeOf(input) && !init) {\n\t        request = input\n\t      } else {\n\t        request = new Request(input, init)\n\t      }\n\t\n\t      var xhr = new XMLHttpRequest()\n\t\n\t      function responseURL() {\n\t        if ('responseURL' in xhr) {\n\t          return xhr.responseURL\n\t        }\n\t\n\t        // Avoid security warnings on getResponseHeader when not allowed by CORS\n\t        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n\t          return xhr.getResponseHeader('X-Request-URL')\n\t        }\n\t\n\t        return;\n\t      }\n\t\n\t      xhr.onload = function() {\n\t        var status = (xhr.status === 1223) ? 204 : xhr.status\n\t        if (status < 100 || status > 599) {\n\t          reject(new TypeError('Network request failed'))\n\t          return\n\t        }\n\t        var options = {\n\t          status: status,\n\t          statusText: xhr.statusText,\n\t          headers: headers(xhr),\n\t          url: responseURL()\n\t        }\n\t        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n\t        resolve(new Response(body, options))\n\t      }\n\t\n\t      xhr.onerror = function() {\n\t        reject(new TypeError('Network request failed'))\n\t      }\n\t\n\t      xhr.open(request.method, request.url, true)\n\t\n\t      if (request.credentials === 'include') {\n\t        xhr.withCredentials = true\n\t      }\n\t\n\t      if ('responseType' in xhr && support.blob) {\n\t        xhr.responseType = 'blob'\n\t      }\n\t\n\t      request.headers.forEach(function(value, name) {\n\t        xhr.setRequestHeader(name, value)\n\t      })\n\t\n\t      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n\t    })\n\t  }\n\t  self.fetch.polyfill = true\n\t})();\n\t\n\t\n\t/*** EXPORTS FROM exports-loader ***/\n\tmodule.exports = global.fetch\n\t}.call(global));\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Capitalizes the first letter of the string.\n\t * @returns {string} The string with the first letter capitalized.\n\t */\n\tString.prototype.capitalize = function () {\n\t  return this.charAt(0).toUpperCase() + this.slice(1);\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(fetch) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.apiCall = apiCall;\n\texports.sendNotification = sendNotification;\n\t\n\tvar _vars = __webpack_require__(1);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction apiCall(action, method, data) {\n\t  var headers = new Headers();\n\t  headers.append('Content-Type', 'application/json;charset=UTF-8');\n\t\n\t  var contents = {\n\t    method: method || 'NO_METHOD_SPECIFIED',\n\t    headers: headers,\n\t    cache: 'no-cache'\n\t  };\n\t  if (data) contents.body = JSON.stringify(data);\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    fetch(_vars.API_URL + action, contents).then(function status(response) {\n\t      if (response.status >= 200 && response.status < 300) return response.json();else reject(new Error(response.statusText));\n\t    }).then(function (jsonResponse) {\n\t      resolve(jsonResponse);\n\t    }).catch(function (e) {\n\t      reject(e);\n\t    });\n\t  });\n\t}\n\t\n\tfunction sendNotification(appId, playerIds, titles, contents, url) {\n\t  var params = {\n\t    app_id: appId,\n\t    contents: contents,\n\t    include_player_ids: playerIds,\n\t    isAnyWeb: true\n\t  };\n\t  if (titles) {\n\t    params.headings = titles;\n\t  }\n\t  if (url) {\n\t    params.url = url;\n\t  }\n\t  return apiCall('notifications', 'POST', params);\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)))\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/*\n\t LimitStore.put('colorado', 'rocky');\n\t [\"rocky\"]\n\t LimitStore.put('colorado', 'mountain');\n\t [\"rocky\", \"mountain\"]\n\t LimitStore.put('colorado', 'national');\n\t [\"mountain\", \"national\"]\n\t LimitStore.put('colorado', 'park');\n\t [\"national\", \"park\"]\n\t */\n\tfunction LimitStore() {}\n\t\n\tLimitStore.store = {};\n\tLimitStore.LIMIT = 2;\n\t\n\tLimitStore.put = function (key, value) {\n\t  if (LimitStore.store[key] === undefined) {\n\t    LimitStore.store[key] = [null, null];\n\t  }\n\t  LimitStore.store[key].push(value);\n\t  if (LimitStore.store[key].length == LimitStore.LIMIT + 1) {\n\t    LimitStore.store[key].shift();\n\t  }\n\t  return LimitStore.store[key];\n\t};\n\t\n\tLimitStore.get = function (key) {\n\t  if (LimitStore.store[key] === undefined) {\n\t    LimitStore.store[key] = [null, null];\n\t  }\n\t  return LimitStore.store[key];\n\t};\n\t\n\tLimitStore.getFirst = function (key) {\n\t  return LimitStore.get(key)[0];\n\t};\n\t\n\tLimitStore.getLast = function (key) {\n\t  return LimitStore.get(key)[1];\n\t};\n\t\n\tLimitStore.remove = function (key) {\n\t  delete LimitStore[key];\n\t};\n\t\n\tLimitStore.isEmpty = function (key) {\n\t  var values = LimitStore.get(key);\n\t  return values[0] === null && values[1] === null;\n\t};\n\t\n\texports.default = LimitStore;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _environment = __webpack_require__(4);\n\t\n\tvar _environment2 = _interopRequireDefault(_environment);\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\t__webpack_require__(8);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar SILENT_EVENTS = ['onesignal.nb.hovering', 'onesignal.nb.hovered', 'onesignal.nb.launcher.button.click', 'onesignal.nb.launcher.click', 'onesignal.nb.animatedelement.hiding', 'onesignal.nb.animatedelement.hidden', 'onesignal.nb.animatedelement.showing', 'onesignal.nb.animatedelement.shown', 'onesignal.nb.activeanimatedelement.activating', 'onesignal.nb.activeanimatedelement.active', 'onesignal.nb.activeanimatedelement.inactivating', 'onesignal.nb.activeanimatedelement.inactive', 'onesignal.db.retrieved', 'onesignal.db.set'];\n\t\n\tvar RETRIGGER_REMOTE_EVENTS = ['onesignal.prompt.custom.clicked', 'onesignal.prompt.native.permissionchanged', 'onesignal.subscription.changed', 'onesignal.internal.subscriptionset'];\n\t\n\tvar Event = (function () {\n\t  function Event() {\n\t    _classCallCheck(this, Event);\n\t  }\n\t\n\t  _createClass(Event, null, [{\n\t    key: 'trigger',\n\t    value: function trigger(eventName, data) {\n\t      var remoteTriggerEnv = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\t\n\t      if (!eventName) {\n\t        _loglevel2.default.warn('Missing event name.');\n\t      }\n\t      if (SILENT_EVENTS.indexOf(eventName) === -1) {\n\t        if (!_environment2.default.isBrowser()) {\n\t          _loglevel2.default.debug('(' + _environment2.default.getEnv().capitalize() + ')  %c' + eventName + ':', (0, _utils.getConsoleStyle)('event'), data, '(not triggered in a ServiceWorker environment)');\n\t          return;\n\t        } else {\n\t          var displayData = data;\n\t          if (remoteTriggerEnv) {\n\t            var env = _environment2.default.getEnv().capitalize() + '  ' + remoteTriggerEnv.capitalize();\n\t          } else {\n\t            var env = _environment2.default.getEnv().capitalize();\n\t          }\n\t\n\t          if (displayData || displayData === false) {\n\t            _loglevel2.default.debug('(' + env + ')  %c' + eventName + ':', (0, _utils.getConsoleStyle)('event'), displayData);\n\t          } else {\n\t            _loglevel2.default.debug('(' + env + ')  %c' + eventName, (0, _utils.getConsoleStyle)('event'));\n\t          }\n\t        }\n\t      }\n\t      if (_environment2.default.isBrowser()) {\n\t        var event = new CustomEvent(eventName, {\n\t          bubbles: true, cancelable: true, detail: data\n\t        });\n\t        window.dispatchEvent(event);\n\t\n\t        // If this event was triggered in an iFrame or Popup environment, also trigger it on the host page\n\t        if (!_environment2.default.isHost()) {\n\t          var creator = opener || parent;\n\t          if (!creator) {\n\t            _loglevel2.default.error('Could not send event \\'' + eventName + '\\' back to host page because no creator (opener or parent) found!');\n\t          } else {\n\t            // But only if the event matches certain events\n\t            if (RETRIGGER_REMOTE_EVENTS.indexOf(eventName) !== -1) {\n\t              OneSignal._safePostMessage(creator, { remoteEvent: eventName, remoteEventData: data, from: _environment2.default.getEnv() }, OneSignal._initOptions.origin, null);\n\t            }\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Event;\n\t})();\n\t\n\texports.default = Event;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _environment = __webpack_require__(4);\n\t\n\tvar _environment2 = _interopRequireDefault(_environment);\n\t\n\tvar _limitStore = __webpack_require__(10);\n\t\n\tvar _limitStore2 = _interopRequireDefault(_limitStore);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _bowser = __webpack_require__(13);\n\t\n\tvar Browser = _interopRequireWildcard(_bowser);\n\t\n\tvar _vars = __webpack_require__(1);\n\t\n\tvar _AnimatedElement = __webpack_require__(14);\n\t\n\tvar _AnimatedElement2 = _interopRequireDefault(_AnimatedElement);\n\t\n\tvar _ActiveAnimatedElement = __webpack_require__(15);\n\t\n\tvar _ActiveAnimatedElement2 = _interopRequireDefault(_ActiveAnimatedElement);\n\t\n\tvar _Launcher = __webpack_require__(16);\n\t\n\tvar _Launcher2 = _interopRequireDefault(_Launcher);\n\t\n\tvar _Badge = __webpack_require__(17);\n\t\n\tvar _Badge2 = _interopRequireDefault(_Badge);\n\t\n\tvar _Button = __webpack_require__(18);\n\t\n\tvar _Button2 = _interopRequireDefault(_Button);\n\t\n\tvar _Dialog = __webpack_require__(19);\n\t\n\tvar _Dialog2 = _interopRequireDefault(_Dialog);\n\t\n\tvar _Message = __webpack_require__(20);\n\t\n\tvar _Message2 = _interopRequireDefault(_Message);\n\t\n\t__webpack_require__(21);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar logoSvg = __webpack_require__(25);\n\t\n\tvar Bell = (function () {\n\t  _createClass(Bell, [{\n\t    key: 'substituteText',\n\t    value: function substituteText() {\n\t      // key: 'message.action.subscribing'\n\t      // value: 'Click <strong>{{prompt.native.grant}}</strong> to receive notifications'\n\t      for (var key in this.text) {\n\t        if (this.text.hasOwnProperty(key)) {\n\t          var value = this.text[key];\n\t          // browserName could be 'chrome' or 'firefox' or 'safari'\n\t          var browserName = Browser.name.toLowerCase();\n\t\n\t          // tKey: 'prompt.native.grant'  (from TEXT_SUBS)\n\t          // tValue: { chrome: 'Allow', firefox: 'Al... }\n\t          // zValue: 'Allow', if browserName === 'chrome'\n\t          for (var tKey in Bell.TEXT_SUBS) {\n\t            if (Bell.TEXT_SUBS.hasOwnProperty(tKey)) {\n\t              var tValue = Bell.TEXT_SUBS[tKey];\n\t              var zValue = tValue[browserName];\n\t              if (value.includes('{{')) {\n\t                this.text[key] = value.replace('{{' + tKey + '}}', zValue !== undefined ? zValue : tValue['default']);\n\t              }\n\t            }\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }], [{\n\t    key: 'EVENTS',\n\t    get: function get() {\n\t      return {\n\t        STATE_CHANGED: 'onesignal.nb.state.changed',\n\t        LAUNCHER_CLICK: 'onesignal.nb.launcher.click',\n\t        BELL_CLICK: 'onesignal.nb.launcher.button.click',\n\t        SUBSCRIBE_CLICK: 'onesignal.nb.launcher.dialog.button.subscribe.click',\n\t        UNSUBSCRIBE_CLICK: 'onesignal.nb.launcher.dialog.button.unsubscribe.click',\n\t        HOVERING: 'onesignal.nb.hovering',\n\t        HOVERED: 'onesignal.nb.hovered'\n\t      };\n\t    }\n\t  }, {\n\t    key: 'STATES',\n\t    get: function get() {\n\t      return {\n\t        UNINITIALIZED: 'uninitialized',\n\t        SUBSCRIBED: 'subscribed',\n\t        UNSUBSCRIBED: 'unsubscribed',\n\t        BLOCKED: 'blocked'\n\t      };\n\t    }\n\t  }, {\n\t    key: 'TEXT_SUBS',\n\t    get: function get() {\n\t      return {\n\t        'prompt.native.grant': {\n\t          default: 'Allow',\n\t          chrome: 'Allow',\n\t          firefox: 'Always Receive Notifications',\n\t          safari: 'Allow'\n\t        }\n\t      };\n\t    }\n\t  }]);\n\t\n\t  function Bell() {\n\t    var _this = this;\n\t\n\t    var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    var _ref$enable = _ref.enable;\n\t    var enable = _ref$enable === undefined ? false : _ref$enable;\n\t    var _ref$size = _ref.size;\n\t    var size = _ref$size === undefined ? 'medium' : _ref$size;\n\t    var _ref$position = _ref.position;\n\t    var position = _ref$position === undefined ? 'bottom-right' : _ref$position;\n\t    var _ref$theme = _ref.theme;\n\t    var theme = _ref$theme === undefined ? 'default' : _ref$theme;\n\t    var _ref$showLauncherAfte = _ref.showLauncherAfter;\n\t    var showLauncherAfter = _ref$showLauncherAfte === undefined ? 10 : _ref$showLauncherAfte;\n\t    var _ref$showBadgeAfter = _ref.showBadgeAfter;\n\t    var showBadgeAfter = _ref$showBadgeAfter === undefined ? 300 : _ref$showBadgeAfter;\n\t    var _ref$modalPrompt = _ref.modalPrompt;\n\t    var modalPrompt = _ref$modalPrompt === undefined ? false : _ref$modalPrompt;\n\t    var _ref$text = _ref.text;\n\t    var text = _ref$text === undefined ? {\n\t      'tip.state.unsubscribed': 'Subscribe to notifications',\n\t      'tip.state.subscribed': \"You're subscribed to notifications\",\n\t      'tip.state.blocked': \"You've blocked notifications\",\n\t      'message.prenotify': 'Click to subscribe to notifications',\n\t      'message.action.subscribing': \"Click <strong>{{prompt.native.grant}}</strong> to receive notifications\",\n\t      'message.action.subscribed': \"Thanks for subscribing!\",\n\t      'message.action.resubscribed': \"You're subscribed to notifications\",\n\t      'message.action.unsubscribed': \"You won't receive notifications again\",\n\t      'dialog.main.title': 'Manage Site Notifications',\n\t      'dialog.main.button.subscribe': 'SUBSCRIBE',\n\t      'dialog.main.button.unsubscribe': 'UNSUBSCRIBE',\n\t      'dialog.blocked.title': 'Unblock Notifications',\n\t      'dialog.blocked.message': \"Follow these instructions to allow notifications:\"\n\t    } : _ref$text;\n\t    var _ref$prenotify = _ref.prenotify;\n\t    var prenotify = _ref$prenotify === undefined ? true : _ref$prenotify;\n\t    var _ref$showCredit = _ref.showCredit;\n\t    var showCredit = _ref$showCredit === undefined ? true : _ref$showCredit;\n\t\n\t    _classCallCheck(this, Bell);\n\t\n\t    this.options = {\n\t      enable: enable,\n\t      size: size,\n\t      position: position,\n\t      theme: theme,\n\t      showLauncherAfter: showLauncherAfter,\n\t      showBadgeAfter: showBadgeAfter,\n\t      text: text,\n\t      prenotify: prenotify,\n\t      showCredit: showCredit,\n\t      modalPrompt: modalPrompt\n\t    };\n\t\n\t    if (!this.options.enable) return;\n\t\n\t    if (['small', 'medium', 'large'].indexOf(this.options.size) < 0) throw new Error('Invalid size ' + this.options.size + ' for notify button. Choose among \\'small\\', \\'medium\\', or \\'large\\'.');\n\t    if (['bottom-left', 'bottom-right'].indexOf(this.options.position) < 0) throw new Error('Invalid position ' + this.options.position + ' for notify button. Choose either \\'bottom-left\\', or \\'bottom-right\\'.');\n\t    if (['default', 'inverse'].indexOf(this.options.theme) < 0) throw new Error('Invalid theme ' + this.options.theme + ' for notify button. Choose either \\'default\\', or \\'inverse\\'.');\n\t    if (this.options.showLauncherAfter < 0) throw new Error('Invalid delay duration of ' + this.options.showLauncherAfter + ' for showing the notify button. Choose a value above 0.');\n\t    if (this.options.showBadgeAfter < 0) throw new Error('Invalid delay duration of ' + this.options.showBadgeAfter + ' for showing the notify button\\'s badge. Choose a value above 0.');\n\t    this.size = this.options.size;\n\t    this.position = this.options.position;\n\t    this.text = this.options.text;\n\t    if (!this.text['tip.state.unsubscribed']) this.text['tip.state.unsubscribed'] = 'Subscribe to notifications';\n\t    if (!this.text['tip.state.subscribed']) this.text['tip.state.subscribed'] = \"You're subscribed to notifications\";\n\t    if (!this.text['tip.state.blocked']) this.text['tip.state.blocked'] = \"You've blocked notifications\";\n\t    if (!this.text['message.prenotify']) this.text['message.prenotify'] = \"Click to subscribe to notifications\";\n\t    if (!this.text['message.action.subscribed']) this.text['message.action.subscribed'] = \"Thanks for subscribing!\";\n\t    if (!this.text['message.action.resubscribed']) this.text['message.action.resubscribed'] = \"You're subscribed to notifications\";\n\t    if (!this.text['message.action.subscribing']) this.text['message.action.subscribing'] = \"Click <strong>{{prompt.native.grant}}</strong> to receive notifications\";\n\t    if (!this.text['message.action.unsubscribed']) this.text['message.action.unsubscribed'] = \"You won't receive notifications again\";\n\t    if (!this.text['dialog.main.title']) this.text['dialog.main.title'] = 'Manage Site Notifications';\n\t    if (!this.text['dialog.main.button.subscribe']) this.text['dialog.main.button.subscribe'] = 'SUBSCRIBE';\n\t    if (!this.text['dialog.main.button.unsubscribe']) this.text['dialog.main.button.unsubscribe'] = 'UNSUBSCRIBE';\n\t    if (!this.text['dialog.blocked.title']) this.text['dialog.blocked.title'] = 'Unblock Notifications';\n\t    if (!this.text['dialog.blocked.message']) this.text['dialog.blocked.message'] = 'Follow these instructions to allow notifications:';\n\t    this.substituteText();\n\t    this.state = Bell.STATES.UNINITIALIZED;\n\t\n\t    // Install event hooks\n\t    window.addEventListener(Bell.EVENTS.LAUNCHER_CLICK, function (event) {\n\t      if (_this.message.shown && _this.message.contentType == _Message2.default.TYPES.MESSAGE) {\n\t        // A message is being shown, it'll disappear soon\n\t        return;\n\t      }\n\t\n\t      _this.launcher.activateIfInactive().then(function () {\n\t        return _this.message.hide();\n\t      }).then(function () {\n\t        if (_this.unsubscribed) {\n\t          var setSubscriptionState = _limitStore2.default.getLast('setsubscription.value');\n\t          if (setSubscriptionState === false) {\n\t            // The user manually called setSubscription(false), but the user is actually subscribed\n\t            _this.showDialogProcedure();\n\t          } else {\n\t            // The user is actually subscribed, register him for notifications\n\t            OneSignal.registerForPushNotifications({ modalPrompt: _this.options.modalPrompt });\n\t            //// Show the 'Click Allow to receive notifications' tip, if they haven't already enabled permissions\n\t            //if (OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id) === 'default') {\n\t            //  this.message.display(Message.TYPES.MESSAGE, this.text['message.action.subscribing'], Message.TIMEOUT)\n\t            //}\n\t\n\t            (0, _utils.once)(window, OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, function (event, destroyListenerFn) {\n\t              destroyListenerFn();\n\t              var permission = event.detail.to;\n\t              if (permission === 'granted') {\n\t                _this.message.display(_Message2.default.TYPES.MESSAGE, _this.text['message.action.subscribed'], _Message2.default.TIMEOUT).then(function () {\n\t                  _this.launcher.inactivate();\n\t                }).catch(function (e) {\n\t                  _loglevel2.default.error(e);\n\t                });\n\t              }\n\t            }, true);\n\t          }\n\t        } else if (_this.subscribed) {\n\t          _this.showDialogProcedure();\n\t        } else if (_this.blocked) {\n\t          _this.showDialogProcedure();\n\t        }\n\t      }).catch(function (e) {\n\t        return _loglevel2.default.error(e);\n\t      });\n\t    });\n\t\n\t    window.addEventListener(Bell.EVENTS.SUBSCRIBE_CLICK, function () {\n\t      _this.dialog.subscribeButton.disabled = true;\n\t      OneSignal.setSubscription(true).then(function () {\n\t        _this.dialog.subscribeButton.disabled = false;\n\t        return _this.dialog.hide();\n\t      }).then(function () {\n\t        return _this.message.display(_Message2.default.TYPES.MESSAGE, _this.text['message.action.resubscribed'], _Message2.default.TIMEOUT);\n\t      }).then(function () {\n\t        _this.launcher.clearIfWasInactive();\n\t        return _this.launcher.inactivate();\n\t      });\n\t    });\n\t\n\t    window.addEventListener(Bell.EVENTS.UNSUBSCRIBE_CLICK, function () {\n\t      _this.dialog.unsubscribeButton.disabled = true;\n\t      OneSignal.setSubscription(false).then(function () {\n\t        _this.dialog.unsubscribeButton.disabled = false;\n\t        return _this.dialog.hide();\n\t      }).then(function () {\n\t        _this.launcher.clearIfWasInactive();\n\t        return _this.launcher.activate();\n\t      }).then(function () {\n\t        return _this.message.display(_Message2.default.TYPES.MESSAGE, _this.text['message.action.unsubscribed'], _Message2.default.TIMEOUT);\n\t      });\n\t    });\n\t\n\t    window.addEventListener(Bell.EVENTS.HOVERING, function () {\n\t      _this.hovering = true;\n\t      _this.launcher.activateIfInactive();\n\t\n\t      // If there's already a message being force shown, do not override\n\t      if (_this.message.shown || _this.dialog.shown) {\n\t        _this.hovering = false;\n\t        return;\n\t      }\n\t\n\t      // If the message is a message and not a tip, don't show it (only show tips)\n\t      // Messages will go away on their own\n\t      if (_this.message.contentType === _Message2.default.TYPES.MESSAGE) {\n\t        _this.hovering = false;\n\t        return;\n\t      }\n\t\n\t      new Promise(function (resolve, reject) {\n\t        // If a message is being shown\n\t        if (_this.message.queued.length > 0) {\n\t          return _this.message.dequeue().then(function (msg) {\n\t            _this.message.content = msg;\n\t            _this.message.contentType = _Message2.default.TYPES.QUEUED;\n\t            resolve();\n\t          });\n\t        } else {\n\t          _this.message.content = _this.message.getTipForState();\n\t          _this.message.contentType = _Message2.default.TYPES.TIP;\n\t          resolve();\n\t        }\n\t      }).then(function () {\n\t        return _this.message.show();\n\t      }).then(function () {\n\t        _this.hovering = false;\n\t      });\n\t    });\n\t\n\t    window.addEventListener(Bell.EVENTS.HOVERED, function () {\n\t      // If a message is displayed (and not a tip), don't control it. Visitors have no control over messages\n\t      if (_this.message.contentType === _Message2.default.TYPES.MESSAGE) {\n\t        return;\n\t      }\n\t\n\t      if (_this.hovering) {\n\t        _this.hovering = false;\n\t        // Only happens on mobile where the message could still be showing (i.e. animating) when a HOVERED event fires\n\t        // Basically only happens if HOVERING and HOVERED fire within a few milliseconds of each other\n\t        _this.message.waitUntilShown().then(function () {\n\t          return (0, _utils.delay)(_Message2.default.TIMEOUT);\n\t        }).then(function () {\n\t          return _this.message.hide();\n\t        }).then(function () {\n\t          if (_this.launcher.wasInactive && !_this.dialog.shown) {\n\t            _this.launcher.inactivate();\n\t            _this.launcher.wasInactive = null;\n\t          }\n\t        });\n\t      }\n\t\n\t      if (_this.message.shown) {\n\t        _this.message.hide().then(function () {\n\t          if (_this.launcher.wasInactive && !_this.dialog.shown) {\n\t            _this.launcher.inactivate();\n\t            _this.launcher.wasInactive = null;\n\t          }\n\t        });\n\t      }\n\t    });\n\t\n\t    window.addEventListener(OneSignal.EVENTS.SUBSCRIPTION_CHANGED, function (e) {\n\t      var isSubscribed = e.detail;\n\t      _this.setState(isSubscribed ? Bell.STATES.SUBSCRIBED : Bell.STATES.UNSUBSCRIBED);\n\t    });\n\t\n\t    window.addEventListener(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, function (from, to) {\n\t      _this.updateState();\n\t    });\n\t\n\t    window.addEventListener(OneSignal.EVENTS.WELCOME_NOTIFICATION_SENT, function (e) {});\n\t\n\t    this.updateState();\n\t  }\n\t\n\t  _createClass(Bell, [{\n\t    key: 'showDialogProcedure',\n\t    value: function showDialogProcedure() {\n\t      var _this2 = this;\n\t\n\t      if (!this.dialog.shown) {\n\t        this.dialog.show().then(function (e) {\n\t          //var id = Math.random().toString(36).substring(7, 11);\n\t          //console.warn(`Generating %cshowDialogProcedure(${id}):`, getConsoleStyle('code'), '.');\n\t          (0, _utils.once)(document, 'click', function (e, destroyEventListener) {\n\t            var wasDialogClicked = _this2.dialog.element.contains(e.target);\n\t            if (wasDialogClicked) {} else {\n\t              //console.warn(`%cshowDialogProcedure(${id}):`, getConsoleStyle('code'), 'A destroying click was detected.');\n\t              destroyEventListener();\n\t              if (_this2.dialog.shown) {\n\t                _this2.dialog.hide().then(function (e) {\n\t                  _this2.launcher.inactivateIfWasInactive();\n\t                }).catch(function (e) {\n\t                  _loglevel2.default.error(e);\n\t                });\n\t              }\n\t            }\n\t          }, true);\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'create',\n\t    value: function create() {\n\t      var _this3 = this;\n\t\n\t      if (!(0, _utils.isPushNotificationsSupported)()) return;\n\t\n\t      if (!this.options.enable) return;\n\t\n\t      // Remove any existing bell\n\t      if (this.container) {\n\t        (0, _utils.removeDomElement)('onesignal-bell-container');\n\t      }\n\t\n\t      window.addDomElement = _utils.addDomElement;\n\t      // Insert the bell container\n\t      (0, _utils.addDomElement)('body', 'beforeend', '<div id=\"onesignal-bell-container\" class=\"onesignal-bell-container onesignal-reset\"></div>');\n\t      // Insert the bell launcher\n\t      (0, _utils.addDomElement)(this.container, 'beforeend', '<div id=\"onesignal-bell-launcher\" class=\"onesignal-bell-launcher\"></div>');\n\t      // Insert the bell launcher button\n\t      (0, _utils.addDomElement)(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-button\"></div>');\n\t      // Insert the bell launcher badge\n\t      (0, _utils.addDomElement)(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-badge\"></div>');\n\t      // Insert the bell launcher message\n\t      (0, _utils.addDomElement)(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-message\"></div>');\n\t      (0, _utils.addDomElement)(this.message.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-message-body\"></div>');\n\t      // Insert the bell launcher dialog\n\t      (0, _utils.addDomElement)(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog\"></div>');\n\t      (0, _utils.addDomElement)(this.dialog.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog-body\"></div>');\n\t\n\t      // Install events\n\t\n\t      // Add visual elements\n\t      (0, _utils.addDomElement)(this.button.selector, 'beforeEnd', logoSvg);\n\t\n\t      // Add default classes\n\t      this.launcher.resize(this.options.size).then(function () {\n\t        if (_this3.options.position === 'bottom-left') {\n\t          (0, _utils.addCssClass)(_this3.container, 'onesignal-bell-container-bottom-left');\n\t          (0, _utils.addCssClass)(_this3.launcher.selector, 'onesignal-bell-launcher-bottom-left');\n\t        } else if (_this3.options.position === 'bottom-right') {\n\t          (0, _utils.addCssClass)(_this3.container, 'onesignal-bell-container-bottom-right');\n\t          (0, _utils.addCssClass)(_this3.launcher.selector, 'onesignal-bell-launcher-bottom-right');\n\t        } else {\n\t          throw new Error('Invalid OneSignal notify button position ' + _this3.options.position);\n\t        }\n\t\n\t        if (_this3.options.theme === 'default') {\n\t          (0, _utils.addCssClass)(_this3.launcher.selector, 'onesignal-bell-launcher-theme-default');\n\t        } else if (_this3.options.theme === 'inverse') {\n\t          (0, _utils.addCssClass)(_this3.launcher.selector, 'onesignal-bell-launcher-theme-inverse');\n\t        } else {\n\t          throw new Error('Invalid OneSignal notify button theme ' + _this3.options.theme);\n\t        }\n\t\n\t        _loglevel2.default.info('Showing the notify button.');\n\t\n\t        OneSignal.isPushNotificationsEnabled(function (pushEnabled) {\n\t          (pushEnabled ? _this3.launcher.inactivate() : (0, _utils.nothing)()).then(function () {\n\t            return (0, _utils.delay)(_this3.options.showLauncherAfter);\n\t          }).then(function () {\n\t            return _this3.launcher.show();\n\t          }).then(function () {\n\t            return (0, _utils.delay)(_this3.options.showBadgeAfter);\n\t          }).then(function () {\n\t            if (_this3.options.prenotify && !pushEnabled && OneSignal._isNewVisitor) {\n\t              return _this3.message.enqueue(_this3.text['message.prenotify']).then(function () {\n\t                return _this3.badge.show();\n\t              });\n\t            } else return (0, _utils.nothing)();\n\t          }).then(function () {\n\t            return _this3.initialized = true;\n\t          }).catch(function (e) {\n\t            return _loglevel2.default.error(e);\n\t          });\n\t        });\n\t      }).catch(function (e) {\n\t        return _loglevel2.default.error(e);\n\t      });\n\t    }\n\t  }, {\n\t    key: '_getCurrentSetSubscriptionState',\n\t    value: function _getCurrentSetSubscriptionState() {\n\t      var setSubscriptionState = _limitStore2.default.get('setsubscription.value');\n\t      var currentSetSubscription = setSubscriptionState[setSubscriptionState.length - 1];\n\t      return currentSetSubscription;\n\t    }\n\t\n\t    /**\n\t     * Updates the current state to the correct new current state. Returns a promise.\n\t     */\n\t\n\t  }, {\n\t    key: 'updateState',\n\t    value: function updateState() {\n\t      var _this4 = this;\n\t\n\t      OneSignal.isPushNotificationsEnabled(function (isEnabled) {\n\t        _this4.setState(isEnabled ? Bell.STATES.SUBSCRIBED : Bell.STATES.UNSUBSCRIBED);\n\t        if (_limitStore2.default.getLast('notification.permission') === 'denied') {\n\t          _this4.setState(Bell.STATES.BLOCKED);\n\t        }\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Updates the current state to the specified new state.\n\t     * @param newState One of ['subscribed', 'unsubscribed'].\n\t     */\n\t\n\t  }, {\n\t    key: 'setState',\n\t    value: function setState(newState) {\n\t      var lastState = this.state;\n\t      this.state = newState;\n\t      if (lastState !== newState) {\n\t        _events2.default.trigger(Bell.EVENTS.STATE_CHANGED, { from: lastState, to: newState });\n\t        // Update anything that should be changed here in the new state\n\t      }\n\t\n\t      // Update anything that should be reset to the same state\n\t    }\n\t  }, {\n\t    key: 'container',\n\t    get: function get() {\n\t      return document.querySelector('#onesignal-bell-container');\n\t    }\n\t  }, {\n\t    key: 'launcher',\n\t    get: function get() {\n\t      if (!this._launcher) this._launcher = new _Launcher2.default(this);\n\t      return this._launcher;\n\t    }\n\t  }, {\n\t    key: 'button',\n\t    get: function get() {\n\t      if (!this._button) this._button = new _Button2.default(this);\n\t      return this._button;\n\t    }\n\t  }, {\n\t    key: 'badge',\n\t    get: function get() {\n\t      if (!this._badge) this._badge = new _Badge2.default(this);\n\t      return this._badge;\n\t    }\n\t  }, {\n\t    key: 'message',\n\t    get: function get() {\n\t      if (!this._message) this._message = new _Message2.default(this);\n\t      return this._message;\n\t    }\n\t  }, {\n\t    key: 'dialog',\n\t    get: function get() {\n\t      if (!this._dialog) this._dialog = new _Dialog2.default(this);\n\t      return this._dialog;\n\t    }\n\t  }, {\n\t    key: 'subscribed',\n\t    get: function get() {\n\t      return this.state === Bell.STATES.SUBSCRIBED;\n\t    }\n\t  }, {\n\t    key: 'unsubscribed',\n\t    get: function get() {\n\t      return this.state === Bell.STATES.UNSUBSCRIBED;\n\t    }\n\t  }, {\n\t    key: 'blocked',\n\t    get: function get() {\n\t      return this.state === Bell.STATES.BLOCKED;\n\t    }\n\t  }]);\n\t\n\t  return Bell;\n\t})();\n\t\n\texports.default = Bell;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t  * Bowser - a browser detector\n\t  * https://github.com/ded/bowser\n\t  * MIT License | (c) Dustin Diaz 2015\n\t  */\n\t\n\t!function (name, definition) {\n\t  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n\t  else if (true) !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n\t  else this[name] = definition()\n\t}('bowser', function () {\n\t  /**\n\t    * See useragents.js for examples of navigator.userAgent\n\t    */\n\t\n\t  var t = true\n\t\n\t  function detect(ua) {\n\t\n\t    function getFirstMatch(regex) {\n\t      var match = ua.match(regex);\n\t      return (match && match.length > 1 && match[1]) || '';\n\t    }\n\t\n\t    function getSecondMatch(regex) {\n\t      var match = ua.match(regex);\n\t      return (match && match.length > 1 && match[2]) || '';\n\t    }\n\t\n\t    var iosdevice = getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase()\n\t      , likeAndroid = /like android/i.test(ua)\n\t      , android = !likeAndroid && /android/i.test(ua)\n\t      , chromeBook = /CrOS/.test(ua)\n\t      , edgeVersion = getFirstMatch(/edge\\/(\\d+(\\.\\d+)?)/i)\n\t      , versionIdentifier = getFirstMatch(/version\\/(\\d+(\\.\\d+)?)/i)\n\t      , tablet = /tablet/i.test(ua)\n\t      , mobile = !tablet && /[^-]mobi/i.test(ua)\n\t      , result\n\t\n\t    if (/opera|opr/i.test(ua)) {\n\t      result = {\n\t        name: 'Opera'\n\t      , opera: t\n\t      , version: versionIdentifier || getFirstMatch(/(?:opera|opr)[\\s\\/](\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (/yabrowser/i.test(ua)) {\n\t      result = {\n\t        name: 'Yandex Browser'\n\t      , yandexbrowser: t\n\t      , version: versionIdentifier || getFirstMatch(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (/windows phone/i.test(ua)) {\n\t      result = {\n\t        name: 'Windows Phone'\n\t      , windowsphone: t\n\t      }\n\t      if (edgeVersion) {\n\t        result.msedge = t\n\t        result.version = edgeVersion\n\t      }\n\t      else {\n\t        result.msie = t\n\t        result.version = getFirstMatch(/iemobile\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (/msie|trident/i.test(ua)) {\n\t      result = {\n\t        name: 'Internet Explorer'\n\t      , msie: t\n\t      , version: getFirstMatch(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    } else if (chromeBook) {\n\t      result = {\n\t        name: 'Chrome'\n\t      , chromeBook: t\n\t      , chrome: t\n\t      , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    } else if (/chrome.+? edge/i.test(ua)) {\n\t      result = {\n\t        name: 'Microsoft Edge'\n\t      , msedge: t\n\t      , version: edgeVersion\n\t      }\n\t    }\n\t    else if (/chrome|crios|crmo/i.test(ua)) {\n\t      result = {\n\t        name: 'Chrome'\n\t      , chrome: t\n\t      , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (iosdevice) {\n\t      result = {\n\t        name : iosdevice == 'iphone' ? 'iPhone' : iosdevice == 'ipad' ? 'iPad' : 'iPod'\n\t      }\n\t      // WTF: version is not part of user agent in web apps\n\t      if (versionIdentifier) {\n\t        result.version = versionIdentifier\n\t      }\n\t    }\n\t    else if (/sailfish/i.test(ua)) {\n\t      result = {\n\t        name: 'Sailfish'\n\t      , sailfish: t\n\t      , version: getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (/seamonkey\\//i.test(ua)) {\n\t      result = {\n\t        name: 'SeaMonkey'\n\t      , seamonkey: t\n\t      , version: getFirstMatch(/seamonkey\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (/firefox|iceweasel/i.test(ua)) {\n\t      result = {\n\t        name: 'Firefox'\n\t      , firefox: t\n\t      , version: getFirstMatch(/(?:firefox|iceweasel)[ \\/](\\d+(\\.\\d+)?)/i)\n\t      }\n\t      if (/\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(ua)) {\n\t        result.firefoxos = t\n\t      }\n\t    }\n\t    else if (/silk/i.test(ua)) {\n\t      result =  {\n\t        name: 'Amazon Silk'\n\t      , silk: t\n\t      , version : getFirstMatch(/silk\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (android) {\n\t      result = {\n\t        name: 'Android'\n\t      , version: versionIdentifier\n\t      }\n\t    }\n\t    else if (/phantom/i.test(ua)) {\n\t      result = {\n\t        name: 'PhantomJS'\n\t      , phantom: t\n\t      , version: getFirstMatch(/phantomjs\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (/blackberry|\\bbb\\d+/i.test(ua) || /rim\\stablet/i.test(ua)) {\n\t      result = {\n\t        name: 'BlackBerry'\n\t      , blackberry: t\n\t      , version: versionIdentifier || getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)\n\t      }\n\t    }\n\t    else if (/(web|hpw)os/i.test(ua)) {\n\t      result = {\n\t        name: 'WebOS'\n\t      , webos: t\n\t      , version: versionIdentifier || getFirstMatch(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)\n\t      };\n\t      /touchpad\\//i.test(ua) && (result.touchpad = t)\n\t    }\n\t    else if (/bada/i.test(ua)) {\n\t      result = {\n\t        name: 'Bada'\n\t      , bada: t\n\t      , version: getFirstMatch(/dolfin\\/(\\d+(\\.\\d+)?)/i)\n\t      };\n\t    }\n\t    else if (/tizen/i.test(ua)) {\n\t      result = {\n\t        name: 'Tizen'\n\t      , tizen: t\n\t      , version: getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i) || versionIdentifier\n\t      };\n\t    }\n\t    else if (/safari/i.test(ua)) {\n\t      result = {\n\t        name: 'Safari'\n\t      , safari: t\n\t      , version: versionIdentifier\n\t      }\n\t    }\n\t    else {\n\t      result = {\n\t        name: getFirstMatch(/^(.*)\\/(.*) /),\n\t        version: getSecondMatch(/^(.*)\\/(.*) /)\n\t     };\n\t   }\n\t\n\t    // set webkit or gecko flag for browsers based on these engines\n\t    if (!result.msedge && /(apple)?webkit/i.test(ua)) {\n\t      result.name = result.name || \"Webkit\"\n\t      result.webkit = t\n\t      if (!result.version && versionIdentifier) {\n\t        result.version = versionIdentifier\n\t      }\n\t    } else if (!result.opera && /gecko\\//i.test(ua)) {\n\t      result.name = result.name || \"Gecko\"\n\t      result.gecko = t\n\t      result.version = result.version || getFirstMatch(/gecko\\/(\\d+(\\.\\d+)?)/i)\n\t    }\n\t\n\t    // set OS flags for platforms that have multiple browsers\n\t    if (!result.msedge && (android || result.silk)) {\n\t      result.android = t\n\t    } else if (iosdevice) {\n\t      result[iosdevice] = t\n\t      result.ios = t\n\t    }\n\t\n\t    // OS version extraction\n\t    var osVersion = '';\n\t    if (result.windowsphone) {\n\t      osVersion = getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i);\n\t    } else if (iosdevice) {\n\t      osVersion = getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i);\n\t      osVersion = osVersion.replace(/[_\\s]/g, '.');\n\t    } else if (android) {\n\t      osVersion = getFirstMatch(/android[ \\/-](\\d+(\\.\\d+)*)/i);\n\t    } else if (result.webos) {\n\t      osVersion = getFirstMatch(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i);\n\t    } else if (result.blackberry) {\n\t      osVersion = getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i);\n\t    } else if (result.bada) {\n\t      osVersion = getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i);\n\t    } else if (result.tizen) {\n\t      osVersion = getFirstMatch(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i);\n\t    }\n\t    if (osVersion) {\n\t      result.osversion = osVersion;\n\t    }\n\t\n\t    // device type extraction\n\t    var osMajorVersion = osVersion.split('.')[0];\n\t    if (tablet || iosdevice == 'ipad' || (android && (osMajorVersion == 3 || (osMajorVersion == 4 && !mobile))) || result.silk) {\n\t      result.tablet = t\n\t    } else if (mobile || iosdevice == 'iphone' || iosdevice == 'ipod' || android || result.blackberry || result.webos || result.bada) {\n\t      result.mobile = t\n\t    }\n\t\n\t    // Graded Browser Support\n\t    // http://developer.yahoo.com/yui/articles/gbs\n\t    if (result.msedge ||\n\t        (result.msie && result.version >= 10) ||\n\t        (result.yandexbrowser && result.version >= 15) ||\n\t        (result.chrome && result.version >= 20) ||\n\t        (result.firefox && result.version >= 20.0) ||\n\t        (result.safari && result.version >= 6) ||\n\t        (result.opera && result.version >= 10.0) ||\n\t        (result.ios && result.osversion && result.osversion.split(\".\")[0] >= 6) ||\n\t        (result.blackberry && result.version >= 10.1)\n\t        ) {\n\t      result.a = t;\n\t    }\n\t    else if ((result.msie && result.version < 10) ||\n\t        (result.chrome && result.version < 20) ||\n\t        (result.firefox && result.version < 20.0) ||\n\t        (result.safari && result.version < 6) ||\n\t        (result.opera && result.version < 10.0) ||\n\t        (result.ios && result.osversion && result.osversion.split(\".\")[0] < 6)\n\t        ) {\n\t      result.c = t\n\t    } else result.x = t\n\t\n\t    return result\n\t  }\n\t\n\t  var bowser = detect(typeof navigator !== 'undefined' ? navigator.userAgent : '')\n\t\n\t  bowser.test = function (browserList) {\n\t    for (var i = 0; i < browserList.length; ++i) {\n\t      var browserItem = browserList[i];\n\t      if (typeof browserItem=== 'string') {\n\t        if (browserItem in bowser) {\n\t          return true;\n\t        }\n\t      }\n\t    }\n\t    return false;\n\t  }\n\t\n\t  /*\n\t   * Set our detect method to the main bowser object so we can\n\t   * reuse it to test other user agents.\n\t   * This is needed to implement future tests.\n\t   */\n\t  bowser._detect = detect;\n\t\n\t  return bowser\n\t});\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar AnimatedElement = (function () {\n\t\n\t  /**\n\t   * Abstracts common DOM operations like hiding and showing transitionable elements into chainable promises.\n\t   * @param selector {string} The CSS selector of the element.\n\t   * @param showClass {string} The CSS class name to add to show the element.\n\t   * @param hideClass {string} The CSS class name to remove to hide the element.\n\t   * @param state {string} The current state of the element, defaults to 'shown'.\n\t   * @param targetTransitionEvents {string} An array of properties (e.g. ['transform', 'opacity']) to look for on transitionend of show() and hide() to know the transition is complete. As long as one matches, the transition is considered complete.\n\t   * @param nestedContentSelector {string} The CSS selector targeting the nested element within the current element. This nested element will be used for content getters and setters.\n\t   */\n\t\n\t  function AnimatedElement(selector, showClass, hideClass) {\n\t    var state = arguments.length <= 3 || arguments[3] === undefined ? 'shown' : arguments[3];\n\t    var targetTransitionEvents = arguments.length <= 4 || arguments[4] === undefined ? ['opacity', 'transform'] : arguments[4];\n\t    var nestedContentSelector = arguments.length <= 5 || arguments[5] === undefined ? null : arguments[5];\n\t\n\t    _classCallCheck(this, AnimatedElement);\n\t\n\t    this.selector = selector;\n\t    this.showClass = showClass;\n\t    this.hideClass = hideClass;\n\t    this.state = state;\n\t    this.targetTransitionEvents = targetTransitionEvents;\n\t    this.nestedContentSelector = nestedContentSelector;\n\t    this.transitionCheckTimeout = 500;\n\t  }\n\t\n\t  /**\n\t   * Asynchronously shows an element by applying its {showClass} CSS class.\n\t   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t   */\n\t\n\t  _createClass(AnimatedElement, [{\n\t    key: 'show',\n\t    value: function show() {\n\t      var _this = this;\n\t\n\t      if (!this.hidden) {\n\t        return Promise.resolve(this);\n\t      } else return new Promise(function (resolve) {\n\t        _this.state = 'showing';\n\t        _events2.default.trigger(AnimatedElement.EVENTS.SHOWING, _this);\n\t        if (_this.hideClass) (0, _utils.removeCssClass)(_this.element, _this.hideClass);\n\t        if (_this.showClass) (0, _utils.addCssClass)(_this.element, _this.showClass);\n\t        if (_this.targetTransitionEvents.length == 0) {\n\t          return resolve(_this);\n\t        } else {\n\t          var timerId = setTimeout(function () {\n\t            _loglevel2.default.warn(_this.constructor.name + ' did not completely show (state: ' + _this.state + ', activeState: ' + _this.activeState + ').');\n\t          }, _this.transitionCheckTimeout);\n\t          (0, _utils.once)(_this.element, 'transitionend', function (event, destroyListenerFn) {\n\t            if (event.target === _this.element && _this.targetTransitionEvents.includes(event.propertyName)) {\n\t              clearTimeout(timerId);\n\t              // Uninstall the event listener for transitionend\n\t              destroyListenerFn();\n\t              _this.state = 'shown';\n\t              _events2.default.trigger(AnimatedElement.EVENTS.SHOWN, _this);\n\t              return resolve(_this);\n\t            }\n\t          }, true);\n\t        }\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously hides an element by applying its {hideClass} CSS class.\n\t     * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t     */\n\t\n\t  }, {\n\t    key: 'hide',\n\t    value: function hide() {\n\t      var _this2 = this;\n\t\n\t      if (!this.shown) {\n\t        return Promise.resolve(this);\n\t      } else return new Promise(function (resolve) {\n\t        _this2.state = 'hiding';\n\t        _events2.default.trigger(AnimatedElement.EVENTS.HIDING, _this2);\n\t        if (_this2.showClass) (0, _utils.removeCssClass)(_this2.element, _this2.showClass);\n\t        if (_this2.hideClass) (0, _utils.addCssClass)(_this2.element, _this2.hideClass);\n\t        if (_this2.targetTransitionEvents.length == 0) {\n\t          return resolve(_this2);\n\t        } else {\n\t          (0, _utils.once)(_this2.element, 'transitionend', function (event, destroyListenerFn) {\n\t            var timerId = setTimeout(function () {\n\t              _loglevel2.default.warn(_this2.constructor.name + ' did not completely hide (state: ' + _this2.state + ', activeState: ' + _this2.activeState + ').');\n\t            }, _this2.transitionCheckTimeout);\n\t            if (event.target === _this2.element && _this2.targetTransitionEvents.includes(event.propertyName)) {\n\t              clearTimeout(timerId);\n\t              // Uninstall the event listener for transitionend\n\t              destroyListenerFn();\n\t              _this2.state = 'hidden';\n\t              _events2.default.trigger(AnimatedElement.EVENTS.HIDDEN, _this2);\n\t              return resolve(_this2);\n\t            }\n\t          }, true);\n\t        }\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously waits for an element to finish transitioning to being shown.\n\t     * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t     */\n\t\n\t  }, {\n\t    key: 'waitUntilShown',\n\t    value: function waitUntilShown() {\n\t      var _this3 = this;\n\t\n\t      if (this.state === 'shown') return Promise.resolve(this);else return new Promise(function (resolve) {\n\t        (0, _utils.once)(window, AnimatedElement.EVENTS.SHOWN, function (event, destroyListenerFn) {\n\t          var self = _this3;\n\t          if (event.detail === _this3) {\n\t            destroyListenerFn();\n\t            return resolve(_this3);\n\t          }\n\t        }, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously waits for an element to finish transitioning to being hidden.\n\t     * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t     */\n\t\n\t  }, {\n\t    key: 'waitUntilHidden',\n\t    value: function waitUntilHidden() {\n\t      var _this4 = this;\n\t\n\t      if (this.state === 'hidden') return Promise.resolve(this);else return new Promise(function (resolve) {\n\t        (0, _utils.once)(window, AnimatedElement.EVENTS.HIDDEN, function (event, destroyListenerFn) {\n\t          if (event.detail === _this4) {\n\t            destroyListenerFn();\n\t            return resolve(_this4);\n\t          }\n\t        }, true);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'content',\n\t\n\t    /**\n\t     * Returns the native element's innerHTML property.\n\t     * @returns {string} Returns the native element's innerHTML property.\n\t     */\n\t    get: function get() {\n\t      if (this.nestedContentSelector) return this.element.querySelector(this.nestedContentSelector).innerHTML;else return this.element.innerHTML;\n\t    }\n\t\n\t    /**\n\t     * Sets the native element's innerHTML property.\n\t     * @param value {string} The HTML to set to the element.\n\t     */\n\t    ,\n\t    set: function set(value) {\n\t      if (this.nestedContentSelector) this.element.querySelector(this.nestedContentSelector).innerHTML = value;else this.element.innerHTML = value;\n\t    }\n\t\n\t    /**\n\t     * Returns the native {Element} via document.querySelector().\n\t     * @returns {Element} Returns the native {Element} via document.querySelector().\n\t     */\n\t\n\t  }, {\n\t    key: 'element',\n\t    get: function get() {\n\t      return document.querySelector(this.selector);\n\t    }\n\t\n\t    /* States an element can be in */\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be transitioning to being shown.\n\t     */\n\t\n\t  }, {\n\t    key: 'showing',\n\t    get: function get() {\n\t      return this.state === 'showing';\n\t    }\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be already shown.\n\t     */\n\t\n\t  }, {\n\t    key: 'shown',\n\t    get: function get() {\n\t      return this.state === 'shown';\n\t    }\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be transitioning to hiding.\n\t     */\n\t\n\t  }, {\n\t    key: 'hiding',\n\t    get: function get() {\n\t      return this.state === 'hiding';\n\t    }\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be already hidden.\n\t     */\n\t\n\t  }, {\n\t    key: 'hidden',\n\t    get: function get() {\n\t      return this.state === 'hidden';\n\t    }\n\t  }], [{\n\t    key: 'EVENTS',\n\t    get: function get() {\n\t      return {\n\t        SHOWING: 'onesignal.nb.animatedelement.showing',\n\t        SHOWN: 'onesignal.nb.animatedelement.shown',\n\t        HIDING: 'onesignal.nb.animatedelement.hiding',\n\t        HIDDEN: 'onesignal.nb.animatedelement.hidden'\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return AnimatedElement;\n\t})();\n\t\n\texports.default = AnimatedElement;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _AnimatedElement2 = __webpack_require__(14);\n\t\n\tvar _AnimatedElement3 = _interopRequireDefault(_AnimatedElement2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar ActiveAnimatedElement = (function (_AnimatedElement) {\n\t  _inherits(ActiveAnimatedElement, _AnimatedElement);\n\t\n\t  /**\n\t   * Abstracts common DOM operations like hiding and showing transitionable elements into chainable promises.\n\t   * @param selector {string} The CSS selector of the element.\n\t   * @param showClass {string} The CSS class name to add to show the element.\n\t   * @param hideClass {string} The CSS class name to remove to hide the element.\n\t   * @param activeClass {string} The CSS class name to add to activate the element.\n\t   * @param inactiveClass {string} The CSS class name to remove to inactivate the element.\n\t   * @param state {string} The current state of the element, defaults to 'shown'.\n\t   * @param activeState {string} The current state of the element, defaults to 'active'.\n\t   * @param targetTransitionEvents {string} An array of properties (e.g. ['transform', 'opacity']) to look for on transitionend of show() and hide() to know the transition is complete. As long as one matches, the transition is considered complete.\n\t   * @param nestedContentSelector {string} The CSS selector targeting the nested element within the current element. This nested element will be used for content getters and setters.\n\t   */\n\t\n\t  function ActiveAnimatedElement(selector, showClass, hideClass, activeClass, inactiveClass) {\n\t    var state = arguments.length <= 5 || arguments[5] === undefined ? 'shown' : arguments[5];\n\t    var activeState = arguments.length <= 6 || arguments[6] === undefined ? 'active' : arguments[6];\n\t    var targetTransitionEvents = arguments.length <= 7 || arguments[7] === undefined ? ['opacity', 'transform'] : arguments[7];\n\t    var nestedContentSelector = arguments.length <= 8 || arguments[8] === undefined ? null : arguments[8];\n\t\n\t    _classCallCheck(this, ActiveAnimatedElement);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ActiveAnimatedElement).call(this, selector, showClass, hideClass, state, targetTransitionEvents, nestedContentSelector));\n\t\n\t    _this.activeClass = activeClass;\n\t    _this.inactiveClass = inactiveClass;\n\t    _this.activeState = activeState;\n\t    return _this;\n\t  }\n\t\n\t  /**\n\t   * Asynchronously activates an element by applying its {activeClass} CSS class.\n\t   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t   */\n\t\n\t  _createClass(ActiveAnimatedElement, [{\n\t    key: 'activate',\n\t    value: function activate() {\n\t      var _this2 = this;\n\t\n\t      if (!this.inactive || !this.shown) {\n\t        return Promise.resolve(this);\n\t      } else return new Promise(function (resolve) {\n\t        _this2.activeState = 'activating';\n\t        _events2.default.trigger(ActiveAnimatedElement.EVENTS.ACTIVATING, _this2);\n\t        if (_this2.inactiveClass) (0, _utils.removeCssClass)(_this2.element, _this2.inactiveClass);\n\t        if (_this2.activeClass) (0, _utils.addCssClass)(_this2.element, _this2.activeClass);\n\t        if (_this2.shown) {\n\t          if (_this2.targetTransitionEvents.length == 0) {\n\t            return resolve(_this2);\n\t          } else {\n\t            var timerId = setTimeout(function () {\n\t              _loglevel2.default.warn(_this2.constructor.name + ' did not completely activate (state: ' + _this2.state + ', activeState: ' + _this2.activeState + ').');\n\t            }, _this2.transitionCheckTimeout);\n\t            (0, _utils.once)(_this2.element, 'transitionend', function (event, destroyListenerFn) {\n\t              if (event.target === _this2.element && _this2.targetTransitionEvents.includes(event.propertyName)) {\n\t                clearTimeout(timerId);\n\t                // Uninstall the event listener for transitionend\n\t                destroyListenerFn();\n\t                _this2.activeState = 'active';\n\t                _events2.default.trigger(ActiveAnimatedElement.EVENTS.ACTIVE, _this2);\n\t                return resolve(_this2);\n\t              }\n\t            }, true);\n\t          }\n\t        } else {\n\t          call.warn('Ending activate() transition (alternative).');\n\t          _this2.activeState = 'active';\n\t          _events2.default.trigger(ActiveAnimatedElement.EVENTS.ACTIVE, _this2);\n\t          return resolve(_this2);\n\t        }\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously activates an element by applying its {activeClass} CSS class.\n\t     * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t     */\n\t\n\t  }, {\n\t    key: 'inactivate',\n\t    value: function inactivate() {\n\t      var _this3 = this;\n\t\n\t      if (this.constructor.name === 'Button') {\n\t        //debugger;\n\t      }\n\t      if (!this.active) {\n\t        return Promise.resolve(this);\n\t      } else return new Promise(function (resolve) {\n\t        _this3.activeState = 'inactivating';\n\t        _events2.default.trigger(ActiveAnimatedElement.EVENTS.INACTIVATING, _this3);\n\t        if (_this3.activeClass) (0, _utils.removeCssClass)(_this3.element, _this3.activeClass);\n\t        if (_this3.inactiveClass) (0, _utils.addCssClass)(_this3.element, _this3.inactiveClass);\n\t        if (_this3.shown) {\n\t          if (_this3.targetTransitionEvents.length == 0) {\n\t            return resolve(_this3);\n\t          } else {\n\t            var timerId = setTimeout(function () {\n\t              _loglevel2.default.warn(_this3.constructor.name + ' did not completely inactivate (state: ' + _this3.state + ', activeState: ' + _this3.activeState + ').');\n\t            }, _this3.transitionCheckTimeout);\n\t            (0, _utils.once)(_this3.element, 'transitionend', function (event, destroyListenerFn) {\n\t              if (event.target === _this3.element && _this3.targetTransitionEvents.includes(event.propertyName)) {\n\t                clearTimeout(timerId);\n\t                // Uninstall the event listener for transitionend\n\t                destroyListenerFn();\n\t                _this3.activeState = 'inactive';\n\t                _events2.default.trigger(ActiveAnimatedElement.EVENTS.INACTIVE, _this3);\n\t                return resolve(_this3);\n\t              }\n\t            }, true);\n\t          }\n\t        } else {\n\t          _this3.activeState = 'inactive';\n\t          _events2.default.trigger(ActiveAnimatedElement.EVENTS.INACTIVE, _this3);\n\t          return resolve(_this3);\n\t        }\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously waits for an element to finish transitioning to being active.\n\t     * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t     */\n\t\n\t  }, {\n\t    key: 'waitUntilActive',\n\t    value: function waitUntilActive() {\n\t      var _this4 = this;\n\t\n\t      if (this.active) return Promise.resolve(this);else return new Promise(function (resolve) {\n\t        (0, _utils.once)(window, ActiveAnimatedElement.EVENTS.ACTIVE, function (event, destroyListenerFn) {\n\t          if (event.detail === _this4) {\n\t            destroyListenerFn();\n\t            return resolve(_this4);\n\t          }\n\t        }, true);\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously waits for an element to finish transitioning to being inactive.\n\t     * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n\t     */\n\t\n\t  }, {\n\t    key: 'waitUntilInactive',\n\t    value: function waitUntilInactive() {\n\t      var _this5 = this;\n\t\n\t      if (this.inactive) return Promise.resolve(this);else return new Promise(function (resolve) {\n\t        (0, _utils.once)(window, ActiveAnimatedElement.EVENTS.INACTIVE, function (event, destroyListenerFn) {\n\t          if (event.detail === _this5) {\n\t            destroyListenerFn();\n\t            return resolve(_this5);\n\t          }\n\t        }, true);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'activating',\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be transitioning to being activated.\n\t     */\n\t    get: function get() {\n\t      return this.activeState === 'activating';\n\t    }\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be already active.\n\t     */\n\t\n\t  }, {\n\t    key: 'active',\n\t    get: function get() {\n\t      return this.activeState === 'active';\n\t    }\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be transitioning to inactive.\n\t     */\n\t\n\t  }, {\n\t    key: 'inactivating',\n\t    get: function get() {\n\t      return this.activeState === 'inactivating';\n\t    }\n\t\n\t    /**\n\t     * Synchronously returns the last known state of the element.\n\t     * @returns {boolean} Returns true if the element was last known to be already inactive.\n\t     */\n\t\n\t  }, {\n\t    key: 'inactive',\n\t    get: function get() {\n\t      return this.activeState === 'inactive';\n\t    }\n\t  }], [{\n\t    key: 'EVENTS',\n\t    get: function get() {\n\t      return Object.assign({}, _AnimatedElement3.default.EVENTS, {\n\t        ACTIVATING: 'onesignal.nb.activeanimatedelement.activating',\n\t        ACTIVE: 'onesignal.nb.activeanimatedelement.active',\n\t        INACTIVATING: 'onesignal.nb.activeanimatedelement.inactivating',\n\t        INACTIVE: 'onesignal.nb.activeanimatedelement.inactive'\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return ActiveAnimatedElement;\n\t})(_AnimatedElement3.default);\n\t\n\texports.default = ActiveAnimatedElement;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _AnimatedElement = __webpack_require__(14);\n\t\n\tvar _AnimatedElement2 = _interopRequireDefault(_AnimatedElement);\n\t\n\tvar _ActiveAnimatedElement = __webpack_require__(15);\n\t\n\tvar _ActiveAnimatedElement2 = _interopRequireDefault(_ActiveAnimatedElement);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Launcher = (function (_ActiveAnimatedElemen) {\n\t  _inherits(Launcher, _ActiveAnimatedElemen);\n\t\n\t  function Launcher(bell) {\n\t    _classCallCheck(this, Launcher);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Launcher).call(this, '.onesignal-bell-launcher', 'onesignal-bell-launcher-active', null, null, 'onesignal-bell-launcher-inactive', 'hidden', 'active'));\n\t\n\t    _this.bell = bell;\n\t    _this.wasInactive = false;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Launcher, [{\n\t    key: 'resize',\n\t    value: function resize(size) {\n\t      var _this2 = this;\n\t\n\t      // If the size is the same, do nothing and resolve an empty promise\n\t      if (size === 'small' && (0, _utils.hasCssClass)(this.element, 'onesignal-bell-launcher-sm') || size === 'medium' && (0, _utils.hasCssClass)(this.element, 'onesignal-bell-launcher-md') || size === 'large' && (0, _utils.hasCssClass)(this.element, 'onesignal-bell-launcher-lg')) {\n\t        return Promise.resolve(this);\n\t      }\n\t      (0, _utils.removeCssClass)(this.element, 'onesignal-bell-launcher-sm');\n\t      (0, _utils.removeCssClass)(this.element, 'onesignal-bell-launcher-md');\n\t      (0, _utils.removeCssClass)(this.element, 'onesignal-bell-launcher-lg');\n\t      if (size === 'small') {\n\t        (0, _utils.addCssClass)(this.element, 'onesignal-bell-launcher-sm');\n\t      } else if (size === 'medium') {\n\t        (0, _utils.addCssClass)(this.element, 'onesignal-bell-launcher-md');\n\t      } else if (size === 'large') {\n\t        (0, _utils.addCssClass)(this.element, 'onesignal-bell-launcher-lg');\n\t      } else {\n\t        throw new Error('Invalid OneSignal bell size ' + size);\n\t      }\n\t      if (!this.shown) {\n\t        return Promise.resolve(this);\n\t      } else {\n\t        return new Promise(function (resolve) {\n\t          // Once the launcher has finished shrinking down\n\t          if (_this2.targetTransitionEvents.length == 0) {\n\t            return resolve(_this2);\n\t          } else {\n\t            var timerId = setTimeout(function () {\n\t              _loglevel2.default.warn(_this2.constructor.name + ' did not completely resize (state: ' + _this2.state + ', activeState: ' + _this2.activeState + ').');\n\t            }, _this2.transitionCheckTimeout);\n\t            (0, _utils.once)(_this2.element, 'transitionend', function (event, destroyListenerFn) {\n\t              if (event.target === _this2.element && _this2.targetTransitionEvents.includes(event.propertyName)) {\n\t                clearTimeout(timerId);\n\t                // Uninstall the event listener for transitionend\n\t                destroyListenerFn();\n\t                return resolve(_this2);\n\t              }\n\t            }, true);\n\t          }\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'activateIfInactive',\n\t    value: function activateIfInactive() {\n\t      if (this.inactive) {\n\t        this.wasInactive = true;\n\t        return this.activate();\n\t      } else return (0, _utils.nothing)();\n\t    }\n\t  }, {\n\t    key: 'inactivateIfWasInactive',\n\t    value: function inactivateIfWasInactive() {\n\t      if (this.wasInactive) {\n\t        this.wasInactive = false;\n\t        return this.inactivate();\n\t      } else return (0, _utils.nothing)();\n\t    }\n\t  }, {\n\t    key: 'clearIfWasInactive',\n\t    value: function clearIfWasInactive() {\n\t      this.wasInactive = false;\n\t    }\n\t  }, {\n\t    key: 'inactivate',\n\t    value: function inactivate() {\n\t      var _this3 = this;\n\t\n\t      return this.bell.message.hide().then(function () {\n\t        if (_this3.bell.badge.content.length > 0) {\n\t          return _this3.bell.badge.hide().then(function () {\n\t            return Promise.all([_get(Object.getPrototypeOf(Launcher.prototype), 'inactivate', _this3).call(_this3), _this3.resize('small')]);\n\t          }).then(function () {\n\t            return _this3.bell.badge.show();\n\t          }).catch(function (e) {\n\t            return _loglevel2.default.error(e);\n\t          });\n\t        } else {\n\t          return Promise.all([_get(Object.getPrototypeOf(Launcher.prototype), 'inactivate', _this3).call(_this3), _this3.resize('small')]);\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'activate',\n\t    value: function activate() {\n\t      var _this4 = this;\n\t\n\t      if (this.bell.badge.content.length > 0) {\n\t        return this.bell.badge.hide().then(function () {\n\t          return Promise.all([_get(Object.getPrototypeOf(Launcher.prototype), 'activate', _this4).call(_this4), _this4.resize(_this4.bell.options.size)]);\n\t        }).then(function () {\n\t          return _this4.bell.badge.show();\n\t        }).catch(function (e) {\n\t          return _loglevel2.default.error(e);\n\t        });\n\t      } else {\n\t        return Promise.all([_get(Object.getPrototypeOf(Launcher.prototype), 'activate', this).call(this), this.resize(this.bell.options.size)]);\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Launcher;\n\t})(_ActiveAnimatedElement2.default);\n\t\n\texports.default = Launcher;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _ActiveAnimatedElement = __webpack_require__(15);\n\t\n\tvar _ActiveAnimatedElement2 = _interopRequireDefault(_ActiveAnimatedElement);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Badge = (function (_ActiveAnimatedElemen) {\n\t  _inherits(Badge, _ActiveAnimatedElemen);\n\t\n\t  function Badge() {\n\t    _classCallCheck(this, Badge);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(Badge).call(this, '.onesignal-bell-launcher-badge', 'onesignal-bell-launcher-badge-opened', null, 'onesignal-bell-launcher-badge-active', null, 'hidden'));\n\t  }\n\t\n\t  _createClass(Badge, [{\n\t    key: 'increment',\n\t    value: function increment() {\n\t      // If it IS a number (is not not a number)\n\t      if (!isNaN(this.content)) {\n\t        var badgeNumber = +this.content; // Coerce to int\n\t        badgeNumber += 1;\n\t        this.content = badgeNumber.toString();\n\t        return badgeNumber;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'decrement',\n\t    value: function decrement() {\n\t      // If it IS a number (is not not a number)\n\t      if (!isNaN(this.content)) {\n\t        var badgeNumber = +this.content; // Coerce to int\n\t        badgeNumber -= 1;\n\t        if (badgeNumber > 0) this.content = badgeNumber.toString();else this.content = '';\n\t        return badgeNumber;\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Badge;\n\t})(_ActiveAnimatedElement2.default);\n\t\n\texports.default = Badge;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _ActiveAnimatedElement = __webpack_require__(15);\n\t\n\tvar _ActiveAnimatedElement2 = _interopRequireDefault(_ActiveAnimatedElement);\n\t\n\tvar _bell = __webpack_require__(12);\n\t\n\tvar _bell2 = _interopRequireDefault(_bell);\n\t\n\tvar _limitStore = __webpack_require__(10);\n\t\n\tvar _limitStore2 = _interopRequireDefault(_limitStore);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Button = (function (_ActiveAnimatedElemen) {\n\t  _inherits(Button, _ActiveAnimatedElemen);\n\t\n\t  function Button(bell) {\n\t    _classCallCheck(this, Button);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Button).call(this, '.onesignal-bell-launcher-button', null, null, 'onesignal-bell-launcher-button-active', null, 'shown', []));\n\t\n\t    _this.bell = bell;\n\t    _this.events = {\n\t      mouse: 'bell.launcher.button.mouse'\n\t    };\n\t\n\t    _this.element.addEventListener('touchstart', function (e) {\n\t      _this.onHovering(e);\n\t      _this.onTap(e);\n\t    });\n\t\n\t    _this.element.addEventListener('mouseenter', function (e) {\n\t      _this.onHovering(e);\n\t    });\n\t\n\t    _this.element.addEventListener('mouseleave', function (e) {\n\t      _this.onHovered(e);\n\t    });\n\t    _this.element.addEventListener('touchmove', function (e) {\n\t      _this.onHovered(e);\n\t    });\n\t\n\t    _this.element.addEventListener('mousedown', function (e) {\n\t      _this.onTap(e);\n\t    });\n\t\n\t    _this.element.addEventListener('mouseup', function (e) {\n\t      _this.onEndTap(e);\n\t    });\n\t\n\t    _this.element.addEventListener('click', function (e) {\n\t      _this.onHovered(e);\n\t      _this.onClick(e);\n\t    });\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Button, [{\n\t    key: 'onHovering',\n\t    value: function onHovering(e) {\n\t      if (_limitStore2.default.isEmpty(this.events.mouse) || _limitStore2.default.getLast(this.events.mouse) === 'out') {\n\t        _events2.default.trigger(_bell2.default.EVENTS.HOVERING);\n\t      }\n\t      _limitStore2.default.put(this.events.mouse, 'over');\n\t    }\n\t  }, {\n\t    key: 'onHovered',\n\t    value: function onHovered(e) {\n\t      _limitStore2.default.put(this.events.mouse, 'out');\n\t      _events2.default.trigger(_bell2.default.EVENTS.HOVERED);\n\t    }\n\t  }, {\n\t    key: 'onTap',\n\t    value: function onTap(e) {\n\t      this.pulse();\n\t      this.activate();\n\t      this.bell.badge.activate();\n\t    }\n\t  }, {\n\t    key: 'onEndTap',\n\t    value: function onEndTap(e) {\n\t      this.inactivate();\n\t      this.bell.badge.inactivate();\n\t    }\n\t  }, {\n\t    key: 'onClick',\n\t    value: function onClick(e) {\n\t      _events2.default.trigger(_bell2.default.EVENTS.BELL_CLICK);\n\t      _events2.default.trigger(_bell2.default.EVENTS.LAUNCHER_CLICK);\n\t    }\n\t  }, {\n\t    key: 'pulse',\n\t    value: function pulse() {\n\t      (0, _utils.removeDomElement)('.pulse-ring');\n\t      addDomElement(this.element, 'beforeend', '<div class=\"pulse-ring\"></div>');\n\t    }\n\t  }]);\n\t\n\t  return Button;\n\t})(_ActiveAnimatedElement2.default);\n\t\n\texports.default = Button;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(fetch) {'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _AnimatedElement2 = __webpack_require__(14);\n\t\n\tvar _AnimatedElement3 = _interopRequireDefault(_AnimatedElement2);\n\t\n\tvar _bowser = __webpack_require__(13);\n\t\n\tvar Browser = _interopRequireWildcard(_bowser);\n\t\n\tvar _bell = __webpack_require__(12);\n\t\n\tvar _bell2 = _interopRequireDefault(_bell);\n\t\n\tvar _vars = __webpack_require__(1);\n\t\n\tvar _limitStore = __webpack_require__(10);\n\t\n\tvar _limitStore2 = _interopRequireDefault(_limitStore);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Dialog = (function (_AnimatedElement) {\n\t  _inherits(Dialog, _AnimatedElement);\n\t\n\t  function Dialog(bell) {\n\t    _classCallCheck(this, Dialog);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Dialog).call(this, '.onesignal-bell-launcher-dialog', 'onesignal-bell-launcher-dialog-opened', null, 'hidden', ['opacity', 'transform'], '.onesignal-bell-launcher-dialog-body'));\n\t\n\t    _this.bell = bell;\n\t    _this.subscribeButtonId = '#onesignal-bell-container .onesignal-bell-launcher #subscribe-button';\n\t    _this.unsubscribeButtonId = '#onesignal-bell-container .onesignal-bell-launcher #unsubscribe-button';\n\t    _this.notificationIcons = null;\n\t\n\t    window.addEventListener(_bell2.default.EVENTS.STATE_CHANGED, function (state) {\n\t      state = state.detail;\n\t      if (state.to === _bell2.default.STATES.SUBSCRIBED) {\n\t        if (_this.notificationIcons === null) {\n\t          _this.getNotificationIcons().then(function (icons) {\n\t            _this.notificationIcons = icons;\n\t          });\n\t        }\n\t      }\n\t    });\n\t\n\t    window.addEventListener('click', function (event) {\n\t      if (event.target === document.querySelector(_this.subscribeButtonId)) _events2.default.trigger(_bell2.default.EVENTS.SUBSCRIBE_CLICK);else if (event.target === document.querySelector(_this.unsubscribeButtonId)) _events2.default.trigger(_bell2.default.EVENTS.UNSUBSCRIBE_CLICK);\n\t    });\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Dialog, [{\n\t    key: 'getNotificationIcons',\n\t    value: function getNotificationIcons() {\n\t      if (!OneSignal._app_id) {\n\t        return Promise.resolve(null);\n\t      }\n\t      var url = OneSignal._API_URL + 'apps/' + OneSignal._app_id + '/icon';\n\t      return new Promise(function (resolve, reject) {\n\t        fetch(url).then(function (response) {\n\t          return response.json();\n\t        }).then(function (data) {\n\t          if (data.errors) {\n\t            _loglevel2.default.error('API call %c' + url, (0, _utils.getConsoleStyle)('code'), 'failed with:', data.errors);\n\t            reject(null);\n\t          }\n\t          resolve(data);\n\t        }).catch(function (ex) {\n\t          _loglevel2.default.error('Call %cgetNotificationIcons()', (0, _utils.getConsoleStyle)('code'), 'failed with:', ex);\n\t          reject(null);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getPlatformNotificationIcon',\n\t    value: function getPlatformNotificationIcon() {\n\t      if (this.notificationIcons) {\n\t        if (Browser.chrome || Browser.firefox) {\n\t          return this.notificationIcons.chrome || this.notificationIcons.safari;\n\t        } else if (Browser.safari) {\n\t          return this.notificationIcons.safari || this.notificationIcons.chrome;\n\t        }\n\t      } else return null;\n\t    }\n\t  }, {\n\t    key: 'show',\n\t    value: function show() {\n\t      var _this2 = this;\n\t\n\t      return this.updateBellLauncherDialogBody().then(function () {\n\t        return _get(Object.getPrototypeOf(Dialog.prototype), 'show', _this2).call(_this2);\n\t      }).catch(function (e) {\n\t        return _loglevel2.default.error(e);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'updateBellLauncherDialogBody',\n\t    value: function updateBellLauncherDialogBody() {\n\t      var _this3 = this;\n\t\n\t      return new Promise(function (resolve, reject) {\n\t        (0, _utils.clearDomElementChildren)(document.querySelector(_this3.nestedContentSelector));\n\t\n\t        var currentSetSubscription = _limitStore2.default.getLast('setsubscription.value');\n\t        var contents = 'Nothing to show.';\n\t\n\t        var footer = '';\n\t        if (_this3.bell.options.showCredit) {\n\t          footer = '<div class=\"divider\"></div>\\n                  <div class=\"kickback\">Powered by <a href=\"https://onesignal.com\" class=\"kickback\" target=\"_blank\">OneSignal</a></div>';\n\t        }\n\t\n\t        if (_this3.bell.state === _bell2.default.STATES.SUBSCRIBED && currentSetSubscription === true || _this3.bell.state === _bell2.default.STATES.UNSUBSCRIBED && currentSetSubscription === false) {\n\t\n\t          var notificationIconHtml = '';\n\t          var imageUrl = _this3.getPlatformNotificationIcon();\n\t          if (imageUrl) {\n\t            notificationIconHtml = '<div class=\"push-notification-icon\"><img src=\"' + imageUrl + '\"></div>';\n\t          } else {\n\t            notificationIconHtml = '<div class=\"push-notification-icon push-notification-icon-default\"></div>';\n\t          }\n\t\n\t          var buttonHtml = '';\n\t          if (_this3.bell.state !== _bell2.default.STATES.SUBSCRIBED) buttonHtml = '<button type=\"button\" class=\"action\" id=\"' + _this3.subscribeButtonSelectorId + '\">' + _this3.bell.text['dialog.main.button.subscribe'] + '</button>';else buttonHtml = '<button type=\"button\" class=\"action\" id=\"' + _this3.unsubscribeButtonSelectorId + '\">' + _this3.bell.text['dialog.main.button.unsubscribe'] + '</button>';\n\t\n\t          contents = '\\n                  <h1>' + _this3.bell.text['dialog.main.title'] + '</h1>\\n                  <div class=\"divider\"></div>\\n                  <div class=\"push-notification\">\\n                    ' + notificationIconHtml + '\\n                    <div class=\"push-notification-text-container\">\\n                      <div class=\"push-notification-text push-notification-text-short\"></div>\\n                      <div class=\"push-notification-text\"></div>\\n                      <div class=\"push-notification-text push-notification-text-medium\"></div>\\n                      <div class=\"push-notification-text\"></div>\\n                      <div class=\"push-notification-text push-notification-text-medium\"></div>\\n                    </div>\\n                  </div>\\n                  <div class=\"action-container\">\\n                    ' + buttonHtml + '\\n                  </div>\\n                  ' + footer + '\\n                ';\n\t        } else if (_this3.bell.state === _bell2.default.STATES.BLOCKED) {\n\t          var imageUrl = null;\n\t          if (Browser.chrome) {\n\t            if (!Browser.mobile && !Browser.tablet) {\n\t              imageUrl = _vars.HOST_URL + '/bell/chrome-unblock.jpg';\n\t            }\n\t          } else if (Browser.firefox) imageUrl = _vars.HOST_URL + '/bell/firefox-unblock.jpg';else if (Browser.safari) imageUrl = _vars.HOST_URL + '/bell/safari-unblock.jpg';\n\t\n\t          var instructionsHtml = '';\n\t          if (imageUrl) {\n\t            instructionsHtml = '\\n\\n            <a href=\"' + imageUrl + '\" target=\"_blank\"><img src=\"' + imageUrl + '\"></a></div>\\n            ';\n\t          }\n\t\n\t          if ((Browser.mobile || Browser.tablet) && Browser.chrome) {\n\t            instructionsHtml = '\\n            <ol>\\n            <li>Access <strong>Settings</strong> by tapping the three menu dots <strong></strong></li>\\n            <li>Click <strong>Site settings</strong> under Advanced.</li>\\n            <li>Click <strong>Notifications</strong>.</li>\\n            <li>Find and click this entry for this website.</li>\\n            <li>Click <strong>Notifications</strong> and set it to <strong>Allow</strong>.</li>\\n            </ol>\\n          ';\n\t          }\n\t          contents = '\\n                  <h1>' + _this3.bell.text['dialog.blocked.title'] + '</h1>\\n                  <div class=\"divider\"></div>\\n                  <div class=\"instructions\">\\n                  <p>' + _this3.bell.text['dialog.blocked.message'] + '</p>\\n                  ' + instructionsHtml + '\\n                  </div>\\n                  ' + footer + '\\n                ';\n\t        }\n\t\n\t        addDomElement(document.querySelector(_this3.nestedContentSelector), 'beforeend', contents);\n\t        resolve();\n\t      }).catch(function (e) {\n\t        return _loglevel2.default.error(e);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'subscribeButtonSelectorId',\n\t    get: function get() {\n\t      return 'subscribe-button';\n\t    }\n\t  }, {\n\t    key: 'unsubscribeButtonSelectorId',\n\t    get: function get() {\n\t      return 'unsubscribe-button';\n\t    }\n\t  }, {\n\t    key: 'subscribeButton',\n\t    get: function get() {\n\t      return this.element.querySelector('#' + this.subscribeButtonSelectorId);\n\t    }\n\t  }, {\n\t    key: 'unsubscribeButton',\n\t    get: function get() {\n\t      return this.element.querySelector('#' + this.unsubscribeButtonSelectorId);\n\t    }\n\t  }]);\n\t\n\t  return Dialog;\n\t})(_AnimatedElement3.default);\n\t\n\texports.default = Dialog;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)))\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tvar _AnimatedElement2 = __webpack_require__(14);\n\t\n\tvar _AnimatedElement3 = _interopRequireDefault(_AnimatedElement2);\n\t\n\tvar _bell = __webpack_require__(12);\n\t\n\tvar _bell2 = _interopRequireDefault(_bell);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Message = (function (_AnimatedElement) {\n\t  _inherits(Message, _AnimatedElement);\n\t\n\t  function Message(bell) {\n\t    _classCallCheck(this, Message);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Message).call(this, '.onesignal-bell-launcher-message', 'onesignal-bell-launcher-message-opened', null, 'hidden', ['opacity', 'transform'], '.onesignal-bell-launcher-message-body'));\n\t\n\t    _this.bell = bell;\n\t    _this.contentType = '';\n\t    _this.queued = [];\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Message, [{\n\t    key: 'display',\n\t    // This message was a user-queued message\n\t    value: function display(type, content) {\n\t      var _this2 = this;\n\t\n\t      var duration = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\t\n\t      _loglevel2.default.debug('Calling %cdisplay(' + type + ', ' + content + ', ' + duration + ').', (0, _utils.getConsoleStyle)('code'));\n\t      return new Promise(function (resolve, reject) {\n\t        (_this2.shown ? _this2.hide() : (0, _utils.nothing)()).then(function () {\n\t          _this2.content = content;\n\t          _this2.contentType = type;\n\t        }).then(function () {\n\t          return _this2.show();\n\t        }).then(function () {\n\t          return (0, _utils.delay)(duration);\n\t        }).then(function () {\n\t          return _this2.hide();\n\t        }).then(function () {\n\t          // Reset back to normal content type so stuff can show a gain\n\t          _this2.content = _this2.getTipForState();\n\t          _this2.contentType = 'tip';\n\t        }).then(resolve).catch(function (e) {\n\t          return _loglevel2.default.error(e);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getTipForState',\n\t    value: function getTipForState() {\n\t      if (this.bell.state === _bell2.default.STATES.UNSUBSCRIBED) return this.bell.text['tip.state.unsubscribed'];else if (this.bell.state === _bell2.default.STATES.SUBSCRIBED) return this.bell.text['tip.state.subscribed'];else if (this.bell.state === _bell2.default.STATES.BLOCKED) return this.bell.text['tip.state.blocked'];\n\t    }\n\t  }, {\n\t    key: 'enqueue',\n\t    value: function enqueue(message) {\n\t      var _this3 = this;\n\t\n\t      var notify = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t\n\t      this.queued.push(message);\n\t      return new Promise(function (resolve) {\n\t        if (_this3.bell.badge.shown) {\n\t          _this3.bell.badge.hide().then(function () {\n\t            return _this3.bell.badge.increment();\n\t          }).then(function () {\n\t            return _this3.bell.badge.show();\n\t          }).then(resolve);\n\t        } else {\n\t          _this3.bell.badge.increment();\n\t          if (_this3.bell.initialized) _this3.bell.badge.show().then(resolve);else resolve();\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'dequeue',\n\t    value: function dequeue(message) {\n\t      var _this4 = this;\n\t\n\t      var dequeuedMessage = this.queued.pop(message);\n\t      return new Promise(function (resolve) {\n\t        if (_this4.bell.badge.shown) {\n\t          _this4.bell.badge.hide().then(function () {\n\t            return _this4.bell.badge.decrement();\n\t          }).then(function (numMessagesLeft) {\n\t            if (numMessagesLeft > 0) {\n\t              return _this4.bell.badge.show();\n\t            } else {\n\t              return Promise.resolve(_this4);\n\t            }\n\t          }).then(resolve(dequeuedMessage));\n\t        } else {\n\t          _this4.bell.badge.decrement();\n\t          resolve(dequeuedMessage);\n\t        }\n\t      });\n\t    }\n\t  }], [{\n\t    key: 'TIMEOUT',\n\t    get: function get() {\n\t      return 2500;\n\t    }\n\t  }, {\n\t    key: 'TYPES',\n\t    get: function get() {\n\t      return {\n\t        TIP: 'tip', // Appears on button hover, disappears on button endhover\n\t        MESSAGE: 'message', // Appears manually for a specified duration, site visitor cannot control its display. Messages override tips\n\t        QUEUED: 'queued' };\n\t    }\n\t  }]);\n\t\n\t  return Message;\n\t})(_AnimatedElement3.default);\n\t\n\texports.default = Message;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(22);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(24)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js!./bell.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js!./bell.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(23)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"/*!\\n* CleanSlate\\n*   github.com/premasagar/cleanslate\\n*\\n*/.onesignal-reset,.onesignal-reset a,.onesignal-reset abbr,.onesignal-reset acronym,.onesignal-reset address,.onesignal-reset applet,.onesignal-reset area,.onesignal-reset article,.onesignal-reset aside,.onesignal-reset audio,.onesignal-reset b,.onesignal-reset big,.onesignal-reset blockquote,.onesignal-reset button,.onesignal-reset canvas,.onesignal-reset caption,.onesignal-reset cite,.onesignal-reset code,.onesignal-reset col,.onesignal-reset colgroup,.onesignal-reset datalist,.onesignal-reset dd,.onesignal-reset del,.onesignal-reset dfn,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset em,.onesignal-reset fieldset,.onesignal-reset figcaption,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hr,.onesignal-reset i,.onesignal-reset iframe,.onesignal-reset img,.onesignal-reset input,.onesignal-reset ins,.onesignal-reset kbd,.onesignal-reset label,.onesignal-reset legend,.onesignal-reset li,.onesignal-reset main,.onesignal-reset map,.onesignal-reset mark,.onesignal-reset menu,.onesignal-reset meta,.onesignal-reset nav,.onesignal-reset object,.onesignal-reset ol,.onesignal-reset optgroup,.onesignal-reset option,.onesignal-reset output,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset q,.onesignal-reset samp,.onesignal-reset section,.onesignal-reset select,.onesignal-reset small,.onesignal-reset span,.onesignal-reset strike,.onesignal-reset strong,.onesignal-reset sub,.onesignal-reset summary,.onesignal-reset sup,.onesignal-reset table,.onesignal-reset tbody,.onesignal-reset td,.onesignal-reset textarea,.onesignal-reset tfoot,.onesignal-reset th,.onesignal-reset thead,.onesignal-reset time,.onesignal-reset tr,.onesignal-reset tt,.onesignal-reset ul,.onesignal-reset var,.onesignal-reset video{background-attachment:scroll;background-color:transparent;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#000;border:medium none currentColor;bottom:auto;clear:none;clip:auto;color:inherit;counter-increment:none;counter-reset:none;cursor:auto;direction:inherit;display:inline;float:none;font-family:inherit;font-size:inherit;font-style:inherit;font-variant:normal;font-weight:inherit;height:auto;left:auto;letter-spacing:normal;line-height:inherit;list-style-type:inherit;list-style-position:outside;list-style-image:none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;outline:medium none invert;overflow:visible;padding:0;position:static;quotes:\\\"\\\" \\\"\\\";right:auto;table-layout:auto;text-align:inherit;text-decoration:inherit;text-indent:0;text-transform:none;top:auto;unicode-bidi:normal;vertical-align:baseline;visibility:inherit;white-space:normal;width:auto;word-spacing:normal;z-index:auto;background-origin:padding-box;background-clip:border-box;background-size:auto;-webkit-border-image:none;-o-border-image:none;border-image:none;border-radius:0;box-shadow:none;box-sizing:content-box;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;-webkit-column-gap:normal;-moz-column-gap:normal;column-gap:normal;-webkit-column-rule:medium none #000;-moz-column-rule:medium none #000;column-rule:medium none #000;-webkit-column-span:1;-moz-column-span:1;column-span:1;-webkit-column-width:auto;-moz-column-width:auto;column-width:auto;-webkit-font-feature-settings:normal;font-feature-settings:normal;overflow-x:visible;overflow-y:visible;-webkit-hyphens:manual;-moz-hyphens:manual;-ms-hyphens:manual;hyphens:manual;-webkit-perspective:none;-ms-perspective:none;-o-perspective:none;perspective:none;-webkit-perspective-origin:50% 50%;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%;-webkit-backface-visibility:visible;backface-visibility:visible;text-shadow:none;-webkit-transition:all 0s ease 0s;transition:all 0s ease 0s;-webkit-transform:none;-ms-transform:none;transform:none;-webkit-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform-style:flat;transform-style:flat;word-break:normal}.onesignal-reset,.onesignal-reset address,.onesignal-reset article,.onesignal-reset audio,.onesignal-reset blockquote,.onesignal-reset caption,.onesignal-reset colgroup,.onesignal-reset dd,.onesignal-reset dialog,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset fieldset,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hgroup,.onesignal-reset hr,.onesignal-reset main,.onesignal-reset menu,.onesignal-reset nav,.onesignal-reset ol,.onesignal-reset option,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset section,.onesignal-reset summary,.onesignal-reset ul,.onesignal-reset video{display:block}.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6{font-weight:700}.onesignal-reset h1{font-size:2em;padding:.67em 0}.onesignal-reset h2{font-size:1.5em;padding:.83em 0}.onesignal-reset h3{font-size:1.17em;padding:.83em 0}.onesignal-reset h4{font-size:1em}.onesignal-reset h5{font-size:.83em}.onesignal-reset p{margin:1em 0}.onesignal-reset table{display:table}.onesignal-reset thead{display:table-header-group}.onesignal-reset tbody{display:table-row-group}.onesignal-reset tfoot{display:table-footer-group}.onesignal-reset tr{display:table-row}.onesignal-reset td,.onesignal-reset th{display:table-cell;padding:2px}.onesignal-reset ol,.onesignal-reset ul{margin:1em 0}.onesignal-reset ol li,.onesignal-reset ol ol li,.onesignal-reset ol ol ol li,.onesignal-reset ol ol ul li,.onesignal-reset ol ul ul li,.onesignal-reset ul li,.onesignal-reset ul ol ol li,.onesignal-reset ul ul li,.onesignal-reset ul ul ol li,.onesignal-reset ul ul ul li{list-style-position:inside;margin-top:.08em}.onesignal-reset ol ol,.onesignal-reset ol ol ol,.onesignal-reset ol ol ul,.onesignal-reset ol ul,.onesignal-reset ol ul ul,.onesignal-reset ul ol,.onesignal-reset ul ol ol,.onesignal-reset ul ul,.onesignal-reset ul ul ol,.onesignal-reset ul ul ul{padding-left:40px;margin:0}.onesignal-reset nav ol,.onesignal-reset nav ul{list-style-type:none}.onesignal-reset menu,.onesignal-reset ul{list-style-type:disc}.onesignal-reset ol{list-style-type:decimal}.onesignal-reset menu menu,.onesignal-reset menu ul,.onesignal-reset ol menu,.onesignal-reset ol ul,.onesignal-reset ul menu,.onesignal-reset ul ul{list-style-type:circle}.onesignal-reset menu menu menu,.onesignal-reset menu menu ul,.onesignal-reset menu ol menu,.onesignal-reset menu ol ul,.onesignal-reset menu ul menu,.onesignal-reset menu ul ul,.onesignal-reset ol menu menu,.onesignal-reset ol menu ul,.onesignal-reset ol ol menu,.onesignal-reset ol ol ul,.onesignal-reset ol ul menu,.onesignal-reset ol ul ul,.onesignal-reset ul menu menu,.onesignal-reset ul menu ul,.onesignal-reset ul ol menu,.onesignal-reset ul ol ul,.onesignal-reset ul ul menu,.onesignal-reset ul ul ul{list-style-type:square}.onesignal-reset li{display:list-item;min-height:auto;min-width:auto;padding-left:20px}.onesignal-reset strong{font-weight:700}.onesignal-reset em{font-style:italic}.onesignal-reset code,.onesignal-reset kbd,.onesignal-reset pre,.onesignal-reset samp{font-family:monospace}.onesignal-reset a{color:blue;text-decoration:underline}.onesignal-reset a:visited{color:#529}.onesignal-reset a,.onesignal-reset a *,.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio],.onesignal-reset input[type=submit],.onesignal-reset select{cursor:pointer}.onesignal-reset button,.onesignal-reset input[type=submit]{text-align:center;padding:2px 6px 3px;border-radius:4px;text-decoration:none;font-family:arial,helvetica,sans-serif;font-size:small;-webkit-appearance:push-button;color:buttontext;border:1px solid #a6a6a6;background:#d3d3d3;background:#fff;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),color-stop(100%,#ddd),color-stop(100%,#d1d1d1),color-stop(100%,#ddd));background:-webkit-linear-gradient(top,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);background:linear-gradient(to bottom,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff',endColorstr='#dddddd',GradientType=0);-o-box-shadow:1px 1px 0 #eee;box-shadow:1px 1px 0 #eee;outline:initial}.onesignal-reset button{padding:1px 6px 2px;margin-right:5px}.onesignal-reset input[type=hidden]{display:none}.onesignal-reset textarea{-webkit-appearance:textarea;background:#fff;padding:2px;margin-left:4px;word-wrap:break-word;white-space:pre-wrap;font-size:11px;font-family:arial,helvetica,sans-serif;line-height:13px;resize:both}.onesignal-reset input,.onesignal-reset select,.onesignal-reset textarea{border:1px solid #ccc}.onesignal-reset select{font-size:11px;font-family:helvetica,arial,sans-serif;display:inline-block}.onesignal-reset input:focus,.onesignal-reset textarea:focus{outline:5px auto -webkit-focus-ring-color;outline:initial}.onesignal-reset input[type=text]{background:#fff;padding:1px;font-family:initial;font-size:small}.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio]{border:1px solid #2b2b2b;border-radius:4px;outline:intial}.onesignal-reset input[type=radio]{margin:2px 2px 3px}.onesignal-reset button:active,.onesignal-reset input[type=submit]:active{background:#3b679e;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3b679e),color-stop(50%,#2b88d9),color-stop(51%,#207cca),color-stop(100%,#7db9e8));background:-webkit-linear-gradient(top,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);background:linear-gradient(to bottom,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);border-color:#5259b0}.onesignal-reset abbr[title],.onesignal-reset acronym[title],.onesignal-reset dfn[title]{cursor:help;border-bottom-width:1px;border-bottom-style:dotted}.onesignal-reset ins{background-color:#ff9;color:#000}.onesignal-reset del{text-decoration:line-through}.onesignal-reset blockquote,.onesignal-reset q{quotes:none}.onesignal-reset blockquote:after,.onesignal-reset blockquote:before,.onesignal-reset li:after,.onesignal-reset li:before,.onesignal-reset q:after,.onesignal-reset q:before{content:\\\"\\\"}.onesignal-reset input,.onesignal-reset select{vertical-align:middle}.onesignal-reset table{border-collapse:collapse;border-spacing:0}.onesignal-reset hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0}.onesignal-reset [dir=rtl]{direction:rtl}.onesignal-reset mark{background-color:#ff9;color:#000;font-style:italic;font-weight:700}.onesignal-reset menu{padding-left:40px;padding-top:8px}.onesignal-reset [hidden],.onesignal-reset template{display:none}.onesignal-reset abbr[title]{border-bottom:1px dotted}.onesignal-reset sub,.onesignal-reset sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.onesignal-reset sup{top:-.5em}.onesignal-reset sub{bottom:-.25em}.onesignal-reset img{border:0}.onesignal-reset figure{margin:0}.onesignal-reset textarea{overflow:auto;vertical-align:top}.onesignal-reset{font-size:medium;line-height:1;direction:ltr;text-align:left;text-align:start;font-family:Times New Roman,Times,serif;color:#000;font-style:normal;font-weight:400;text-decoration:none;list-style-type:disc}.onesignal-reset pre{white-space:pre}#onesignal-bell-container.onesignal-reset{z-index:2147483000;position:fixed}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-left{bottom:0;left:0}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-right{bottom:0;right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;z-index:2147483000;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;-webkit-transform:scale(.01) translateZ(0);transform:scale(.01) translateZ(0);opacity:0;-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;width:330px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left{bottom:20px;left:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm{-webkit-transform-origin:16px center;-ms-transform-origin:16px center;transform-origin:16px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{left:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px;left:0;-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{left:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{left:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md{-webkit-transform-origin:24px center;-ms-transform-origin:24px center;transform-origin:24px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-message{left:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px;left:0;-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{left:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{left:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg{-webkit-transform-origin:32px center;-ms-transform-origin:32px center;transform-origin:32px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{left:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px;left:0;-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{left:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{left:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-badge{left:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message{-webkit-transform-origin:left center;-ms-transform-origin:left center;transform-origin:left center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message:after{right:100%;border-right-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-button{left:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right{bottom:20px;right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm{-webkit-transform-origin:314px center;-ms-transform-origin:314px center;transform-origin:314px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{right:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px;right:0;-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md{-webkit-transform-origin:306px center;-ms-transform-origin:306px center;transform-origin:306px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-message{right:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px;right:0;-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg{-webkit-transform-origin:298px center;-ms-transform-origin:298px center;transform-origin:298px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{right:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px;right:0;-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-badge{right:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message{-webkit-transform-origin:right center;-ms-transform-origin:right center;transform-origin:right center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message:after{left:100%;border-left-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-button{right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button{position:absolute;bottom:0;border-radius:50%;-webkit-transition:border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out;cursor:pointer;z-index:2147483000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button svg{width:100%;height:100%;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));filter:drop-shadow(0 2px 4px rgba(34,36,38,.35))}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button.onesignal-bell-launcher-button-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge{position:absolute;bottom:0;border-radius:50%;text-align:center;top:0;cursor:pointer;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,0));filter:drop-shadow(0 2px 4px rgba(34,36,38,0));-webkit-transition:border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out,-webkit-transform 175ms ease-in-out;transition:border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out,-webkit-transform 175ms ease-in-out;z-index:2147483400;opacity:0;-webkit-transform:scale(.01);-ms-transform:scale(.01);transform:scale(.01);pointer-events:none}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-opened{opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message{position:absolute;color:#fff;background:#000;cursor:pointer;border-radius:5px;-webkit-transform:translateY(-50%) scaleX(0) translateZ(0);transform:translateY(-50%) scaleX(0) translateZ(0);opacity:0;pointer-events:none;-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;top:50%;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message:after{top:50%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute;pointer-events:none;border-color:transparent}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message.onesignal-bell-launcher-message-opened{pointer-events:auto;opacity:1;-webkit-transform:translateY(-50%) scaleX(1) translateZ(0);transform:translateY(-50%) scaleX(1) translateZ(0)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog{cursor:pointer;position:absolute;background-color:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.1);-webkit-filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));opacity:0;-webkit-transform:scale(0) translateZ(0);transform:scale(0) translateZ(0);-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog ol{counter-reset:foo;display:table;border-spacing:.3em .75em}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog ol>li{counter-increment:foo;display:table-row;margin-bottom:.75em}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog ol>li:before{content:counter(foo) \\\".\\\";display:table-cell;text-align:right}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:after,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:before{top:100%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog.onesignal-bell-launcher-dialog-opened{-webkit-transform:scale(1) translateZ(0);transform:scale(1) translateZ(0);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a{box-sizing:border-box;text-decoration:none;color:initial}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:focus,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:hover,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:hover:active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:visited{text-decoration:none;color:initial}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button{box-sizing:border-box;border:1px solid transparent;padding:.625em 1em;box-shadow:none;border-radius:4px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;letter-spacing:.65px;cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button.action{color:#fff;background:#e54b4d;width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button.action:hover{background:#dd2022}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button.action:active{background:#b1191b}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm{height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-button{width:32px;height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-badge{font-size:8px;width:12px;height:12px;line-height:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{padding:9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message:after{border-width:6.6px;margin-top:-6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{padding:.5em 1em;color:#333}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{border-top-color:hsla(0,0%,71%,.1);border-width:8.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:15px;font-weight:500;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;letter-spacing:.2px;text-align:center;color:#41090a}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body p{font-size:14px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .divider{border-bottom:1px solid rgba(0,0,0,.1);margin:3.2px -9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .kickback{text-align:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:300;font-size:9.8px;letter-spacing:.5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions{max-width:95vw;max-height:70vh;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions img{width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification{display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:330px;border:1px solid rgba(0,0,0,.1);border-radius:3px;background:hsla(0,0%,98%,.5);overflow:auto;margin:.5em 0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon{width:50px;height:50px;margin:6px;margin-right:3px;border-radius:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon.push-notification-icon-default{background:#e3e4e5}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon img{width:50px;height:50px;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container{margin:6px;margin-left:3px;-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text{height:5px;width:100%;background:#e3e4e5;margin:5px 0;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-short{width:75%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-medium{width:87%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:first-of-type{margin-top:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:last-of-type{margin-bottom:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md{height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-button{width:48px;height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-badge{font-size:12px;width:18px;height:18px;line-height:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message{padding:14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message:after{border-width:9.9px;margin-top:-9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{padding:.5em 1em;color:#333}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{border-top-color:hsla(0,0%,71%,.1);border-width:11.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:15px;font-weight:500;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;letter-spacing:.2px;text-align:center;color:#41090a}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body p{font-size:14px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .divider{border-bottom:1px solid rgba(0,0,0,.1);margin:4.8px -14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .kickback{text-align:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:300;font-size:9.8px;letter-spacing:.5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions{max-width:95vw;max-height:70vh;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions img{width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification{display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:330px;border:1px solid rgba(0,0,0,.1);border-radius:3px;background:hsla(0,0%,98%,.5);overflow:auto;margin:.5em 0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon{width:50px;height:50px;margin:6px;margin-right:3px;border-radius:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon.push-notification-icon-default{background:#e3e4e5}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon img{width:50px;height:50px;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container{margin:6px;margin-left:3px;-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text{height:5px;width:100%;background:#e3e4e5;margin:5px 0;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-short{width:75%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-medium{width:87%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:first-of-type{margin-top:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:last-of-type{margin-bottom:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg{height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-button{width:64px;height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-badge{font-size:12px;width:24px;height:24px;line-height:24px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{padding:19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message:after{border-width:13.2px;margin-top:-13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{padding:.5em 1em;color:#333}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{border-top-color:hsla(0,0%,71%,.1);border-width:15.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:15px;font-weight:500;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;letter-spacing:.2px;text-align:center;color:#41090a}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body p{font-size:14px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .divider{border-bottom:1px solid rgba(0,0,0,.1);margin:6.4px -19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .kickback{text-align:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:300;font-size:9.8px;letter-spacing:.5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions{max-width:95vw;max-height:70vh;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions img{width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification{display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:330px;border:1px solid rgba(0,0,0,.1);border-radius:3px;background:hsla(0,0%,98%,.5);overflow:auto;margin:.5em 0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon{width:50px;height:50px;margin:6px;margin-right:3px;border-radius:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon.push-notification-icon-default{background:#e3e4e5}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon img{width:50px;height:50px;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container{margin:6px;margin-left:3px;-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text{height:5px;width:100%;background:#e3e4e5;margin:5px 0;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-short{width:75%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-medium{width:87%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:first-of-type{margin-top:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:last-of-type{margin-bottom:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .background{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .foreground{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#fff;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#dd2022!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button .pulse-ring{border:7px solid hsla(0,0%,100%,.4)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-badge{border:1px solid #fff;background:#000;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .background{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .foreground{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#e54b4d;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#f2f2f2!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button .pulse-ring{border:7px solid rgba(229,75,77,.4)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-badge{border:1px solid #fff;background:#e54b4d;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-enabled{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-disabled{visibility:hidden}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-inactive{opacity:.6}#onesignal-bell-container.onesignal-reset .pulse-ring{border-radius:50%;position:absolute;left:0;top:0;bottom:0;right:0;-webkit-animation:pulse .35s ease-in-out;animation:pulse .35s ease-in-out;-webkit-animation-iteration-count:1;animation-iteration-count:1;opacity:0;z-index:1000;pointer-events:none}@media print{#onesignal-bell-container{display:none}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(.1);opacity:0;border-width:10px}50%{opacity:1;border-width:5px}to{-webkit-transform:scale(1.2);opacity:0;border-width:1px}}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<svg version=\\\"1.1\\\" class=\\\"onesignal-bell-svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"99.7px\\\" height=\\\"99.7px\\\" viewBox=\\\"0 0 99.7 99.7\\\" style=\\\"enable-background:new 0 0 99.7 99.7;\\\" xml:space=\\\"preserve\\\">\\n<g>\\n\\t<circle class=\\\"background\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" r=\\\"49.9\\\"/>\\n\\t<g id=\\\"Layer_2\\\">\\n\\t\\t<g>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M50.1,66.2H27.7c0,0-2-0.2-2-2.1c0-1.9,1.7-2,1.7-2s6.7-3.2,6.7-5.5c0-2.3-1.1-3.9-1.1-13.3\\n\\t\\t\\t\\ts6-16.6,13.2-16.6c0,0,1-2.4,3.9-2.4c2.8,0,3.8,2.4,3.8,2.4c7.2,0,13.2,7.2,13.2,16.6s-1,11-1,13.3c0,2.3,6.7,5.5,6.7,5.5\\n\\t\\t\\t\\ts1.7,0.1,1.7,2c0,1.8-2.1,2.1-2.1,2.1H50.1z\\\"/>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M42.9,68.5h14.5c0,0-1,6.3-7.2,6.3S42.9,68.5,42.9,68.5z\\\"/>\\n\\t\\t\\t<ellipse class=\\\"stroke\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" rx=\\\"37.4\\\" ry=\\\"36.9\\\"/>\\n\\t\\t</g>\\n\\t</g>\\n</g>\\n</svg>\\n\"\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _events = __webpack_require__(11);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Database = (function () {\n\t  function Database() {\n\t    _classCallCheck(this, Database);\n\t  }\n\t\n\t  _createClass(Database, null, [{\n\t    key: 'getInstance',\n\t\n\t    /**\n\t     * Returns an existing instance or creates a new instances of the database.\n\t     * @returns {Promise} Returns a promise that is fulfilled when the database becomes accessible or rejects when an error occurs.\n\t     */\n\t    value: function getInstance() {\n\t      return new Promise(function (resolve, reject) {\n\t        if (Database._instance) {\n\t          resolve(Database._instance);\n\t        } else {\n\t          var request = indexedDB.open(\"ONE_SIGNAL_SDK_DB\", 1);\n\t          request.onsuccess = function (event) {\n\t            var database = event.target.result;\n\t            Database._instance = database;\n\t            _loglevel2.default.debug('Opening IndexedDB instance.');\n\t            resolve(database);\n\t          };\n\t          request.onerror = function (event) {\n\t            _loglevel2.default.error('Unable to open IndexedDB.', event);\n\t            reject(event);\n\t          };\n\t          request.onupgradeneeded = function (event) {\n\t            _loglevel2.default.info('The OneSignal SDK is rebuilding its IndexedDB schema from a clean slate.');\n\t            var db = event.target.result;\n\t            db.createObjectStore(\"Ids\", {\n\t              keyPath: \"type\"\n\t            });\n\t            db.createObjectStore(\"NotificationOpened\", {\n\t              keyPath: \"url\"\n\t            });\n\t            db.createObjectStore(\"Options\", {\n\t              keyPath: \"key\"\n\t            });\n\t            _events2.default.trigger(Database.EVENTS.REBUILT);\n\t          };\n\t        }\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously retrieves the value of the key at the table (if key is specified), or the entire table (if key is not specified).\n\t     * @param table The table to retrieve the value from.\n\t     * @param key The key in the table to retrieve the value of. Leave blank to get the entire table.\n\t     * @returns {Promise} Returns a promise that fulfills when the value(s) are available.\n\t     */\n\t\n\t  }, {\n\t    key: 'get',\n\t    value: function get(table, key) {\n\t      if (key) {\n\t        // Return a table-key value\n\t        return new Promise(function (resolve, reject) {\n\t          Database.getInstance().then(function (database) {\n\t            var request = database.transaction(table).objectStore(table).get(key);\n\t            request.onsuccess = function () {\n\t              _events2.default.trigger(Database.EVENTS.RETRIEVED, { table: table, key: key, result: request.result });\n\t              resolve(request.result);\n\t            };\n\t            request.onerror = function () {\n\t              reject(request.errorCode);\n\t            };\n\t          }).catch(function (e) {\n\t            _loglevel2.default.error(e);\n\t            reject(e);\n\t          });\n\t        });\n\t      } else {\n\t        // Return all values in table\n\t        return new Promise(function (resolve, reject) {\n\t          Database.getInstance().then(function (database) {\n\t            var jsonResult = {};\n\t            var cursor = database.transaction(table).objectStore(table).openCursor();\n\t            cursor.onsuccess = function (event) {\n\t              var cursorResult = event.target.result;\n\t              if (cursorResult) {\n\t                _events2.default.trigger(Database.EVENTS.RETRIEVED, cursorResult.value);\n\t                jsonResult[cursorResult.key] = cursorResult.value.value;\n\t                cursorResult.continue();\n\t              } else {\n\t                resolve(jsonResult);\n\t              }\n\t            };\n\t            cursor.onerror = function (event) {\n\t              reject(cursor.errorCode);\n\t            };\n\t          }).catch(function (e) {\n\t            _loglevel2.default.error(e);\n\t            reject(e);\n\t          });\n\t        });\n\t      }\n\t    }\n\t\n\t    /**\n\t     * Asynchronously puts the specified value in the specified table.\n\t     * @param table\n\t     * @param key\n\t     */\n\t\n\t  }, {\n\t    key: 'put',\n\t    value: function put(table, value) {\n\t      return new Promise(function (resolve, reject) {\n\t        Database.getInstance().then(function (database) {\n\t          database.transaction([table], 'readwrite').objectStore(table).put(value);\n\t          _events2.default.trigger(Database.EVENTS.SET, value);\n\t          resolve(value);\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t          reject(e);\n\t        });\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Asynchronously removes the specified key from the table.\n\t     * @returns {Promise} Returns a promise containing a key that is fulfilled when deletion is completed.\n\t     */\n\t\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove(table, key) {\n\t      return new Promise(function (resolve) {\n\t        Database.getInstance().then(function (database) {\n\t          database.transaction([table], 'readwrite').objectStore(table).delete(key);\n\t          resolve(key);\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t          reject(e);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'printIds',\n\t    value: function printIds() {\n\t      Promise.all([Database.get('Ids', 'appId'), Database.get('Ids', 'registrationId'), Database.get('Ids', 'userId')]).then(function (contents) {\n\t        _loglevel2.default.info('appId:', contents[0]);\n\t        _loglevel2.default.info('registrationId:', contents[1]);\n\t        _loglevel2.default.info('userId:', contents[2]);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'EVENTS',\n\t    get: function get() {\n\t      return {\n\t        REBUILT: 'onesignal.db.rebuilt',\n\t        RETRIEVED: 'onesignal.db.retrieved',\n\t        SET: 'onesignal.db.set'\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return Database;\n\t})();\n\t\n\texports.default = Database;\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"ServiceWorker\"] = __webpack_require__(28);\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(fetch) {'use strict';\n\t\n\tvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _vars = __webpack_require__(1);\n\t\n\tvar _environment = __webpack_require__(4);\n\t\n\tvar _environment2 = _interopRequireDefault(_environment);\n\t\n\tvar _api = __webpack_require__(9);\n\t\n\tvar _loglevel = __webpack_require__(3);\n\t\n\tvar _loglevel2 = _interopRequireDefault(_loglevel);\n\t\n\tvar _limitStore = __webpack_require__(10);\n\t\n\tvar _limitStore2 = _interopRequireDefault(_limitStore);\n\t\n\t__webpack_require__(29);\n\t\n\tvar _database = __webpack_require__(26);\n\t\n\tvar _database2 = _interopRequireDefault(_database);\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar ServiceWorker = (function () {\n\t  function ServiceWorker() {\n\t    _classCallCheck(this, ServiceWorker);\n\t  }\n\t\n\t  _createClass(ServiceWorker, null, [{\n\t    key: 'run',\n\t    value: function run() {\n\t      self.addEventListener('push', ServiceWorker.onPushReceived);\n\t      self.addEventListener('notificationclick', ServiceWorker.onNotificationClicked);\n\t      self.addEventListener('install', ServiceWorker.onServiceWorkerInstalled);\n\t\n\t      // If the user is proxying through our subdomain (e.g. website.onesignal.com/sdks/)\n\t      if (ServiceWorker.onOurSubdomain) {\n\t        // Cache resources?\n\t        self.addEventListener('fetch', ServiceWorker.onFetch);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onPushReceived',\n\t\n\t    /**\n\t     * Occurs when a push message is received.\n\t     * This method handles the receipt of a push signal on all web browsers except Safari, which uses the OS to handle notifications.\n\t     * @param event\n\t     */\n\t    value: function onPushReceived(event) {\n\t      _loglevel2.default.debug('Called %conPushReceived(' + JSON.stringify(event, null, 4) + ')', (0, _utils.getConsoleStyle)('code'));\n\t\n\t      event.waitUntil(new Promise(function (resolve, reject) {\n\t        var extra = {};\n\t        ServiceWorker._getTitle().then(function (title) {\n\t          extra.title = title;\n\t          return _database2.default.get('Options', 'defaultIcon');\n\t        }).then(function (defaultIconResult) {\n\t          extra.defaultIconResult = defaultIconResult;\n\t          return extra;\n\t        }).then(function (extra) {\n\t          return ServiceWorker._getLastNotifications();\n\t        }).then(function (notifications) {\n\t\n\t          // At this point, we have an array of notification objects (all the JSON is parsed)\n\t          // We want to fire a notification for each object\n\t          // We need to use event.waitUntil() to extend the life of the service worker (workers can be killed if idling)\n\t          // We want to extend the service worker lifetime until all promises for showNotification resolve\n\t          var notificationEventPromises = [];\n\t\n\t          var _iteratorNormalCompletion = true;\n\t          var _didIteratorError = false;\n\t          var _iteratorError = undefined;\n\t\n\t          try {\n\t            for (var _iterator = notifications[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t              var notification = _step.value;\n\t\n\t              var data = {\n\t                id: notification.custom.i,\n\t                message: notification.alert,\n\t                additionalData: notification.custom.a\n\t              };\n\t\n\t              if (notification.title) data.title = notification.title;else data.title = extra.title;\n\t\n\t              if (notification.custom.u) data.launchURL = notification.custom.u;\n\t\n\t              if (notification.icon) data.icon = notification.icon;else if (extra.defaultIconResult) data.icon = extra.defaultIconResult;\n\t\n\t              // Never nest the following line in a callback from the point of entering from _getLastNotifications\n\t              var notificationEventPromise = self.registration.showNotification(data.title, {\n\t                // https://developers.google.com/web/updates/2015/10/notification-requireInteraction?hl=en\n\t                // On Chrome 47+ Desktop only, notifications will be dismissed after 20 seconds unless requireInteraction is set to true\n\t                requireInteraction: true,\n\t                body: data.message,\n\t                icon: data.icon,\n\t                tag: JSON.stringify(data)\n\t              });\n\t\n\t              notificationEventPromises.push(notificationEventPromise);\n\t              return Promise.all(notificationEventPromises);\n\t            }\n\t          } catch (err) {\n\t            _didIteratorError = true;\n\t            _iteratorError = err;\n\t          } finally {\n\t            try {\n\t              if (!_iteratorNormalCompletion && _iterator.return) {\n\t                _iterator.return();\n\t              }\n\t            } finally {\n\t              if (_didIteratorError) {\n\t                throw _iteratorError;\n\t              }\n\t            }\n\t          }\n\t        }).then(resolve).catch(function (e) {\n\t          return _loglevel2.default.error(e);\n\t        });\n\t      }));\n\t    }\n\t  }, {\n\t    key: 'onNotificationClicked',\n\t    value: function onNotificationClicked(event) {\n\t      _loglevel2.default.debug('Called %conNotificationClicked(' + JSON.stringify(event, null, 4) + ')', (0, _utils.getConsoleStyle)('code'));\n\t\n\t      var notificationData = JSON.parse(event.notification.tag);\n\t      event.notification.close();\n\t\n\t      event.waitUntil(_database2.default.get('Options', 'defaultUrl').then(function (defaultUrlResult) {\n\t\n\t        if (defaultUrlResult) ServiceWorker.defaultLaunchUrl = defaultUrlResult.value;\n\t      }).then(function () {\n\t        return clients.matchAll({ type: 'window' });\n\t      }).then(function (clientList) {\n\t\n\t        var launchURL = registration.scope;\n\t        if (ServiceWorker.defaultLaunchUrl) launchURL = ServiceWorker.defaultLaunchUrl;\n\t        if (notificationData.launchURL) launchURL = notificationData.launchURL;\n\t\n\t        for (var i = 0; i < clientList.length; i++) {\n\t          var client = clientList[i];\n\t          if ('focus' in client && client.url == launchURL) {\n\t            client.focus();\n\t\n\t            // targetOrigin not valid here as the service worker owns the page.\n\t            client.postMessage(notificationData);\n\t            return;\n\t          }\n\t        }\n\t\n\t        var launchURLObject = new URL(launchURL);\n\t        if (launchURL !== 'javascript:void(0);' && launchURL !== 'do_not_open' && !launchURLObject.search.includes('_osp=do_not_open')) {\n\t          return _database2.default.put(\"NotificationOpened\", { url: launchURL, data: notificationData }).then(function () {\n\t\n\t            clients.openWindow(launchURL).catch(function (error) {\n\t              // Should only fall into here if going to an external URL on Chrome older than 43.\n\t              clients.openWindow(registration.scope + \"redirector.html?url=\" + launchURL);\n\t            });\n\t          });\n\t        }\n\t      }).then(function () {\n\t        return Promise.all([_database2.default.get('Ids', 'appId'), _database2.default.get('Ids', 'userId')]);\n\t      }).then(function (results) {\n\t        var _results = _slicedToArray(results, 2);\n\t\n\t        var appIdResult = _results[0];\n\t        var userIdResult = _results[1];\n\t\n\t        if (appIdResult && userIdResult) {\n\t          (0, _api.apiCall)(\"notifications/\" + notificationData.id, \"PUT\", {\n\t            app_id: appIdResult.id,\n\t            player_id: userIdResult.id,\n\t            opened: true\n\t          });\n\t        }\n\t      }).catch(function (e) {\n\t        return _loglevel2.default.error(e);\n\t      }));\n\t    }\n\t  }, {\n\t    key: 'onServiceWorkerInstalled',\n\t    value: function onServiceWorkerInstalled(event) {\n\t      _loglevel2.default.debug('Called %conServiceWorkerInstalled(' + JSON.stringify(event, null, 4) + ')', (0, _utils.getConsoleStyle)('code'));\n\t      _loglevel2.default.info('Installing service worker: %c' + self.location.pathname, (0, _utils.getConsoleStyle)('code'), '(version ' + (\"109039\") + ')');\n\t\n\t      if (self.location.pathname.indexOf(\"OneSignalSDKWorker.js\") > -1) var serviceWorkerVersionType = 'WORKER1_ONE_SIGNAL_SW_VERSION';else var serviceWorkerVersionType = 'WORKER2_ONE_SIGNAL_SW_VERSION';\n\t\n\t      if (ServiceWorker.onOurSubdomain) {\n\t        event.waitUntil(_database2.default.put(\"Ids\", { type: serviceWorkerVersionType, id: (\"109039\") }).then(function () {\n\t          return caches.open(\"OneSignal_\" + (\"109039\"));\n\t        }).then(function (cache) {\n\t\n\t          return cache.addAll(ServiceWorker.CACHE_URLS);\n\t        }).catch(function (e) {\n\t          return _loglevel2.default.error(e);\n\t        }));\n\t      } else {\n\t        event.waitUntil(_database2.default.put(\"Ids\", { type: serviceWorkerVersionType, id: (\"109039\") }));\n\t      }\n\t    }\n\t  }, {\n\t    key: 'onFetch',\n\t    value: function onFetch(event) {\n\t      var url = event.request.url;\n\t      var _iteratorNormalCompletion2 = true;\n\t      var _didIteratorError2 = false;\n\t      var _iteratorError2 = undefined;\n\t\n\t      try {\n\t        for (var _iterator2 = ServiceWorker.CACHE_URLS[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t          var cacheUrl = _step2.value;\n\t\n\t          if (url.indexOf(cacheUrl) > -1) {\n\t            event.respondWith(caches.match(event.request).then(function (response) {\n\t              // Cache hit -- return response\n\t              if (response) {\n\t                return response;\n\t              }\n\t              return fetch(event.request);\n\t            }).catch(function (e) {\n\t              return _loglevel2.default.error(e);\n\t            }));\n\t          }\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError2 = true;\n\t        _iteratorError2 = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t            _iterator2.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError2) {\n\t            throw _iteratorError2;\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: '_getTitle',\n\t\n\t    /**\n\t     * Returns a promise that is fulfilled with either the default title from the database (first priority) or the page title from the database (alternate result).\n\t     */\n\t    value: function _getTitle() {\n\t      return new Promise(function (resolve, reject) {\n\t        Promise.all([_database2.default.get('Options', 'defaultTitle'), _database2.default.get('Options', 'pageTitle')]).then(function (results) {\n\t          var _results2 = _slicedToArray(results, 2);\n\t\n\t          var defaultTitleResult = _results2[0];\n\t          var pageTitleResult = _results2[1];\n\t\n\t          if (defaultTitleResult) {\n\t            resolve(defaultTitleResult.value);\n\t          } else if (pageTitleResult && pageTitleResult.value != null) {\n\t            resolve(pageTitleResult.value);\n\t          } else {\n\t            resolve('');\n\t          }\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t          reject(e);\n\t        });\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Returns a promise that is fulfilled with the JSON result of chrome notifications.\n\t     */\n\t\n\t  }, {\n\t    key: '_getLastNotifications',\n\t    value: function _getLastNotifications() {\n\t      return new Promise(function (resolve, reject) {\n\t        var notifications = [];\n\t        // Each entry is like:\n\t        /*\n\t         Object {custom: Object, icon: \"https://onesignal.com/images/notification_logo.png\", alert: \"asd\", title: \"ss\"}\n\t         alert: \"asd\"\n\t         custom: Object\n\t         i: \"6d7ec82f-bc56-494f-b73a-3a3b48baa2d8\"\n\t         __proto__: Object\n\t         icon: \"https://onesignal.com/images/notification_logo.png\"\n\t         title: \"ss\"\n\t         __proto__: Object\n\t         */\n\t        _database2.default.get('Ids', 'userId').then(function (userIdResult) {\n\t          if (userIdResult) {\n\t            return (0, _api.apiCall)(\"players/\" + userIdResult.id + \"/chromeweb_notification\", \"GET\");\n\t          } else {\n\t            _loglevel2.default.error('Tried to get last notifications, but there was no userId found in the database.');\n\t            reject(new Error('Tried to get last notifications, but there was no userId found in the database.'));\n\t          }\n\t        }).then(function (response) {\n\t          // The response is an array literal -- response.json() has been called by apiCall()\n\t          // The result looks like this:\n\t          // apiCall(\"players/7442a553-5f61-4b3e-aedd-bb574ef6946f/chromeweb_notification\", \"GET\").then(function(response) { console.log(response); });\n\t          // [\"{\"custom\":{\"i\":\"6d7ec82f-bc56-494f-b73a-3a3b48baa2d8\"},\"icon\":\"https://onesignal.com/images/notification_logo.png\",\"alert\":\"asd\",\"title\":\"ss\"}\"]\n\t          // ^ Notice this is an array literal with JSON data inside\n\t          for (var i = 0; i < response.length; i++) {\n\t            notifications.push(JSON.parse(response[i]));\n\t          }\n\t          resolve(notifications);\n\t        }).catch(function (e) {\n\t          _loglevel2.default.error(e);\n\t          reject(e);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'CACHE_URLS',\n\t    get: function get() {\n\t      return ['/sdks/initOneSignalHttpIframe', '/sdks/initOneSignalHttpIframe?session=*', '/sdks/manifest_json', '/dev_sdks/initOneSignalHttpIframe', '/dev_sdks/initOneSignalHttpIframe?session=*', '/dev_sdks/manifest_json'];\n\t    }\n\t  }, {\n\t    key: 'onOurSubdomain',\n\t    get: function get() {\n\t      return (false) || location.href.match(/https:\\/\\/.*\\.onesignal.com\\/sdks\\//) !== null;\n\t    }\n\t  }]);\n\t\n\t  return ServiceWorker;\n\t})();\n\t\n\t// Expose this class to the global scope\n\t\n\tself.OneSignalServiceWorker = ServiceWorker;\n\t\n\t// Set logging to the appropriate level\n\t_loglevel2.default.setDefaultLevel( false ? _loglevel2.default.levels.TRACE : _loglevel2.default.levels.ERROR);\n\t\n\t// Print it's happy time!\n\t_loglevel2.default.info('%cOneSignal Service Worker loaded (version ' + (\"109039\") + ', ' + _environment2.default.getEnv() + ' environment).', (0, _utils.getConsoleStyle)('bold'));\n\t\n\t// Run our main file\n\tServiceWorker.run();\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)))\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(fetch) {'use strict';\n\t\n\t/**\n\t * https://github.com/coonsta/cache-polyfill\n\t *\n\t * Copyright 2015 Google Inc. All rights reserved.\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t *\n\t */\n\t\n\tif (!Cache.prototype.addAll) {\n\t  Cache.prototype.addAll = function addAll(requests) {\n\t    var cache = this;\n\t\n\t    // Since DOMExceptions are not constructable:\n\t    function NetworkError(message) {\n\t      this.name = 'NetworkError';\n\t      this.code = 19;\n\t      this.message = message;\n\t    }\n\t    NetworkError.prototype = Object.create(Error.prototype);\n\t\n\t    return Promise.resolve().then(function () {\n\t      if (arguments.length < 1) throw new TypeError();\n\t\n\t      // Simulate sequence<(Request or USVString)> binding:\n\t      var sequence = [];\n\t\n\t      requests = requests.map(function (request) {\n\t        if (request instanceof Request) {\n\t          return request;\n\t        } else {\n\t          return String(request); // may throw TypeError\n\t        }\n\t      });\n\t\n\t      return Promise.all(requests.map(function (request) {\n\t        if (typeof request === 'string') {\n\t          request = new Request(request);\n\t        }\n\t\n\t        var scheme = new URL(request.url).protocol;\n\t\n\t        if (scheme !== 'http:' && scheme !== 'https:') {\n\t          throw new NetworkError(\"Invalid scheme\");\n\t        }\n\t\n\t        return fetch(request.clone());\n\t      }));\n\t    }).then(function (responses) {\n\t      // TODO: check that requests don't overwrite one another\n\t      // (don't think this is possible to polyfill due to opaque responses)\n\t      return Promise.all(responses.map(function (response, i) {\n\t        return cache.put(requests[i], response);\n\t      }));\n\t    }).then(function () {\n\t      return undefined;\n\t    });\n\t  };\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7)))\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** OneSignalSDK.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b55ce930d18e55f11076\n **/","import { DEV_HOST, PROD_HOST, API_URL } from './vars.js';\nimport Environment from './environment.js';\n\n\nif (Environment.isBrowser()) {\n  // We're running in the host page, iFrame of the host page, or popup window\n  // Load OneSignal's web SDK\n  if (typeof OneSignal !== \"undefined\")\n    var predefinedOneSignalPushes = OneSignal;\n\n  require(\"expose?OneSignal!./sdk.js\");\n\n  if (predefinedOneSignalPushes)\n    OneSignal._process_pushes(predefinedOneSignalPushes);\n}\nelse if (Environment.isServiceWorker()) {\n  // We're running as the service worker\n  require(\"expose?ServiceWorker!./ServiceWorker.js\");\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entry.js\n **/","import { isDev } from './utils.js';\n\nexport const DEV_HOST = 'https://192.168.1.205:3001';\nexport const PROD_HOST = 'https://onesignal.com';\nexport const HOST_URL = (isDev() ? DEV_HOST : PROD_HOST);\nexport const API_URL = (isDev() ? DEV_HOST : PROD_HOST) + '/api/v1/';\n\n//  \n\n\n/** WEBPACK FOOTER **\n ** ./src/vars.js\n **/","import log from 'loglevel';\n\nexport function isArray(variable) {\n  return Object.prototype.toString.call( variable ) === '[object Array]';\n}\n\nexport function getHumanizedTimeDuration(timeDurationInMilliseconds) {\n  function addPluralSuffix(number) {\n    return (number > 1) ? 's' : '';\n  }\n  var duration = Math.floor(timeDurationInMilliseconds / 1000);\n\n  var years = Math.floor(duration / 31536000);\n  if (years)\n    return years + ' year' + addPluralSuffix(years);\n\n  var days = Math.floor((duration %= 31536000) / 86400);\n  if (days)\n    return days + ' day' + addPluralSuffix(days);\n\n  var hours = Math.floor((duration %= 86400) / 3600);\n  if (hours)\n    return hours + ' hour' + addPluralSuffix(hours);\n\n  var minutes = Math.floor((duration %= 3600) / 60);\n  if (minutes)\n    return minutes + ' minute' + addPluralSuffix(minutes);\n\n  var seconds = duration % 60;\n  if (seconds)\n    return seconds + ' second' + addPluralSuffix(seconds);\n\n  return 'just now';\n}\n\nexport function isDev() {\n  return __DEV__;\n}\n\nexport function isPushNotificationsSupported () {\n  var chromeVersion = navigator.appVersion.match(/Chrome\\/(.*?) /);\n\n  if (isSupportedFireFox())\n    return true;\n\n  if (isSupportedSafari())\n    return true;\n\n  // Chrome is not found in appVersion.\n  if (!chromeVersion)\n    return false;\n\n  // Microsoft Edge\n  if (navigator.appVersion.match(/Edge/))\n    return false;\n\n  // Android Chrome WebView\n  if (navigator.appVersion.match(/ wv/))\n    return false;\n\n  // Opera\n  if (navigator.appVersion.match(/OPR\\//))\n    return false;\n\n  // The user is on iOS\n  if (/iPad|iPhone|iPod/.test(navigator.platform))\n    return false;\n\n  return parseInt(chromeVersion[1].substring(0, 2)) > 41;\n}\n\nexport function isBrowserSafari() {\n  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n  return safariVersion != null ;\n}\n\nexport function isSupportedFireFox() {\n  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n  if (fireFoxVersion)\n    return parseInt(fireFoxVersion[2].substring(0, 2)) > 43;\n  return false;\n}\n\nexport function isBrowserFirefox() {\n  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n  return fireFoxVersion != null ;\n}\n\nexport function getFirefoxVersion() {\n  var fireFoxVersion = navigator.userAgent.match(/(Firefox\\/)([0-9]{2,}\\.[0-9]{1,})/);\n  if (fireFoxVersion)\n    return parseInt(fireFoxVersion[2].substring(0, 2));\n  else return -1;\n}\n\nexport function isSupportedSafari() {\n  var safariVersion = navigator.appVersion.match(\"Version/([0-9]?).* Safari\");\n  if (safariVersion == null)\n    return false;\n  if (/iPhone|iPad|iPod/i.test(navigator.userAgent))\n    return false;\n  return (parseInt(safariVersion[1]) > 6);\n}\n\nexport function removeDomElement(selector) {\n  var els = document.querySelectorAll(selector);\n  if (els.length > 0) {\n    for (let i = 0; i < els.length; i++)\n      els[i].parentNode.removeChild(els[i]);\n  }\n}\n\nexport function addDomElement(targetSelectorOrElement, addOrder, elementHtml) {\n  if (typeof targetSelectorOrElement === 'string')\n    document.querySelector(targetSelectorOrElement).insertAdjacentHTML(addOrder, elementHtml);\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.insertAdjacentHTML(addOrder, elementHtml);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function clearDomElementChildren(targetSelectorOrElement) {\n  if (typeof targetSelectorOrElement === 'string') {\n    var element = document.querySelector(targetSelectorOrElement);\n    while (element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n  }\n  else if (typeof targetSelectorOrElement === 'object') {\n    while (targetSelectorOrElement.firstChild) {\n      targetSelectorOrElement.removeChild(targetSelectorOrElement.firstChild);\n    }\n  }\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function addCssClass(targetSelectorOrElement, cssClass) {\n  if (typeof targetSelectorOrElement === 'string')\n    document.querySelector(targetSelectorOrElement).classList.add(cssClass);\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.classList.add(cssClass);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function removeCssClass(targetSelectorOrElement, cssClass) {\n  if (typeof targetSelectorOrElement === 'string')\n    document.querySelector(targetSelectorOrElement).classList.remove(cssClass);\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.classList.remove(cssClass);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function hasCssClass(targetSelectorOrElement, cssClass) {\n  if (typeof targetSelectorOrElement === 'string')\n    return document.querySelector(targetSelectorOrElement).classList.contains(cssClass);\n  else if (typeof targetSelectorOrElement === 'object')\n    return targetSelectorOrElement.classList.contains(cssClass);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function on(targetSelectorOrElement, event, task) {\n  if (!event) {\n    log.error('Cannot call on() with no event: ', event);\n  }\n  if (!task) {\n    log.error('Cannot call on() with no task: ', task)\n  }\n  if (typeof targetSelectorOrElement === 'string') {\n    let els = document.querySelectorAll(selector);\n    if (els.length > 0) {\n      for (let i = 0; i < els.length; i++)\n        on(els[i], task);\n    }\n  }\n  else if (isArray(targetSelectorOrElement)) {\n    for (let i = 0; i < targetSelectorOrElement.length; i++)\n      on(targetSelectorOrElement[i], task);\n  }\n  else if (typeof targetSelectorOrElement === 'object')\n    targetSelectorOrElement.addEventListener(event, task);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function once(targetSelectorOrElement, event, task, manualDestroy=false) {\n  if (!event) {\n    log.error('Cannot call on() with no event: ', event);\n  }\n  if (!task) {\n    log.error('Cannot call on() with no task: ', task)\n  }\n  if (typeof targetSelectorOrElement === 'string') {\n    let els = document.querySelectorAll(selector);\n    if (els.length > 0) {\n      for (let i = 0; i < els.length; i++)\n        once(els[i], task);\n    }\n  }\n  else if (isArray(targetSelectorOrElement)) {\n    for (let i = 0; i < targetSelectorOrElement.length; i++)\n      once(targetSelectorOrElement[i], task);\n  }\n  else if (typeof targetSelectorOrElement === 'object') {\n    var taskWrapper = (function () {\n      var internalTaskFunction = function (e) {\n        var destroyEventListener = function() {\n          targetSelectorOrElement.removeEventListener(e.type, taskWrapper);\n        };\n        if (!manualDestroy) {\n          destroyEventListener();\n        }\n        task(e, destroyEventListener);\n      };\n      return internalTaskFunction;\n    })();\n    targetSelectorOrElement.addEventListener(event, taskWrapper);\n  }\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\n/**\n * Removes event handler from selector.\n * @param targetSelectorOrElement Selector to target one or multiple elements, or a single or array of DOMElement.\n * @param event The event to target (e.g. 'transitionend')\n * @param task A single function callback to unbind, or leave empty to remove all event handlers.\n */\nexport function off(targetSelectorOrElement, event, task) {\n  if (typeof targetSelectorOrElement === 'string') {\n    let els = document.querySelectorAll(selector);\n    if (els.length > 0) {\n      for (let i = 0; i < els.length; i++)\n        off(els[i], task);\n    }\n  }\n  else if (isArray(targetSelectorOrElement)) {\n    for (let i = 0; i < targetSelectorOrElement.length; i++)\n      off(targetSelectorOrElement[i], task);\n  }\n  else if (typeof targetSelectorOrElement === 'object')\n    if (task)\n      targetSelectorOrElement.removeEventListener(event, task);\n    else\n      targetSelectorOrElement.removeEventListener(event);\n  else\n    throw new Error(`${targetSelectorOrElement} must be a CSS selector string or DOM Element object.`);\n}\n\nexport function getConsoleStyle(style) {\n  if (style == 'code') {\n    return `\n    padding: 0 5px 2px;\n    border: 1px solid #ddd;\n    -webkit-border-radius: 3px;\n    -moz-border-radius: 3px;\n    border-radius: 3px;\n    background-clip: padding-box;\n    font-family: Monaco,\"DejaVu Sans Mono\",\"Courier New\",monospace;\n    color: #666;\n    `\n  } else if (style == 'bold') {\n    return `\n      font-weight: 600;\n    color: rgb(51, 51, 51);\n    `;\n  } else if (style == 'alert') {\n    return `\n      font-weight: 600;\n    color: red;\n    `;\n  } else if (style == 'event') {\n    return `\n    color: green;\n    `;\n  } else if (style == 'postmessage') {\n    return `\n    color: orange;\n    `;\n  }\n}\n\n/**\n * Returns a promise for the setTimeout() method.\n * @param durationMs\n * @returns {Promise} Returns a promise that resolves when the timeout is complete.\n */\nexport function delay(durationMs) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, durationMs)\n  });\n}\n\nexport function nothing() {\n  return Promise.resolve();\n}\n\nexport function when(condition, promiseIfTrue, promiseIfFalse) {\n  if (promiseIfTrue === undefined)\n    promiseIfTrue = nothing();\n  if (promiseIfFalse === undefined)\n    promiseIfFalse = nothing();\n  return (condition ? promiseIfTrue : promiseIfFalse);\n}\n\nexport function guid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = crypto.getRandomValues(new Uint8Array(1))[0]%16|0, v = c == 'x' ? r : (r&0x3|0x8);\n    return v.toString(16);\n  });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","/*\r\n* loglevel - https://github.com/pimterry/loglevel\r\n*\r\n* Copyright (c) 2013 Tim Perry\r\n* Licensed under the MIT license.\r\n*/\r\n(function (root, definition) {\r\n    \"use strict\";\r\n    if (typeof module === 'object' && module.exports && typeof require === 'function') {\r\n        module.exports = definition();\r\n    } else if (typeof define === 'function' && typeof define.amd === 'object') {\r\n        define(definition);\r\n    } else {\r\n        root.log = definition();\r\n    }\r\n}(this, function () {\r\n    \"use strict\";\r\n    var noop = function() {};\r\n    var undefinedType = \"undefined\";\r\n\r\n    function realMethod(methodName) {\r\n        if (typeof console === undefinedType) {\r\n            return false; // We can't build a real method without a console to log to\r\n        } else if (console[methodName] !== undefined) {\r\n            return bindMethod(console, methodName);\r\n        } else if (console.log !== undefined) {\r\n            return bindMethod(console, 'log');\r\n        } else {\r\n            return noop;\r\n        }\r\n    }\r\n\r\n    function bindMethod(obj, methodName) {\r\n        var method = obj[methodName];\r\n        if (typeof method.bind === 'function') {\r\n            return method.bind(obj);\r\n        } else {\r\n            try {\r\n                return Function.prototype.bind.call(method, obj);\r\n            } catch (e) {\r\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\r\n                return function() {\r\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    // these private functions always need `this` to be set properly\r\n\r\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\r\n        return function () {\r\n            if (typeof console !== undefinedType) {\r\n                replaceLoggingMethods.call(this, level, loggerName);\r\n                this[methodName].apply(this, arguments);\r\n            }\r\n        };\r\n    }\r\n\r\n    function replaceLoggingMethods(level, loggerName) {\r\n        /*jshint validthis:true */\r\n        for (var i = 0; i < logMethods.length; i++) {\r\n            var methodName = logMethods[i];\r\n            this[methodName] = (i < level) ?\r\n                noop :\r\n                this.methodFactory(methodName, level, loggerName);\r\n        }\r\n    }\r\n\r\n    function defaultMethodFactory(methodName, level, loggerName) {\r\n        /*jshint validthis:true */\r\n        return realMethod(methodName) ||\r\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\r\n    }\r\n\r\n    var logMethods = [\r\n        \"trace\",\r\n        \"debug\",\r\n        \"info\",\r\n        \"warn\",\r\n        \"error\"\r\n    ];\r\n\r\n    function Logger(name, defaultLevel, factory) {\r\n      var self = this;\r\n      var currentLevel;\r\n      var storageKey = \"loglevel\";\r\n      if (name) {\r\n        storageKey += \":\" + name;\r\n      }\r\n\r\n      function persistLevelIfPossible(levelNum) {\r\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\r\n\r\n          // Use localStorage if available\r\n          try {\r\n              window.localStorage[storageKey] = levelName;\r\n              return;\r\n          } catch (ignore) {}\r\n\r\n          // Use session cookie as fallback\r\n          try {\r\n              window.document.cookie =\r\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\r\n          } catch (ignore) {}\r\n      }\r\n\r\n      function getPersistedLevel() {\r\n          var storedLevel;\r\n\r\n          try {\r\n              storedLevel = window.localStorage[storageKey];\r\n          } catch (ignore) {}\r\n\r\n          if (typeof storedLevel === undefinedType) {\r\n              try {\r\n                  var cookie = window.document.cookie;\r\n                  var location = cookie.indexOf(\r\n                      encodeURIComponent(storageKey) + \"=\");\r\n                  if (location) {\r\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\r\n                  }\r\n              } catch (ignore) {}\r\n          }\r\n\r\n          // If the stored level is not valid, treat it as if nothing was stored.\r\n          if (self.levels[storedLevel] === undefined) {\r\n              storedLevel = undefined;\r\n          }\r\n\r\n          return storedLevel;\r\n      }\r\n\r\n      /*\r\n       *\r\n       * Public API\r\n       *\r\n       */\r\n\r\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\r\n          \"ERROR\": 4, \"SILENT\": 5};\r\n\r\n      self.methodFactory = factory || defaultMethodFactory;\r\n\r\n      self.getLevel = function () {\r\n          return currentLevel;\r\n      };\r\n\r\n      self.setLevel = function (level, persist) {\r\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\r\n              level = self.levels[level.toUpperCase()];\r\n          }\r\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\r\n              currentLevel = level;\r\n              if (persist !== false) {  // defaults to true\r\n                  persistLevelIfPossible(level);\r\n              }\r\n              replaceLoggingMethods.call(self, level, name);\r\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\r\n                  return \"No console available for logging\";\r\n              }\r\n          } else {\r\n              throw \"log.setLevel() called with invalid level: \" + level;\r\n          }\r\n      };\r\n\r\n      self.setDefaultLevel = function (level) {\r\n          if (!getPersistedLevel()) {\r\n              self.setLevel(level, false);\r\n          }\r\n      };\r\n\r\n      self.enableAll = function(persist) {\r\n          self.setLevel(self.levels.TRACE, persist);\r\n      };\r\n\r\n      self.disableAll = function(persist) {\r\n          self.setLevel(self.levels.SILENT, persist);\r\n      };\r\n\r\n      // Initialize with the right level\r\n      var initialLevel = getPersistedLevel();\r\n      if (initialLevel == null) {\r\n          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\r\n      }\r\n      self.setLevel(initialLevel, false);\r\n    }\r\n\r\n    /*\r\n     *\r\n     * Package-level API\r\n     *\r\n     */\r\n\r\n    var defaultLogger = new Logger();\r\n\r\n    var _loggersByName = {};\r\n    defaultLogger.getLogger = function getLogger(name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n          throw new TypeError(\"You must supply a name when creating a logger.\");\r\n        }\r\n\r\n        var logger = _loggersByName[name];\r\n        if (!logger) {\r\n          logger = _loggersByName[name] = new Logger(\r\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\r\n        }\r\n        return logger;\r\n    };\r\n\r\n    // Grab the current global log variable in case of overwrite\r\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\r\n    defaultLogger.noConflict = function() {\r\n        if (typeof window !== undefinedType &&\r\n               window.log === defaultLogger) {\r\n            window.log = _log;\r\n        }\r\n\r\n        return defaultLogger;\r\n    };\r\n\r\n    return defaultLogger;\r\n}));\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/loglevel/lib/loglevel.js\n ** module id = 3\n ** module chunks = 0\n **/","export default class Environment {\n  static get SERVICE_WORKER() {\n    return 'ServiceWorker';\n  }\n\n  static get HOST() {\n    return \"host\";\n  }\n\n  static get POPUP() {\n    return \"popup\";\n  }\n\n  static get IFRAME() {\n    return \"iFrame\";\n  }\n\n  static getEnv() {\n    if (typeof window === \"undefined\") {\n      if (typeof WorkerLocation !== \"undefined\" && location instanceof WorkerLocation)\n        return Environment.SERVICE_WORKER;\n    }\n    else {\n      // If the window is the root top-most level\n      if (window.self === window.top) {\n        if (location.href.indexOf(\"initOneSignal\") > -1)\n          return Environment.POPUP;\n        else\n          return Environment.HOST;\n      }\n      else\n        return Environment.IFRAME;\n    }\n  }\n\n  static isServiceWorker() {\n    return Environment.getEnv() === Environment.SERVICE_WORKER;\n  }\n\n  static isHost() {\n    return Environment.getEnv() === Environment.HOST;\n  }\n\n  static isPopup() {\n    return Environment.getEnv() === Environment.POPUP;\n  }\n\n  static isIframe() {\n    return Environment.getEnv() === Environment.IFRAME;\n  }\n\n  static isBrowser() {\n    return typeof window !== 'undefined';\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/environment.js\n **/","module.exports = global[\"OneSignal\"] = require(\"-!/Users/jpang/code/OneSignal-Website-SDK/node_modules/babel-loader/index.js?{\\\"presets\\\":[\\\"es2015\\\"],\\\"cacheDirectory\\\":true}!/Users/jpang/code/OneSignal-Website-SDK/src/sdk.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/expose-loader?OneSignal!./src/sdk.js\n ** module id = 5\n ** module chunks = 0\n **/","import { DEV_HOST, PROD_HOST, API_URL } from './vars.js';\nimport Environment from './environment.js'\nimport './string.js'\nimport { apiCall, sendNotification } from './api.js';\nimport log from 'loglevel';\nimport LimitStore from './limitStore.js';\nimport Event from \"./events.js\";\nimport Bell from \"./bell/bell.js\";\nimport Database from './database.js';\nimport * as Browser from 'bowser';\nimport { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, once, guid } from './utils.js';\n\n\nvar OneSignal = {\n  _VERSION: __VERSION__,\n  _API_URL: API_URL,\n  _app_id: null,\n  _tagsToSendOnRegister: null,\n  _notificationOpened_callback: null,\n  _idsAvailable_callback: [],\n  _defaultLaunchURL: null,\n  _initOptions: null,\n  _httpRegistration: false,\n  _main_page_port: null,\n  _isNotificationEnabledCallback: [],\n  _subscriptionSet: true,\n  _initOneSignalHttp: null,\n  _sessionIframeAdded: false,\n  _useHttpMode: null,\n  _windowWidth: 550,\n  _windowHeight: 480,\n  _isUninitiatedVisitor: false,\n  _isNewVisitor: false,\n  _isInitialized: false,\n  notifyButton: null,\n  store: LimitStore,\n  environment: Environment,\n  database: Database,\n  event: Event,\n  LOGGING: __DEV__,\n  browser: Browser,\n  log: log,\n  SERVICE_WORKER_UPDATER_PATH: \"OneSignalSDKUpdaterWorker.js\",\n  SERVICE_WORKER_PATH: \"OneSignalSDKWorker.js\",\n  SERVICE_WORKER_PARAM: {},\n\n  /* Event Definitions */\n  EVENTS: {\n    CUSTOM_PROMPT_CLICKED: 'onesignal.prompt.custom.clicked',\n    NATIVE_PROMPT_PERMISSIONCHANGED: 'onesignal.prompt.native.permissionchanged',\n    SUBSCRIPTION_CHANGED: 'onesignal.subscription.changed',\n    WELCOME_NOTIFICATION_SENT: 'onesignal.actions.welcomenotificationsent',\n    INTERNAL_SUBSCRIPTIONSET: 'onesignal.internal.subscriptionset',\n    SDK_INITIALIZED: 'onesignal.sdk.initialized'\n  },\n\n  _sendToOneSignalApi: function (url, action, inData, callback, failedCallback) {\n    log.debug(`Calling ${action} ${OneSignal._API_URL + url} with data:`, inData);\n    var contents = {\n      method: action,\n      //mode: 'no-cors', // no-cors is disabled for non-serviceworker.\n    };\n\n    if (inData) {\n      contents.headers = {\"Content-type\": \"application/json;charset=UTF-8\"};\n      contents.body = JSON.stringify(inData);\n    }\n\n    fetch(OneSignal._API_URL + url, contents)\n      .then(function status(response) {\n        if (response.status >= 200 && response.status < 300)\n          return Promise.resolve(response);\n        else\n          return Promise.reject(new Error(response.statusText));\n      })\n      .then(function status(response) {\n        return response.json();\n      })\n      .then(function (jsonData) {\n        if (callback != null)\n          callback(jsonData);\n      })\n      .catch(function (e) {\n        log.error('OneSignal._sendToOneSignalApi() failed:', e);\n        if (failedCallback != null)\n          failedCallback();\n      });\n  },\n\n  _getLanguage: function () {\n    return navigator.language ? (navigator.language.length > 3 ? navigator.language.substring(0, 2) : navigator.language) : 'en';\n  },\n\n  _getPlayerId: function (value, callback) {\n    if (value)\n      callback(value)\n    else {\n      Database.get('Ids', 'userId')\n        .then(function _getPlayerId_gotUserId(result) {\n          if (result)\n            callback(result.id);\n          else\n            callback(null);\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n      ;\n    }\n  },\n\n  _registerWithOneSignal: function (appId, registrationId, deviceType) {\n\n    Database.get('Ids', 'userId')\n      .then(function _registerWithOneSignal_GotUserId(userIdResult) {\n        OneSignal._getNotificationTypes(function (notif_types) {\n          var requestUrl = 'players';\n\n          var jsonData = {\n            app_id: appId,\n            device_type: deviceType,\n            language: OneSignal._getLanguage(),\n            timezone: new Date().getTimezoneOffset() * -60,\n            device_model: navigator.platform + \" \" + Browser.name,\n            device_os: Browser.version,\n            sdk: OneSignal._VERSION\n          };\n\n          if (userIdResult) {\n            requestUrl = 'players/' + userIdResult.id + '/on_session';\n            jsonData.notification_types = notif_types\n          }\n          else if (notif_types != 1)\n            jsonData.notification_types = notif_types\n\n          if (registrationId) {\n            jsonData.identifier = registrationId;\n            Database.put(\"Ids\", {type: \"registrationId\", id: registrationId});\n          }\n\n          OneSignal._sendToOneSignalApi(requestUrl, 'POST', jsonData,\n            function registeredCallback(responseJSON) {\n              sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n\n              if (responseJSON.id) {\n                Database.put(\"Ids\", {type: \"userId\", id: responseJSON.id});\n                OneSignal._sendUnsentTags();\n              }\n\n              OneSignal._getPlayerId(responseJSON.id, function (userId) {\n                if (OneSignal._idsAvailable_callback.length > 0) {\n                  while (OneSignal._idsAvailable_callback.length > 0) {\n                    var curr_callback = OneSignal._idsAvailable_callback.pop();\n                    curr_callback({userId: userId, registrationId: registrationId});\n                  }\n                }\n\n                if (OneSignal._httpRegistration) {\n                  // 12/16/2015 -- At this point, the user has just clicked Allow on the HTTP prompt!!\n                  OneSignal._getNotificationPermission()\n                    .then((permission) => {\n                      log.debug(\"Sending player Id and registrationId back to host page\");\n                      log.debug(OneSignal._initOptions);\n                      var creator = opener || parent;\n                      OneSignal._safePostMessage(creator, {\n                        idsAvailable: {\n                          userId: userId,\n                          registrationId: registrationId\n                        },\n                        from: Environment.getEnv()\n                      }, OneSignal._initOptions.origin, null);\n                      OneSignal._safePostMessage(creator, {\n                        httpNativePromptPermissionChanged: permission,\n                        from: Environment.getEnv()\n                      }, OneSignal._initOptions.origin, null);\n\n                      if (opener)\n                        window.close();\n                    })\n                    .catch(e => log.error(e));\n                }\n              });\n            }\n          );\n\n        });\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  _sendUnsentTags: function () {\n    if (OneSignal._tagsToSendOnRegister) {\n      OneSignal.sendTags(OneSignal._tagsToSendOnRegister);\n      OneSignal._tagsToSendOnRegister = null;\n    }\n  },\n\n  setDefaultNotificationUrl: function (url) {\n    Database.put(\"Options\", {key: \"defaultUrl\", value: url});\n  },\n\n  setDefaultIcon: function (icon) {\n    Database.put(\"Options\", {key: \"defaultIcon\", value: icon});\n  },\n\n  setDefaultTitle: function (title) {\n    Database.put(\"Options\", {key: \"defaultTitle\", value: title});\n  },\n\n  onCustomPromptClicked: function (event) {\n    OneSignal._checkTrigger_eventSubscriptionChanged();\n  },\n\n  onNativePromptChanged: function (event) {\n    OneSignal._checkTrigger_eventSubscriptionChanged();\n  },\n\n  _sendSelfNotification: function(title, message, url) {\n    if (!title) {\n      title = 'OneSignal Test Message';\n    }\n    if (!message) {\n      message = 'This is an example notification.';\n    }\n    Database.get('Ids', 'userId')\n      .then(function (result) {\n        if (result && result.id) {\n          sendNotification(OneSignal._app_id, [result.id], {'en': title}, {'en': message}, url)\n        } else {\n          log.warn('Could not send self a test notification because there is no valid user ID.');\n        }\n      });\n  },\n\n  _onSubscriptionChanged: function (event) {\n    if (OneSignal._isUninitiatedVisitor && event.detail === true) {\n      Database.get('Ids', 'userId')\n        .then(function (result) {\n          let welcome_notification_opts = OneSignal._initOptions['welcomeNotification'];\n          let welcome_notification_disabled = (welcome_notification_opts !== undefined && welcome_notification_opts['disable'] === true);\n          let title = (welcome_notification_opts !== undefined && welcome_notification_opts['title'] !== undefined && welcome_notification_opts['title'] !== null) ? welcome_notification_opts['title'] : '';\n          let message = (welcome_notification_opts !== undefined && welcome_notification_opts['message'] !== undefined && welcome_notification_opts['message'] !== null && welcome_notification_opts['message'].length > 0) ? welcome_notification_opts['message'] : 'Thanks for subscribing!';\n          if (!welcome_notification_disabled) {\n            log.debug('Because this user is a new site visitor, a welcome notification will be sent.');\n            let welcomeNotificationUrl = new URL(location.href);\n            welcomeNotificationUrl = welcomeNotificationUrl.origin + '?_osp=do_not_open';\n            sendNotification(OneSignal._app_id, [result.id], {'en': title}, {'en': message}, welcomeNotificationUrl)\n            Event.trigger(OneSignal.EVENTS.WELCOME_NOTIFICATION_SENT, {title: title, message: message});\n            OneSignal._isUninitiatedVisitor = false;\n          }\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n    }\n    LimitStore.put('subscription.value', event.detail);\n  },\n\n  _onDbValueRetrieved: function (event) {\n  },\n\n  _onDbValueSet: function (event) {\n    var info = event.detail;\n    if (info.type === 'userId') {\n      LimitStore.put('db.ids.userId', info.id);\n      OneSignal._checkTrigger_eventSubscriptionChanged();\n    }\n  },\n\n  _onInternalSubscriptionSet: function (event) {\n    var newSubscriptionValue = event.detail;\n    LimitStore.put('setsubscription.value', newSubscriptionValue);\n    OneSignal._checkTrigger_eventSubscriptionChanged();\n  },\n\n  _onSdkInitialized: function() {\n    if (!OneSignal._isInitialized && Environment.isBrowser() && !OneSignal.notifyButton) {\n      OneSignal._initOptions.notifyButton = OneSignal._initOptions.notifyButton || {};\n      if (OneSignal._initOptions.bell) {\n        // If both bell and notifyButton, notifyButton's options take precedence\n        Object.assign(OneSignal._initOptions.bell, OneSignal._initOptions.notifyButton);\n        Object.assign(OneSignal._initOptions.notifyButton, OneSignal._initOptions.bell);\n      }\n      OneSignal.notifyButton = new Bell(OneSignal._initOptions.notifyButton);\n      OneSignal.notifyButton.create();\n      OneSignal._isInitialized = true;\n    }\n    else if (OneSignal._isInitialized) {\n      log.warn('SDK initialized event occured more than once.');\n    }\n  },\n\n  _onDatabaseRebuilt: function() {\n    OneSignal._isNewVisitor = true;\n  },\n\n  _checkTrigger_nativePermissionChanged: function() {\n    OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id)\n      .then((permission) => {\n        let currentPermission = permission;\n        let lastPermission = LimitStore.getLast('notification.permission');\n        if (lastPermission !== currentPermission) {\n          OneSignal._triggerEvent_nativePromptPermissionChanged(lastPermission, currentPermission);\n        }\n      })\n      .catch(e => log.error(e));\n  },\n\n  _checkTrigger_eventSubscriptionChanged: function () {\n    log.debug('Called %c_checkTrigger_eventSubscriptionChanged()', getConsoleStyle('code'), 'in', Environment.getEnv());\n    var permissions = LimitStore.get('notification.permission');\n    var lastPermission = permissions[permissions.length - 2];\n    var currentPermission = permissions[permissions.length - 1];\n    log.debug('%c_checkTrigger_eventSubscriptionChanged():', getConsoleStyle('code'), 'Permissions:', {lastPermission, currentPermission});\n\n    var ids = LimitStore.get('db.ids.userId');\n    var lastId = ids[ids.length - 2];\n    var currentId = ids[ids.length - 1];\n    log.debug('%c_checkTrigger_eventSubscriptionChanged():', getConsoleStyle('code'), 'Ids:', {lastId, currentId});\n\n    var subscriptionStates = LimitStore.get('setsubscription.value');\n    var lastSubscriptionState = subscriptionStates[subscriptionStates.length - 2];\n    var currentSubscriptionState = subscriptionStates[subscriptionStates.length - 1];\n    log.debug('%c_checkTrigger_eventSubscriptionChanged():', getConsoleStyle('code'), 'Subscriptions:', {lastSubscriptionState, currentSubscriptionState});\n\n\n    var newSubscriptionState = 'unchanged';\n\n    if (((lastPermission === 'default' || lastPermission === 'denied' || lastPermission === null) && currentPermission === 'granted' &&\n        currentId !== null &&\n        currentSubscriptionState === true\n      ) ||\n      (\n        (lastSubscriptionState === false && currentSubscriptionState === true) &&\n        currentId != null &&\n        currentPermission === 'granted'\n      )) {\n      newSubscriptionState = true;\n    }\n\n    if ((lastPermission !== 'denied' && currentPermission === 'denied') ||\n      (lastPermission === 'granted' && currentPermission !== 'granted') ||\n      (lastId !== null && currentId === null) ||\n      (lastSubscriptionState !== false && currentSubscriptionState === false)) {\n      newSubscriptionState = false;\n    }\n\n    if (newSubscriptionState !== \"unchanged\") {\n      var lastTriggerTimes = LimitStore.put('event.subscriptionchanged.lastriggered', Date.now());\n      var currentTime = lastTriggerTimes[lastTriggerTimes.length - 1];\n      var lastTriggerTime = lastTriggerTimes[lastTriggerTimes.length - 2];\n      var elapsedTimeSeconds = (currentTime - lastTriggerTime) / 1000;\n\n      var lastEventStates = LimitStore.put('event.subscriptionchanged.laststates', newSubscriptionState);\n      var currentState = lastEventStates[lastEventStates.length - 1];\n      var lastState = lastEventStates[lastEventStates.length - 2];\n\n      // If event already triggered within the last second, don't re-trigger.\n      var shouldNotTriggerEvent = (lastTriggerTime != null && (elapsedTimeSeconds <= 1)) || (currentState === lastState);\n      if (shouldNotTriggerEvent === false) {\n        OneSignal._triggerEvent_subscriptionChanged(newSubscriptionState)\n      }\n    }\n  },\n\n  isPushNotificationsSupported: function() {\n    return isPushNotificationsSupported();\n  },\n\n  _installNativePromptPermissionChangedHook: function() {\n    if (navigator.permissions && !(isBrowserFirefox() && getFirefoxVersion() <= 45)) {\n      OneSignal._usingNativePermissionHook = true;\n      // If the browser natively supports hooking the subscription prompt permission change event\n      //     use it instead of our SDK method\n      navigator.permissions.query({name: 'notifications'}).then(function (permissionStatus) {\n        permissionStatus.onchange = function () {\n          var permissionBeforePrompt = LimitStore.getFirst('notification.permission');\n          OneSignal._triggerEvent_nativePromptPermissionChanged(permissionBeforePrompt);\n        };\n      })\n        .catch(function (e) {\n          log.error(e);\n        });\n    }\n  },\n\n  init: function (options) {\n    log.debug(`Called %cinit(${JSON.stringify(options, null, 4)})`, getConsoleStyle('code'));\n\n    if (Environment.isBrowser() && window.localStorage[\"onesignal.debugger.init\"]) {\n      debugger;\n    }\n\n    if (OneSignal._isInitialized) {\n      log.warn('OneSignal.init() was called again, but the SDK is already initialized. Skipping initialization.');\n      return;\n    }\n\n    OneSignal._initOptions = options;\n    OneSignal._app_id = OneSignal._initOptions.appId;\n\n    if (!isPushNotificationsSupported()) {\n      log.warn(\"Your browser does not support push notifications.\");\n      return;\n    }\n\n    window.addEventListener(Database.EVENTS.REBUILT, OneSignal._onDatabaseRebuilt);\n\n    OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id)\n      .then(permission => {\n        LimitStore.put('notification.permission', permission);\n        OneSignal._installNativePromptPermissionChangedHook();\n\n        // Store the current value of Ids:registrationId, so that we can see if the value changes in the future\n        return Database.get('Ids', 'userId');\n      })\n      .then(function (result) {\n        if (result === undefined) {\n          OneSignal._isUninitiatedVisitor = true;\n        }\n        var storeValue = result ? result.id : null;\n        LimitStore.put('db.ids.userId', storeValue);\n\n        // Store the current value of subscription, so that we can see if the value changes in the future\n        return OneSignal._getSubscription();\n      })\n      .then((currentSubscription) => {\n        LimitStore.put('setsubscription.value', currentSubscription);\n        window.addEventListener(OneSignal.EVENTS.CUSTOM_PROMPT_CLICKED, OneSignal.onCustomPromptClicked);\n        window.addEventListener(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, OneSignal.onNativePromptChanged);\n        window.addEventListener(OneSignal.EVENTS.SUBSCRIPTION_CHANGED, OneSignal._onSubscriptionChanged);\n        window.addEventListener(Database.EVENTS.RETRIEVED, OneSignal._onDbValueRetrieved);\n        window.addEventListener(Database.EVENTS.SET, OneSignal._onDbValueSet);\n        window.addEventListener(OneSignal.EVENTS.INTERNAL_SUBSCRIPTIONSET, OneSignal._onInternalSubscriptionSet);\n        window.addEventListener(OneSignal.EVENTS.SDK_INITIALIZED, OneSignal._onSdkInitialized);\n        window.addEventListener('focus', (event) => {\n          // Checks if permission changed everytime a user focuses on the page, since a user has to click out of and back on the page to check permissions\n          OneSignal._checkTrigger_nativePermissionChanged();\n        });\n\n        OneSignal._useHttpMode = !isSupportedSafari() && (!OneSignal._supportsDirectPermission() || OneSignal._initOptions.subdomainName);\n\n        if (OneSignal._useHttpMode)\n          OneSignal._initOneSignalHttp = 'https://' + OneSignal._initOptions.subdomainName + '.onesignal.com/sdks/initOneSignalHttp';\n        else\n          OneSignal._initOneSignalHttp = 'https://onesignal.com/sdks/initOneSignalHttps';\n\n        if (__DEV__)\n          OneSignal._initOneSignalHttp = DEV_HOST + '/dev_sdks/initOneSignalHttp';\n\n        // If Safari - add 'fetch' pollyfill if it isn't already added.\n        if (isSupportedSafari() && typeof window.fetch == \"undefined\") {\n          var s = document.createElement('script');\n          s.setAttribute('src', \"https://cdnjs.cloudflare.com/ajax/libs/fetch/0.9.0/fetch.js\");\n          document.head.appendChild(s);\n        }\n\n        if (document.readyState === \"complete\")\n          OneSignal._internalInit();\n        else\n          window.addEventListener('load', OneSignal._internalInit);\n      })\n      .catch(e => log.error(e));\n  },\n\n  _internalInit: function () {\n    log.debug('Called %c_internalInit()', getConsoleStyle('code'));\n    Promise.all([Database.get('Ids', 'appId'),\n      Database.get('Ids', 'registrationId'),\n      Database.get('Options', 'subscription')])\n      .then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n        var appIdResult = result[0];\n        var registrationIdResult = result[1];\n        var subscriptionResult = result[2];\n\n        // If AppId changed delete playerId and continue.\n        if (appIdResult && appIdResult.id != OneSignal._initOptions.appId) {\n          Database.remove(\"Ids\", \"userId\");\n          sessionStorage.removeItem(\"ONE_SIGNAL_SESSION\");\n        }\n\n        // HTTPS - Only register for push notifications once per session or if the user changes notification permission to Ask or Allow.\n        if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\")\n          && !OneSignal._initOptions.subdomainName\n          && (Notification.permission == \"denied\"\n          || sessionStorage.getItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\") == Notification.permission)) {\n          Event.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n          return;\n        }\n\n        sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\n        if (Browser.safari && OneSignal._initOptions.autoRegister === false) {\n          log.debug('On Safari and autoregister is false, skipping sessionInit().');\n          log.debug('Use http mode: ', OneSignal._useHttpMode);\n          // This *seems* to trigger on either Safari's autoregister false or Chrome HTTP\n          // Chrome HTTP gets an SDK_INITIALIZED event from the iFrame postMessage, so don't call it here\n          if (!OneSignal._useHttpMode) {\n            Event.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n          }\n          return;\n        }\n\n        if (OneSignal._initOptions.autoRegister === false && !registrationIdResult && !OneSignal._initOptions.subdomainName) {\n          log.debug('No autoregister, no registration ID, no subdomain > skip _internalInit().')\n          Event.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n          return;\n        }\n\n        if (document.visibilityState !== \"visible\") {\n          once(document, 'visibilitychange', (e, destroyEventListener) => {\n            if (document.visibilityState === 'visible') {\n              destroyEventListener();\n              OneSignal._sessionInit({});\n            }\n          }, true);\n          return;\n        }\n\n        log.debug('Calling _sessionInit() normally from _internalInit().');\n        OneSignal._sessionInit({});\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n  },\n\n  registerForPushNotifications: function (options) {\n    if (!isPushNotificationsSupported()) {\n      log.warn(\"Your browser does not support push notifications.\");\n      return;\n    }\n    // WARNING: Do NOT add callbacks that have to fire to get from here to window.open in _sessionInit.\n    //          Otherwise the pop-up to ask for push permission on HTTP connections will be blocked by Chrome.\n    if (!options)\n      options = {};\n    options.fromRegisterFor = true;\n    OneSignal._sessionInit(options);\n  },\n\n  // Http only - Only called from iframe's init.js\n  _initHttp: function (options) {\n    log.debug('Called %c _initHttp', getConsoleStyle('code'));\n    OneSignal._initOptions = options;\n\n    OneSignal._installNativePromptPermissionChangedHook();\n    if (options.continuePressed) {\n      OneSignal.setSubscription(true);\n    }\n\n    var isIframe = (parent != null && parent != window);\n    var creator = opener || parent;\n\n    if (!creator) {\n      log.error('_initHttp (from <iframe>):', 'No opener or parent found!');\n      return;\n    }\n    // Setting up message channel to receive message from host page.\n    var messageChannel = new MessageChannel();\n    messageChannel.port1.onmessage = function (event) {\n      log.debug(`%c${Environment.getEnv().capitalize()}  ${event.data.from.capitalize()}:`, getConsoleStyle('postmessage'), event.data);\n\n      if (event.data.initOptions) {\n        OneSignal.setDefaultNotificationUrl(event.data.initOptions.defaultUrl);\n        OneSignal.setDefaultTitle(event.data.initOptions.defaultTitle);\n        if (event.data.initOptions.defaultIcon)\n          OneSignal.setDefaultIcon(event.data.initOptions.defaultIcon);\n\n        Database.get(\"NotificationOpened\", event.data.initOptions.parent_url)\n          .then(function registerForPushNotifications_GotNotificationOpened(notificationOpenedResult) {\n            if (notificationOpenedResult) {\n              Database.remove(\"NotificationOpened\", event.data.initOptions.parent_url);\n              log.debug(\"OneSignal._safePostMessage:targetOrigin:\", OneSignal._initOptions.origin);\n\n              OneSignal._safePostMessage(creator, {openedNotification: notificationOpenedResult.data, from: Environment.getEnv()}, OneSignal._initOptions.origin, null);\n            }\n          })\n          .catch(function (e) {\n            log.error(e);\n          });\n        ;\n      }\n      else if (event.data.getNotificationPermission) { // This is not used for OneSignal._getNotificationPermission, even though the naming is similar\n        //log.info('%cIn the <iframe>: getNotificationPermission message was received.', getConsoleStyle('alert'));\n        OneSignal._getSubdomainState(function (curState) {\n          OneSignal._safePostMessage(creator, {currentNotificationPermission: curState, from: Environment.getEnv()}, OneSignal._initOptions.origin, null);\n        });\n      }\n      else if (event.data.remoteGetNotificationPermission) {\n        let safariWebId = event.data.safariWebId;\n        let promiseId = event.data.promiseId;\n        OneSignal._getNotificationPermission(safariWebId)\n          .then((permission) => {\n            OneSignal._safePostMessage(creator, {remoteGetNotificationPermissionResponse: permission, promiseId: promiseId, from: Environment.getEnv()}, OneSignal._initOptions.origin, null);\n          })\n          .catch(e => log.error(e));\n      }\n      else if (event.data.setSubdomainState) {\n        let promiseId = event.data.promiseId;\n        OneSignal.setSubscription(event.data.setSubdomainState.setSubscription)\n          .then(() => {\n            // Let main page know setSubscription is complete so promise can be fulfilled\n            OneSignal._safePostMessage(creator, {setSubscriptionComplete: true, from: Environment.getEnv(), promiseId: promiseId}, OneSignal._initOptions.origin, null);\n          })\n          .catch(() => {\n            OneSignal._safePostMessage(creator, {setSubscriptionComplete: false, from: Environment.getEnv(), promiseId: promiseId}, OneSignal._initOptions.origin, null);\n          });\n      }\n    };\n\n    OneSignal._getSubdomainState(function (curState) {\n      curState[\"isIframe\"] = isIframe;\n      OneSignal._safePostMessage(creator, {oneSignalInitPageReady: curState, from: Environment.getEnv()}, OneSignal._initOptions.origin, [messageChannel.port2]);\n    });\n\n    OneSignal._initSaveState();\n    OneSignal._httpRegistration = true;\n    if (location.search.indexOf(\"?session=true\") == 0)\n      return;\n\n    OneSignal._getPlayerId(null, function (player_id) {\n      if (!isIframe || player_id) {\n        navigator.serviceWorker.register(OneSignal.SERVICE_WORKER_PATH, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n      }\n    });\n  },\n\n  _getSubdomainState: function (callback) {\n    var state = {};\n\n    Promise.all([Database.get('Ids', 'userId'),\n      Database.get('Ids', 'registrationId'),\n      Database.get('Options', 'subscription')])\n      .then(function _internalInit_GotAppRegistrationSubscriptionIds(result) {\n        var userIdResult = result[0];\n        var registrationIdResult = result[1];\n        var subscriptionResult = result[2];\n\n        callback({\n          userId: userIdResult ? userIdResult.id : null,\n          registrationId: registrationIdResult ? registrationIdResult.id : null,\n          notifPermssion: Notification.permission,\n          subscriptionSet: subscriptionResult ? subscriptionResult.value : null,\n          isPushEnabled: ( Notification.permission == \"granted\"\n          && userIdResult\n          && registrationIdResult\n          && ((subscriptionResult && subscriptionResult.value) || subscriptionResult == null))\n        });\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  _initSaveState: function () {\n    OneSignal._app_id = OneSignal._initOptions.appId;\n    Database.put(\"Ids\", {type: \"appId\", id: OneSignal._app_id});\n    Database.put(\"Options\", {key: \"pageTitle\", value: document.title});\n  },\n\n  _supportsDirectPermission: function () {\n    return isSupportedSafari()\n      || location.protocol == 'https:'\n      || location.host.indexOf(\"localhost\") == 0\n      || location.host.indexOf(\"127.0.0.1\") == 0;\n  },\n\n  _getPromptOptionsQueryString: function () {\n    var message_localization_opts = OneSignal._initOptions['promptOptions'];\n    var message_localization_opts_str = '';\n    if (message_localization_opts) {\n      var message_localization_params = ['actionMessage',\n        'exampleNotificationTitleDesktop',\n        'exampleNotificationMessageDesktop',\n        'exampleNotificationTitleMobile',\n        'exampleNotificationMessageMobile',\n        'exampleNotificationCaption',\n        'acceptButtonText',\n        'cancelButtonText',\n        'showCredit'];\n      for (var i = 0; i < message_localization_params.length; i++) {\n        var key = message_localization_params[i];\n        var value = message_localization_opts[key];\n        var encoded_value = encodeURIComponent(value);\n        if (value || value === false || value === '') {\n          message_localization_opts_str += '&' + key + '=' + encoded_value;\n        }\n      }\n    }\n    return message_localization_opts_str;\n  },\n\n  _sessionInit: function (options) {\n    log.debug(`Called %c_sessionInit(${JSON.stringify(options)})`, getConsoleStyle('code'));\n    OneSignal._initSaveState();\n\n    var hostPageProtocol = location.origin.match(/^http(s|):\\/\\/(www\\.|)/)[0];\n\n    // If HTTP or using subdomain mode\n    if (OneSignal._useHttpMode) {\n      if (options.fromRegisterFor) {\n        var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;\n        var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;\n\n        var thisWidth = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n        var thisHeight = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n        var childWidth = OneSignal._windowWidth;\n        var childHeight = OneSignal._windowHeight;\n\n        var left = ((thisWidth / 2) - (childWidth / 2)) + dualScreenLeft;\n        var top = ((thisHeight / 2) - (childHeight / 2)) + dualScreenTop;\n\n        log.debug('Opening popup window.');\n        var message_localization_opts_str = OneSignal._getPromptOptionsQueryString();\n        var childWindow = window.open(OneSignal._initOneSignalHttp + \"?\" + message_localization_opts_str + \"&hostPageProtocol=\" + hostPageProtocol, \"_blank\", 'scrollbars=yes, width=' + childWidth + ', height=' + childHeight + ', top=' + top + ', left=' + left);\n\n        if (childWindow)\n          childWindow.focus();\n      }\n      else {\n        OneSignal._addSessionIframe(hostPageProtocol);\n      }\n\n    }\n    else {\n      if (isSupportedSafari()) {\n        if (OneSignal._initOptions.safari_web_id) {\n          OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id)\n            .then(permission => {\n              window.safari.pushNotification.requestPermission(\n                OneSignal._API_URL + 'safari',\n                OneSignal._initOptions.safari_web_id,\n                {app_id: OneSignal._app_id},\n                function (data) {\n                  log.info('Safari requestPermission() callback:', data);\n                  var notificationPermissionAfterRequest = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id);\n                  if (data.deviceToken) {\n                    OneSignal._registerWithOneSignal(OneSignal._app_id, data.deviceToken.toLowerCase(), 7);\n                  }\n                  else {\n                    sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n                  }\n                  OneSignal._triggerEvent_nativePromptPermissionChanged(permission);\n                }\n              );\n            })\n            .catch(e => log.error(e));\n        }\n      }\n      else if (options.modalPrompt && options.fromRegisterFor) { // If HTTPS - Show modal\n        if (!isPushNotificationsSupported()) {\n          log.warn('An attempt was made to open the HTTPS modal permission prompt, but push notifications are not supported on this browser. Opening canceled.');\n          return;\n        }\n        OneSignal.isPushNotificationsEnabled(function (pushEnabled) {\n          var element = document.createElement('div');\n          element.setAttribute('id', 'OneSignal-iframe-modal');\n          element.innerHTML = '<div id=\"notif-permission\" style=\"background: rgba(0, 0, 0, 0.7); position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 3000000000; display: block\"></div>';\n          document.body.appendChild(element);\n\n          var iframeStyle = document.createElement('style');\n          iframeStyle.innerHTML = \"@media (max-width: 560px) { .OneSignal-permission-iframe { width: 100%; height: 100%;} }\"\n            + \"@media (min-width: 561px) { .OneSignal-permission-iframe { top: 50%; left: 50%; margin-left: -275px; margin-top: -248px;} }\";\n          document.getElementsByTagName('head')[0].appendChild(iframeStyle);\n\n          var message_localization_opts_str = OneSignal._getPromptOptionsQueryString();\n\n          var iframeNode = document.createElement(\"iframe\");\n          iframeNode.className = \"OneSignal-permission-iframe\"\n          iframeNode.style.cssText = \"background: rgba(255, 255, 255, 1); position: fixed;\";\n          iframeNode.src = OneSignal._initOneSignalHttp\n            + '?'\n            + message_localization_opts_str\n            + '&id=' + OneSignal._app_id\n            + '&httpsPrompt=true'\n            + '&pushEnabled=' + pushEnabled\n            + '&permissionBlocked=' + (typeof Notification === \"undefined\" || Notification.permission == \"denied\")\n            + '&hostPageProtocol=' + hostPageProtocol;\n          iframeNode.setAttribute('frameborder', '0');\n          iframeNode.width = OneSignal._windowWidth.toString();\n          iframeNode.height = OneSignal._windowHeight.toString();\n\n          log.debug('Opening HTTPS modal prompt.');\n          document.getElementById(\"notif-permission\").appendChild(iframeNode);\n        });\n      }\n      else if ('serviceWorker' in navigator) // If HTTPS - Show native prompt\n        OneSignal._registerForW3CPush(options);\n      else\n        log.debug('Service workers are not supported in this browser.');\n\n      Event.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n    }\n  },\n\n  _registerForW3CPush: function (options) {\n\n    Database.get('Ids', 'registrationId')\n      .then(function _registerForW3CPush_GotRegistrationId(registrationIdResult) {\n        if (!registrationIdResult || !options.fromRegisterFor || Notification.permission != \"granted\") {\n          navigator.serviceWorker.getRegistration().then(function (serviceWorkerRegistration) {\n            var sw_path = \"\";\n\n            if (OneSignal._initOptions.path)\n              sw_path = OneSignal._initOptions.path;\n\n            if (typeof serviceWorkerRegistration === \"undefined\") // Nothing registered, very first run\n              OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n            else {\n              if (serviceWorkerRegistration.active) {\n                if (serviceWorkerRegistration.active.scriptURL.indexOf(sw_path + OneSignal.SERVICE_WORKER_PATH) > -1) {\n\n                  Database.get('Ids', 'WORKER1_ONE_SIGNAL_SW_VERSION')\n                    .then(function (versionResult) {\n                      if (versionResult) {\n                        if (versionResult.id != OneSignal._VERSION)\n                          OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n                        else\n                          OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n                      }\n                      else\n                        OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n\n                    })\n                    .catch(function (e) {\n                      log.error(e);\n                    });\n                }\n                else if (serviceWorkerRegistration.active.scriptURL.indexOf(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH) > -1) {\n\n                  Database.get('Ids', 'WORKER2_ONE_SIGNAL_SW_VERSION')\n                    .then(function (versionResult) {\n                      if (versionResult) {\n                        if (versionResult.id != OneSignal._VERSION)\n                          OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n                        else\n                          OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n                      }\n                      else\n                        OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_UPDATER_PATH);\n                    })\n                    .catch(function (e) {\n                      log.error(e);\n                    });\n                }\n              }\n              else if (serviceWorkerRegistration.installing == null)\n                OneSignal._registerServiceWorker(sw_path + OneSignal.SERVICE_WORKER_PATH);\n            }\n          })\n            .catch(function (e) {\n              log.error(e);\n            });\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  _registerServiceWorker: function(full_sw_and_path) {\n    navigator.serviceWorker.register(full_sw_and_path, OneSignal.SERVICE_WORKER_PARAM).then(OneSignal._enableNotifications, OneSignal._registerError);\n  },\n\n  _addSessionIframe: function (hostPageProtocol) {\n    log.debug(`Called %c_addSessionIframe(${JSON.stringify(hostPageProtocol, null, 4)})`, getConsoleStyle('code'));\n\n    var node = document.createElement(\"iframe\");\n    node.style.display = \"none\";\n    node.src = OneSignal._initOneSignalHttp + \"Iframe\";\n    if (sessionStorage.getItem(\"ONE_SIGNAL_SESSION\"))\n      node.src += \"?session=true\"\n        + \"&hostPageProtocol=\" + hostPageProtocol;\n    else\n      node.src += \"?hostPageProtocol=\" + hostPageProtocol\n    document.body.appendChild(node);\n\n    OneSignal._sessionIframeAdded = true;\n  },\n\n  _registerError: function (err) {\n    log.error(\"ServiceWorker registration\", err);\n  },\n\n  _enableNotifications: function (existingServiceWorkerRegistration) { // is ServiceWorkerRegistration type\n    if (existingServiceWorkerRegistration)\n      log.debug('An older ServiceWorker exists:', existingServiceWorkerRegistration);\n    if (!('PushManager' in window)) {\n      log.error(\"Push messaging is not supported. No PushManager.\");\n      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n      return;\n    }\n\n    if (!('showNotification' in ServiceWorkerRegistration.prototype)) {\n      log.error(\"Notifications are not supported. showNotification not available in ServiceWorkerRegistration.\");\n      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n      return;\n    }\n\n    if (Notification.permission === 'denied') {\n      log.warn(\"The user has disabled notifications.\");\n      return;\n    }\n\n    navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {\n      log.info('Service worker now active:', serviceWorkerRegistration);\n\n      OneSignal._subscribeForPush(serviceWorkerRegistration);\n    })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  /*\n   Returns the current browser-agnostic notification permission as \"default\", \"granted\", \"denied\".\n   safariWebId: Used only to get the current notification permission state in Safari (required as part of the spec).\n   */\n  _getNotificationPermission: function (safariWebId) {\n    /*\n     For the following conditions, get directly and return:\n     - Safari, because the permission property is not scoped by origin\n     - HTTPS without a subdomain, because the permission is then accessed directly\n\n     Otherwise use a postmessage for:\n     - HTTP, this one is obvious\n     - HTTPS with a subdomain, when someone wants to consolidate multiple HTTPS sites under a subdomain\n     */\n    return new Promise((resolve, reject) => {\n      let isHttpsProtocol = (location.protocol === 'https:');\n      let noSubdomain = !OneSignal._useHttpMode;\n      if (Browser.safari ||\n        (isHttpsProtocol && noSubdomain)) {\n        if (window.safari) {\n          // The user is on Safari\n          // A web ID is required to determine the current notificiation permission\n          if (safariWebId) {\n            resolve(window.safari.pushNotification.permission(safariWebId).permission);\n          }\n          else {\n            // The user didn't set up Safari web push properly; notifications are unlikely to be enabled\n            resolve(\"default\");\n          }\n        }\n        else {\n          // Identical API on Firefox and Chrome\n          resolve(Notification.permission);\n        }\n      } else {\n        let uid = guid();\n        LimitStore.put(`_getNotificationPermissionPromiseResolve.${uid}`, resolve);\n        if (OneSignal._iframePort) {\n          OneSignal._iframePort.postMessage({remoteGetNotificationPermission: true, safariWebId: safariWebId, promiseId: uid, from: Environment.getEnv()});\n          // This promise will eventually be resolved by _listener_receiveMessage\n        } else {\n          // This entire function was called before an iFrame port is even available\n          resolve(\"default\");\n        }\n      }\n    });\n  },\n\n  _triggerEvent_customPromptClicked: function (clickResult) {\n    var recentPermissions = LimitStore.put('prompt.custom.permission', clickResult);\n    Event.trigger(OneSignal.EVENTS.CUSTOM_PROMPT_CLICKED, {\n      result: clickResult\n    });\n  },\n\n  _triggerEvent_nativePromptPermissionChanged: function (from, to, updateIfIdentical = false) {\n    if (to === undefined) {\n      var promise = OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id).then((permission) => {\n        to = permission;\n      })\n        .catch(e => log.error(e));\n    } else {\n      var promise = Promise.resolve();\n    }\n    promise.then(() => {\n      if (from !== to || updateIfIdentical) {\n        var recentPermissions = LimitStore.put('notification.permission', to);\n        Event.trigger(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, {\n          from: from,\n          to: to\n        });\n      }\n    });\n  },\n\n  _triggerEvent_subscriptionChanged: function (to) {\n    Event.trigger(OneSignal.EVENTS.SUBSCRIPTION_CHANGED, to);\n  },\n\n  _triggerEvent_dbValueRetrieved: function (value) {\n    Event.trigger(Database.EVENTS.RETRIEVED, value);\n  },\n\n  _triggerEvent_dbValueSet: function (value) {\n    Event.trigger(Database.EVENTS.SET, value);\n  },\n\n  _triggerEvent_internalSubscriptionSet: function (value) {\n    Event.trigger(OneSignal.EVENTS.INTERNAL_SUBSCRIPTIONSET, value);\n  },\n\n  _subscribeForPush: function (serviceWorkerRegistration) {\n    var notificationPermissionBeforeRequest = '';\n\n    OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id).then((permission) => {\n        notificationPermissionBeforeRequest = permission;\n      })\n      .then(() => {\n        return serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly: true});\n      })\n      .then(function (subscription) {\n        sessionStorage.setItem(\"ONE_SIGNAL_NOTIFICATION_PERMISSION\", Notification.permission);\n\n        Database.get('Ids', 'appId')\n          .then(function _subscribeForPush_GotAppId(appIdResult) {\n            var appId = appIdResult.id;\n            log.debug(\"Called OneSignal._subscribeForPush() -> serviceWorkerRegistration.pushManager.subscribe().\");\n\n            var registrationId = null;\n            if (subscription) {\n              if (typeof subscription.subscriptionId != \"undefined\") // Chrome 43 & 42\n                registrationId = subscription.subscriptionId;\n              else  // Chrome 44+ and FireFox\n                registrationId = subscription.endpoint.replace(new RegExp(\"^(https://android.googleapis.com/gcm/send/|https://updates.push.services.mozilla.com/push/)\"), \"\");\n            }\n            else\n              log.warn('Could not subscribe your browser for push notifications.');\n\n            OneSignal._registerWithOneSignal(appId, registrationId, isSupportedFireFox() ? 8 : 5);\n\n            if (!OneSignal._usingNativePermissionHook) {\n              OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest);\n            }\n          })\n          .catch(function (e) {\n            log.error(e);\n          });\n      })\n      .catch(function (e) {\n        log.error('Error while subscribing for push:', e);\n\n        // New addition (12/22/2015), adding support for detecting the cancel 'X'\n        // Chrome doesn't show when the user clicked 'X' for cancel\n        // We get the same error as if the user had clicked denied, but we can check Notification.permission to see if it is still 'default'\n        OneSignal._getNotificationPermission().then((permission) => {\n          if (permission === 'default') {\n            // The user clicked 'X'\n            OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest, permission, true);\n          }\n\n          if (!OneSignal._usingNativePermissionHook)\n            OneSignal._triggerEvent_nativePromptPermissionChanged(notificationPermissionBeforeRequest, permission);\n\n          if (e.code == 20 && opener && OneSignal._httpRegistration)\n            window.close();\n        })\n        .catch(e => log.error(e));\n      });\n  },\n\n  sendTag: function (key, value) {\n    var jsonKeyValue = {};\n    jsonKeyValue[key] = value;\n    OneSignal.sendTags(jsonKeyValue);\n  },\n\n  sendTags: function (jsonPair) {\n    Database.get('Ids', 'userId')\n      .then(function sendTags_GotUserId(userIdResult) {\n        if (userIdResult)\n          OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, \"PUT\", {\n            app_id: OneSignal._app_id,\n            tags: jsonPair\n          });\n        else {\n          if (OneSignal._tagsToSendOnRegister == null)\n            OneSignal._tagsToSendOnRegister = jsonPair;\n          else {\n            var resultObj = {};\n            for (var _obj in OneSignal._tagsToSendOnRegister) resultObj[_obj] = OneSignal._tagsToSendOnRegister[_obj];\n            for (var _obj in jsonPair) resultObj[_obj] = jsonPair[_obj];\n            OneSignal._tagsToSendOnRegister = resultObj;\n          }\n        }\n      })\n      .catch(function (e) {\n        log.error('sendTags:', e);\n      });\n  },\n\n  deleteTag: function (key) {\n    OneSignal.deleteTags([key]);\n  },\n\n  deleteTags: function (keyArray) {\n    var jsonPair = {};\n    var length = keyArray.length;\n    for (var i = 0; i < length; i++)\n      jsonPair[keyArray[i]] = \"\";\n\n    OneSignal.sendTags(jsonPair);\n  },\n\n  _handleNotificationOpened: function (event) {\n    var notificationData = JSON.parse(event.notification.tag);\n    event.notification.close();\n\n    Promise.all([Database.get('Ids', 'appId'), Database.get('Ids', 'userId')])\n      .then(function _handleNotificationOpened_GotAppUserIds(results) {\n        var appIdResult = results[0];\n        var userIdResult = results[1];\n        if (appIdResult && userIdResult) {\n          OneSignal._sendToOneSignalApi(\"notifications/\" + notificationData.id, \"PUT\", {\n            app_id: appIdResult.id,\n            player_id: userIdResult.id,\n            opened: true\n          });\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n\n    event.waitUntil(\n      clients.matchAll({type: \"window\"})\n        .then(function (clientList) {\n          var launchURL = registration.scope;\n          if (OneSignal._defaultLaunchURL)\n            launchURL = OneSignal._defaultLaunchURL;\n          if (notificationData.launchURL)\n            launchURL = notificationData.launchURL;\n\n          for (var i = 0; i < clientList.length; i++) {\n            var client = clientList[i];\n            if ('focus' in client && client.url == launchURL) {\n              client.focus();\n\n              // targetOrigin not valid here as the service worker owns the page.\n              client.postMessage(notificationData);\n              return;\n            }\n          }\n\n          if (launchURL !== 'javascript:void(0);' && launchURL !== 'do_not_open') {\n            Database.put(\"NotificationOpened\", {url: launchURL, data: notificationData});\n            clients.openWindow(launchURL).catch(function (error) {\n              // Should only fall into here if going to an external URL on Chrome older than 43.\n              clients.openWindow(registration.scope + \"redirector.html?url=\" + launchURL);\n            });\n          }\n        })\n        .catch(function (e) {\n          log.error(e);\n        })\n    );\n  },\n\n  // HTTP & HTTPS - Runs on main page (receives events from iframe / popup)\n  _listener_receiveMessage: function receiveMessage(event) {\n    if (event.data.from) {\n      var from = event.data.from.capitalize()\n    } else {\n      var from = 'IFrame/Popup';\n    }\n    log.debug(`%c${Environment.getEnv().capitalize()}  ${from}:`, getConsoleStyle('postmessage'), event.data);\n\n    if (OneSignal._initOptions == undefined)\n      return;\n\n    if (!__DEV__ && event.origin !== \"\" && event.origin !== \"https://onesignal.com\" && event.origin !== \"https://\" + OneSignal._initOptions.subdomainName + \".onesignal.com\")\n      return;\n\n    if (event.data.oneSignalInitPageReady) { // Only called on HTTP pages.\n      var eventData = event.data.oneSignalInitPageReady;\n\n      if (eventData.isIframe) {\n        OneSignal._iframePort = event.ports[0];\n      }\n\n      if (eventData.userId)\n        Database.put(\"Ids\", {type: \"userId\", id: eventData.userId});\n      if (eventData.registrationId)\n        Database.put(\"Ids\", {type: \"registrationId\", id: eventData.registrationId});\n\n      OneSignal._fireNotificationEnabledCallback(eventData.isPushEnabled);\n      OneSignal._sendUnsentTags();\n\n      Database.get(\"Options\")\n        .then(function _listener_receiveMessage(options) {\n          if (!options.defaultUrl)\n            options.defaultUrl = document.URL;\n          if (!options.defaultTitle)\n            options.defaultTitle = document.title;\n\n          options.parent_url = document.URL;\n          event.ports[0].postMessage({initOptions: options, from: Environment.getEnv()});\n\n          // For HTTP sites, only now is the SDK initialized and able to communicate with the iframe\n          Event.trigger(OneSignal.EVENTS.SDK_INITIALIZED);\n        })\n        .catch(function (e) {\n          log.error('_listener_receiveMessage:', e);\n        });\n    }\n    else if (event.data.currentNotificationPermission) { // Subdomain Only\n      OneSignal._fireNotificationEnabledCallback(event.data.currentNotificationPermission.isPushEnabled);\n    }\n    else if (event.data.remoteGetNotificationPermissionResponse) {\n      let permission = event.data.remoteGetNotificationPermissionResponse;\n      let promiseId = event.data.promiseId;\n      let promiseResolve = LimitStore.getLast(`_getNotificationPermissionPromiseResolve.${promiseId}`);\n      if (!promiseResolve) {\n        log.warn('When _getNotificationPermission() was previously called, no Promise was stored to be called back now.');\n      } else {\n        LimitStore.remove(`_getNotificationPermissionPromiseResolve.${promiseId}`);\n        promiseResolve(permission);\n      }\n    }\n    else if (event.data.setSubscriptionComplete) { // Subdomain to Host page notifying setSubscription(trueOrFalse) is complete\n      let promiseId = event.data.promiseId;\n      let promiseResolve = LimitStore.getLast(`setSubscriptionPromiseResolve.${promiseId}`);\n      if (!promiseResolve) {\n        log.warn('When setSubscription() was previously called, no Promise was stored to be called back now.');\n      } else {\n        LimitStore.remove(`setSubscriptionPromiseResolve.${promiseId}`);\n        promiseResolve();\n      }\n    }\n    else if (event.data.remoteEvent) { // Subdomain to Host page notifying setSubscription(trueOrFalse) is complete\n      let name = event.data.remoteEvent;\n      let data = event.data.remoteEventData;\n      let remoteTriggerEnv = event.data.from;\n      if (!name || data === undefined) {\n        log.warn(`Received an event back from postMessage, but it was undefined!`);\n      } else {\n        Event.trigger(name, data, remoteTriggerEnv);\n      }\n    }\n    else if (event.data.idsAvailable) { // Only called on HTTP pages.\n      sessionStorage.setItem(\"ONE_SIGNAL_SESSION\", true);\n      Database.put(\"Ids\", {type: \"userId\", id: event.data.idsAvailable.userId});\n      Database.put(\"Ids\", {type: \"registrationId\", id: event.data.idsAvailable.registrationId});\n\n      if (OneSignal._idsAvailable_callback.length > 0) {\n        while (OneSignal._idsAvailable_callback.length > 0) {\n          var curr_callback = OneSignal._idsAvailable_callback.pop()\n          curr_callback({\n            userId: event.data.idsAvailable.userId,\n            registrationId: event.data.idsAvailable.registrationId\n          });\n        }\n      }\n      OneSignal._sendUnsentTags();\n    }\n    else if (event.data.httpsPromptAccepted) { // HTTPS Only\n      OneSignal.registerForPushNotifications();\n      OneSignal.setSubscription(true);\n      let elem = document.getElementById('OneSignal-iframe-modal');\n      elem.parentNode.removeChild(elem);\n      OneSignal._triggerEvent_customPromptClicked('granted');\n    }\n    else if (event.data.httpsPromptCanceled) { // HTTPS Only\n      let elem = document.getElementById('OneSignal-iframe-modal');\n      elem.parentNode.removeChild(elem);\n      OneSignal._triggerEvent_customPromptClicked('denied');\n    }\n    else if (event.data.httpPromptAccepted) { // HTTP Only\n      OneSignal._triggerEvent_customPromptClicked('granted');\n    }\n    else if (event.data.httpPromptCanceled) { // HTTP Only\n      OneSignal._triggerEvent_customPromptClicked('denied');\n    }\n    else if (event.data.httpNativePromptPermissionChanged) {\n      var recentPermissions = LimitStore.get('notification.permission');\n      var permissionBeforePrompt = recentPermissions[0];\n      OneSignal._triggerEvent_nativePromptPermissionChanged(permissionBeforePrompt, event.data.httpNativePromptPermissionChanged);\n    }\n    else if (OneSignal._notificationOpened_callback) { // HTTP and HTTPS\n      OneSignal._notificationOpened_callback(event.data);\n    }\n  },\n\n  addListenerForNotificationOpened: function (callback) {\n    OneSignal._notificationOpened_callback = callback;\n    if (window) {\n      Database.get(\"NotificationOpened\", document.URL)\n        .then(function (notificationOpenedResult) {\n          if (notificationOpenedResult) {\n            Database.remove(\"NotificationOpened\", document.URL);\n            OneSignal._notificationOpened_callback(notificationOpenedResult.data);\n          }\n        })\n        .catch(function (e) {\n          log.error(e);\n        });\n      ;\n    }\n  },\n\n  // Subdomain - Fired from message received from iframe.\n  _fireNotificationEnabledCallback: function (newNotificationPermission) {\n    if (OneSignal._isNotificationEnabledCallback) {\n      while (OneSignal._isNotificationEnabledCallback.length > 0) {\n        let callback = OneSignal._isNotificationEnabledCallback.pop();\n        callback(newNotificationPermission);\n      }\n    }\n  },\n\n  getIdsAvailable: function (callback) {\n    if (callback === undefined)\n      return;\n\n    OneSignal._idsAvailable_callback.push(callback);\n\n    Promise.all([Database.get('Ids', 'userId'), Database.get('Ids', 'registrationId')])\n      .then(function getIdsAvailable_GotUserRegistrationIds(results) {\n        var userIdResult = results[0];\n        var registrationIdResult = results[1];\n\n        if (userIdResult) {\n          if (registrationIdResult) {\n            while (OneSignal._idsAvailable_callback.length > 0) {\n              var curr_callback = OneSignal._idsAvailable_callback.pop();\n              curr_callback({\n                userId: userIdResult.id,\n                registrationId: registrationIdResult.id\n              });\n            }\n          }\n          else\n            while (OneSignal._idsAvailable_callback.length > 0) {\n              var curr_callback = OneSignal._idsAvailable_callback.pop();\n              curr_callback({userId: userIdResult.id, registrationId: null});\n            }\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  getTags: function (callback) {\n    Database.get('Ids', 'userId')\n      .then(function (userIdResult) {\n        if (userIdResult) {\n          OneSignal._sendToOneSignalApi(\"players/\" + userIdResult.id, 'GET', null, function (response) {\n            callback(response.tags);\n          });\n        }\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n    ;\n  },\n\n  isPushNotificationsEnabled: function (callback) {\n    if (!isPushNotificationsSupported()) {\n      log.warn(\"Your browser does not support push notifications.\");\n      return;\n    }\n\n    // If Subdomain\n    if (OneSignal._initOptions.subdomainName && !isBrowserSafari()) {\n      OneSignal._isNotificationEnabledCallback.push(callback);\n      if (OneSignal._iframePort) {\n        OneSignal._iframePort.postMessage({getNotificationPermission: true, from: Environment.getEnv()});\n      }\n      return;\n    }\n\n    // If HTTPS\n\n    Promise.all([Database.get('Ids', 'registrationId'), Database.get('Options', 'subscription')])\n      .then(function (results) {\n        var registrationIdResult = results[0];\n        var subscriptionResult = results[1];\n\n        if (registrationIdResult) {\n          if (subscriptionResult && !subscriptionResult.value)\n            return callback(false);\n\n          callback(Notification.permission == \"granted\");\n        }\n        else\n          callback(false);\n      })\n      .catch(function (e) {\n        log.error(e);\n      });\n  },\n\n  _getNotificationTypes: function (callback) {\n    return new Promise((resolve, reject) => {\n      OneSignal._getSubscription().then(currentSubscription => {\n        let notificationType = currentSubscription ? 1 : -2;\n        resolve(notificationType);\n        callback(notificationType);\n      });\n    });\n  },\n\n  setSubscription: function (newSubscription) {\n    return new Promise((resolve, reject) => {\n      if (OneSignal._iframePort) {\n        let uid = guid();\n        LimitStore.put(`setSubscriptionPromiseResolve.${uid}`, resolve);\n        OneSignal._iframePort.postMessage({setSubdomainState: {setSubscription: newSubscription}, promiseId: uid, from: Environment.getEnv()});\n        // This promise will eventually be resolved when the iFrame replies with setSubscriptionComplete\n      }\n      else {\n        OneSignal._getSubscription()\n          .then((currentSubscription) => {\n            if (currentSubscription != newSubscription) {\n              return Database.put(\"Options\", {key: \"subscription\", value: newSubscription});\n            } else {\n              log.debug(`Called %csetSubscription(${newSubscription})`, getConsoleStyle('code'), 'but there was no change, so skipping call.');\n              resolve();\n            }\n          })\n          .then(() => {\n            return Database.get('Ids', 'userId');\n          })\n          .then((userIdResult) => {\n            log.debug(userIdResult);\n            if (userIdResult) {\n              log.debug(3);\n              return apiCall(\"players/\" + userIdResult.id, \"PUT\", {\n                app_id: OneSignal._app_id,\n                notification_types: newSubscription ? 1 : -2\n              });\n            }\n            else {\n              log.debug(2);\n              log.error(`Called %csetSubscription(${newSubscription})`, getConsoleStyle('code'), 'but there was no user ID, so the result was not forwarded to OneSignal.');\n              reject('No user ID.');\n            }\n          })\n          .then(() => {\n            log.debug(1);\n            OneSignal._triggerEvent_internalSubscriptionSet(newSubscription);\n            resolve();\n          })\n          .catch((e) => {\n            if (e.constructor.name === 'Error') {\n              log.error(e);\n              reject(e);\n            } else {\n              resolve(e);\n            }\n          });\n      }\n    });\n  },\n\n  /**\n   * Returns a promise that resolves to false if setSubscription(false) has been explicitly called at any point in time. Otherwise returns true.\n   * This means a return value of true does not mean the user is subscribed, only that the user did not call setSubcription(false).\n   * @private\n   * @returns {Promise}\n   */\n  _getSubscription: function () {\n    return new Promise((resolve, reject) => {\n      Database.get('Options', 'subscription')\n        .then(subscriptionResult => {\n          resolve(!(subscriptionResult && subscriptionResult.value == false))\n        })\n        .catch(e => {\n          log.error(e);\n          reject(e);\n        });\n    });\n  },\n\n  _safePostMessage: function (creator, data, targetOrigin, receiver) {\n    var tOrigin = targetOrigin.toLowerCase();\n\n    // If we are trying to target a http site allow the https version. (w/ or w/o 'wwww.' too)\n    if (tOrigin.startsWith(\"http://\")) {\n      var queryDict = {};\n      location.search.substr(1).split(\"&\").forEach(function (item) {\n        queryDict[item.split(\"=\")[0]] = item.split(\"=\")[1]\n      });\n      var validPreURLRegex = /^http(s|):\\/\\/(www\\.|)/;\n      tOrigin = tOrigin.replace(validPreURLRegex, queryDict[\"hostPageProtocol\"]);\n    }\n\n    if (!data.from) {\n      data['from'] = Environment.getEnv();\n    }\n\n    if (receiver)\n      creator.postMessage(data, tOrigin, receiver);\n    else\n      creator.postMessage(data, tOrigin);\n  },\n\n  _process_pushes: function (array) {\n    for (var i = 0; i < array.length; i++)\n      OneSignal.push(array[i]);\n  },\n\n  push: function (item) {\n    if (typeof(item) == \"function\")\n      item();\n    else {\n      var functionName = item.shift();\n      OneSignal[functionName].apply(null, item);\n    }\n  }\n};\n\n// If imported on your page.\nif (Environment.isBrowser()) {\n  window.addEventListener(\"message\", OneSignal._listener_receiveMessage, false);\n}\nelse { // if imported from the service worker.\n\n}\n\nif (OneSignal.LOGGING)\n  log.setDefaultLevel(log.levels.TRACE);\nelse\n  log.setDefaultLevel(log.levels.ERROR);\n\nlog.info(`%cOneSignal Web SDK loaded (version ${OneSignal._VERSION}, ${Environment.getEnv()} environment).`, getConsoleStyle('bold'));\n\nmodule.exports = OneSignal;\n\n\n/** WEBPACK FOOTER **\n ** ./src/sdk.js\n **/","/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})();\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = global.fetch\n}.call(global));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/imports-loader?this=>global!./~/exports-loader?global.fetch!./~/whatwg-fetch/fetch.js\n ** module id = 7\n ** module chunks = 0\n **/","/**\n * Capitalizes the first letter of the string.\n * @returns {string} The string with the first letter capitalized.\n */\nString.prototype.capitalize = function() {\n  return this.charAt(0).toUpperCase() + this.slice(1);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/string.js\n **/","import { API_URL } from './vars.js'\nimport log from 'loglevel';\n\nexport function apiCall(action, method, data) {\n  let headers = new Headers();\n  headers.append('Content-Type', 'application/json;charset=UTF-8');\n\n  let contents = {\n    method: method || 'NO_METHOD_SPECIFIED',\n    headers: headers,\n    cache: 'no-cache'\n  };\n  if (data)\n    contents.body = JSON.stringify(data);\n\n  return new Promise((resolve, reject) => {\n    fetch(API_URL + action, contents)\n      .then(function status(response) {\n        if (response.status >= 200 && response.status < 300)\n          return response.json();\n        else\n          reject(new Error(response.statusText));\n      })\n      .then(jsonResponse => {\n        resolve(jsonResponse);\n      })\n      .catch(function (e) {\n        reject(e);\n      });\n  });\n}\n\nexport function sendNotification(appId, playerIds, titles, contents, url) {\n  var params = {\n    app_id: appId,\n    contents: contents,\n    include_player_ids: playerIds,\n    isAnyWeb: true\n  };\n  if (titles) {\n    params.headings = titles;\n  }\n  if (url) {\n    params.url = url;\n  }\n  return apiCall('notifications', 'POST', params);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/api.js\n **/","/*\n LimitStore.put('colorado', 'rocky');\n [\"rocky\"]\n LimitStore.put('colorado', 'mountain');\n [\"rocky\", \"mountain\"]\n LimitStore.put('colorado', 'national');\n [\"mountain\", \"national\"]\n LimitStore.put('colorado', 'park');\n [\"national\", \"park\"]\n */\nfunction LimitStore() {\n}\n\nLimitStore.store = {};\nLimitStore.LIMIT = 2;\n\nLimitStore.put = function (key, value) {\n  if (LimitStore.store[key] === undefined) {\n    LimitStore.store[key] = [null, null];\n  }\n  LimitStore.store[key].push(value);\n  if (LimitStore.store[key].length == LimitStore.LIMIT + 1) {\n    LimitStore.store[key].shift();\n  }\n  return LimitStore.store[key];\n};\n\nLimitStore.get = function (key) {\n  if (LimitStore.store[key] === undefined) {\n    LimitStore.store[key] = [null, null];\n  }\n  return LimitStore.store[key];\n};\n\nLimitStore.getFirst = function (key) {\n  return LimitStore.get(key)[0];\n};\n\nLimitStore.getLast = function (key) {\n  return LimitStore.get(key)[1];\n};\n\nLimitStore.remove = function (key) {\n  delete LimitStore[key];\n};\n\nLimitStore.isEmpty = function(key) {\n  let values = LimitStore.get(key);\n  return values[0] === null && values[1] === null;\n};\n\nexport default LimitStore;\n\n\n/** WEBPACK FOOTER **\n ** ./src/limitStore.js\n **/","import log from 'loglevel';\nimport Environment from './environment.js';\nimport { getConsoleStyle } from './utils.js';\nimport './string.js';\n\n\nconst SILENT_EVENTS = [\n  'onesignal.nb.hovering',\n  'onesignal.nb.hovered',\n  'onesignal.nb.launcher.button.click',\n  'onesignal.nb.launcher.click',\n  'onesignal.nb.animatedelement.hiding',\n  'onesignal.nb.animatedelement.hidden',\n  'onesignal.nb.animatedelement.showing',\n  'onesignal.nb.animatedelement.shown',\n  'onesignal.nb.activeanimatedelement.activating',\n  'onesignal.nb.activeanimatedelement.active',\n  'onesignal.nb.activeanimatedelement.inactivating',\n  'onesignal.nb.activeanimatedelement.inactive',\n  'onesignal.db.retrieved',\n  'onesignal.db.set'\n  ];\n\nconst RETRIGGER_REMOTE_EVENTS = [\n  'onesignal.prompt.custom.clicked',\n  'onesignal.prompt.native.permissionchanged',\n  'onesignal.subscription.changed',\n  'onesignal.internal.subscriptionset'\n];\n\nexport default class Event {\n  static trigger(eventName, data, remoteTriggerEnv=null) {\n    if (!eventName) {\n      log.warn('Missing event name.');\n    }\n    if (SILENT_EVENTS.indexOf(eventName) === -1) {\n      if (!Environment.isBrowser()) {\n        log.debug(`(${Environment.getEnv().capitalize()})  %c${eventName}:`, getConsoleStyle('event'), data, '(not triggered in a ServiceWorker environment)');\n        return;\n      } else {\n        let displayData = data;\n        if (remoteTriggerEnv) {\n          var env = `${Environment.getEnv().capitalize()}  ${remoteTriggerEnv.capitalize()}`;\n        } else {\n          var env = Environment.getEnv().capitalize();\n        }\n\n        if (displayData || displayData === false) {\n          log.debug(`(${env})  %c${eventName}:`, getConsoleStyle('event'), displayData);\n        } else {\n          log.debug(`(${env})  %c${eventName}`, getConsoleStyle('event'));\n        }\n\n      }\n    }\n    if (Environment.isBrowser()) {\n      var event = new CustomEvent(eventName, {\n        bubbles: true, cancelable: true, detail: data\n      });\n      window.dispatchEvent(event);\n\n      // If this event was triggered in an iFrame or Popup environment, also trigger it on the host page\n      if (!Environment.isHost()) {\n        var creator = opener || parent;\n        if (!creator) {\n          log.error(`Could not send event '${eventName}' back to host page because no creator (opener or parent) found!`);\n        } else {\n          // But only if the event matches certain events\n          if (RETRIGGER_REMOTE_EVENTS.indexOf(eventName) !== -1) {\n            OneSignal._safePostMessage(creator, {remoteEvent: eventName, remoteEventData: data, from: Environment.getEnv()}, OneSignal._initOptions.origin, null);\n          }\n        }\n      }\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/events.js\n **/","import { isPushNotificationsSupported, removeDomElement, addDomElement, clearDomElementChildren, addCssClass, removeCssClass, once, on, off, getConsoleStyle, delay, when, nothing } from '../utils.js';\nimport Environment from '../environment.js';\nimport LimitStore from '../limitStore.js';\nimport log from 'loglevel';\nimport Event from '../events.js';\nimport * as Browser from 'bowser';\nimport { HOST_URL } from '../vars.js';\nimport AnimatedElement from './AnimatedElement.js';\nimport ActiveAnimatedElement from './ActiveAnimatedElement.js';\nimport Launcher from './Launcher.js';\nimport Badge from './Badge.js';\nimport Button from './Button.js';\nimport Dialog from './Dialog.js';\nimport Message from './Message.js';\n\nimport \"./bell.scss\";\nvar logoSvg = require('raw!./bell.svg');\n\n\nexport default class Bell {\n\n  static get EVENTS() {\n    return {\n      STATE_CHANGED: 'onesignal.nb.state.changed',\n      LAUNCHER_CLICK: 'onesignal.nb.launcher.click',\n      BELL_CLICK: 'onesignal.nb.launcher.button.click',\n      SUBSCRIBE_CLICK: 'onesignal.nb.launcher.dialog.button.subscribe.click',\n      UNSUBSCRIBE_CLICK: 'onesignal.nb.launcher.dialog.button.unsubscribe.click',\n      HOVERING: 'onesignal.nb.hovering',\n      HOVERED: 'onesignal.nb.hovered',\n    };\n  }\n\n  static get STATES() {\n    return {\n      UNINITIALIZED: 'uninitialized',\n      SUBSCRIBED: 'subscribed',\n      UNSUBSCRIBED: 'unsubscribed',\n      BLOCKED: 'blocked'\n    };\n  }\n\n  static get TEXT_SUBS() {\n    return {\n      'prompt.native.grant': {\n        default: 'Allow',\n        chrome: 'Allow',\n        firefox: 'Always Receive Notifications',\n        safari: 'Allow'\n      }\n    }\n  }\n\n  substituteText() {\n    // key: 'message.action.subscribing'\n    // value: 'Click <strong>{{prompt.native.grant}}</strong> to receive notifications'\n    for (var key in this.text) {\n      if (this.text.hasOwnProperty(key)) {\n        let value = this.text[key];\n        // browserName could be 'chrome' or 'firefox' or 'safari'\n        let browserName = Browser.name.toLowerCase();\n\n        // tKey: 'prompt.native.grant'  (from TEXT_SUBS)\n        // tValue: { chrome: 'Allow', firefox: 'Al... }\n        // zValue: 'Allow', if browserName === 'chrome'\n        for (var tKey in Bell.TEXT_SUBS) {\n          if (Bell.TEXT_SUBS.hasOwnProperty(tKey)) {\n            let tValue = Bell.TEXT_SUBS[tKey];\n            let zValue = tValue[browserName];\n            if (value.includes('{{')) {\n              this.text[key] = value.replace(`{{${tKey}}}`, (zValue !== undefined ? zValue : tValue['default']));\n            }\n          }\n        }\n      }\n    }\n  }\n\n  constructor({\n    enable = false,\n    size = 'medium',\n    position = 'bottom-right',\n    theme = 'default',\n    showLauncherAfter = 10,\n    showBadgeAfter = 300,\n    modalPrompt = false,\n    text = {\n      'tip.state.unsubscribed': 'Subscribe to notifications',\n      'tip.state.subscribed': \"You're subscribed to notifications\",\n      'tip.state.blocked': \"You've blocked notifications\",\n      'message.prenotify': 'Click to subscribe to notifications',\n      'message.action.subscribing': \"Click <strong>{{prompt.native.grant}}</strong> to receive notifications\",\n      'message.action.subscribed': \"Thanks for subscribing!\",\n      'message.action.resubscribed': \"You're subscribed to notifications\",\n      'message.action.unsubscribed': \"You won't receive notifications again\",\n      'dialog.main.title': 'Manage Site Notifications',\n      'dialog.main.button.subscribe': 'SUBSCRIBE',\n      'dialog.main.button.unsubscribe': 'UNSUBSCRIBE',\n      'dialog.blocked.title': 'Unblock Notifications',\n      'dialog.blocked.message': \"Follow these instructions to allow notifications:\"\n    },\n    prenotify = true,\n    showCredit = true\n    } = {}) {\n    this.options = {\n      enable: enable,\n      size: size,\n      position: position,\n      theme: theme,\n      showLauncherAfter: showLauncherAfter,\n      showBadgeAfter: showBadgeAfter,\n      text: text,\n      prenotify: prenotify,\n      showCredit: showCredit,\n      modalPrompt: modalPrompt,\n    };\n\n    if (!this.options.enable)\n      return;\n\n    if (['small', 'medium', 'large'].indexOf(this.options.size) < 0)\n      throw new Error(`Invalid size ${this.options.size} for notify button. Choose among 'small', 'medium', or 'large'.`);\n    if (['bottom-left', 'bottom-right'].indexOf(this.options.position) < 0)\n      throw new Error(`Invalid position ${this.options.position} for notify button. Choose either 'bottom-left', or 'bottom-right'.`);\n    if (['default', 'inverse'].indexOf(this.options.theme) < 0)\n      throw new Error(`Invalid theme ${this.options.theme} for notify button. Choose either 'default', or 'inverse'.`);\n    if (this.options.showLauncherAfter < 0)\n      throw new Error(`Invalid delay duration of ${this.options.showLauncherAfter} for showing the notify button. Choose a value above 0.`);\n    if (this.options.showBadgeAfter < 0)\n      throw new Error(`Invalid delay duration of ${this.options.showBadgeAfter} for showing the notify button's badge. Choose a value above 0.`);\n    this.size = this.options.size;\n    this.position = this.options.position;\n    this.text = this.options.text;\n    if (!this.text['tip.state.unsubscribed'])\n      this.text['tip.state.unsubscribed'] = 'Subscribe to notifications';\n    if (!this.text['tip.state.subscribed'])\n      this.text['tip.state.subscribed'] = \"You're subscribed to notifications\";\n    if (!this.text['tip.state.blocked'])\n      this.text['tip.state.blocked'] = \"You've blocked notifications\";\n    if (!this.text['message.prenotify'])\n      this.text['message.prenotify'] = \"Click to subscribe to notifications\";\n    if (!this.text['message.action.subscribed'])\n      this.text['message.action.subscribed'] = \"Thanks for subscribing!\";\n    if (!this.text['message.action.resubscribed'])\n      this.text['message.action.resubscribed'] = \"You're subscribed to notifications\";\n    if (!this.text['message.action.subscribing'])\n      this.text['message.action.subscribing'] = \"Click <strong>{{prompt.native.grant}}</strong> to receive notifications\";\n    if (!this.text['message.action.unsubscribed'])\n      this.text['message.action.unsubscribed'] = \"You won't receive notifications again\";\n    if (!this.text['dialog.main.title'])\n      this.text['dialog.main.title'] = 'Manage Site Notifications';\n    if (!this.text['dialog.main.button.subscribe'])\n      this.text['dialog.main.button.subscribe'] = 'SUBSCRIBE';\n    if (!this.text['dialog.main.button.unsubscribe'])\n      this.text['dialog.main.button.unsubscribe'] = 'UNSUBSCRIBE';\n    if (!this.text['dialog.blocked.title'])\n      this.text['dialog.blocked.title'] = 'Unblock Notifications';\n    if (!this.text['dialog.blocked.message'])\n      this.text['dialog.blocked.message'] = 'Follow these instructions to allow notifications:';\n    this.substituteText();\n    this.state = Bell.STATES.UNINITIALIZED;\n\n    // Install event hooks\n    window.addEventListener(Bell.EVENTS.LAUNCHER_CLICK, (event) => {\n      if (this.message.shown && this.message.contentType == Message.TYPES.MESSAGE) {\n        // A message is being shown, it'll disappear soon\n        return;\n      }\n\n      this.launcher.activateIfInactive()\n        .then(() => this.message.hide())\n        .then(() => {\n          if (this.unsubscribed) {\n            let setSubscriptionState = LimitStore.getLast('setsubscription.value');\n            if (setSubscriptionState === false) {\n              // The user manually called setSubscription(false), but the user is actually subscribed\n              this.showDialogProcedure();\n            }\n            else {\n              // The user is actually subscribed, register him for notifications\n              OneSignal.registerForPushNotifications({modalPrompt: this.options.modalPrompt});\n              //// Show the 'Click Allow to receive notifications' tip, if they haven't already enabled permissions\n              //if (OneSignal._getNotificationPermission(OneSignal._initOptions.safari_web_id) === 'default') {\n              //  this.message.display(Message.TYPES.MESSAGE, this.text['message.action.subscribing'], Message.TIMEOUT)\n              //}\n\n              once(window, OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, (event, destroyListenerFn) => {\n                destroyListenerFn();\n                let permission = event.detail.to;\n                if (permission === 'granted') {\n                  this.message.display(Message.TYPES.MESSAGE, this.text['message.action.subscribed'], Message.TIMEOUT)\n                    .then(() => {\n                      this.launcher.inactivate();\n                    })\n                    .catch((e) => {\n                      log.error(e);\n                    });\n                }\n              }, true);\n            }\n          }\n          else if (this.subscribed) {\n            this.showDialogProcedure();\n          }\n          else if (this.blocked) {\n            this.showDialogProcedure();\n          }\n        })\n        .catch((e) => log.error(e));\n    });\n\n    window.addEventListener(Bell.EVENTS.SUBSCRIBE_CLICK, () => {\n      this.dialog.subscribeButton.disabled = true;\n      OneSignal.setSubscription(true)\n        .then(() => {\n          this.dialog.subscribeButton.disabled = false;\n          return this.dialog.hide();\n        })\n        .then(() => {\n          return this.message.display(Message.TYPES.MESSAGE, this.text['message.action.resubscribed'], Message.TIMEOUT);\n        })\n        .then(() => {\n            this.launcher.clearIfWasInactive();\n            return this.launcher.inactivate();\n        });\n    });\n\n    window.addEventListener(Bell.EVENTS.UNSUBSCRIBE_CLICK, () => {\n      this.dialog.unsubscribeButton.disabled = true;\n      OneSignal.setSubscription(false)\n        .then(() => {\n          this.dialog.unsubscribeButton.disabled = false;\n          return this.dialog.hide();\n        })\n        .then(() => {\n          this.launcher.clearIfWasInactive();\n          return this.launcher.activate();\n        })\n        .then(() => {\n          return this.message.display(Message.TYPES.MESSAGE, this.text['message.action.unsubscribed'], Message.TIMEOUT);\n        });\n    });\n\n    window.addEventListener(Bell.EVENTS.HOVERING, () => {\n      this.hovering = true;\n      this.launcher.activateIfInactive();\n\n      // If there's already a message being force shown, do not override\n      if (this.message.shown || this.dialog.shown) {\n        this.hovering = false;\n        return;\n      }\n\n      // If the message is a message and not a tip, don't show it (only show tips)\n      // Messages will go away on their own\n      if (this.message.contentType === Message.TYPES.MESSAGE) {\n        this.hovering = false;\n        return;\n      }\n\n      new Promise((resolve, reject) => {\n        // If a message is being shown\n        if (this.message.queued.length > 0) {\n          return this.message.dequeue().then((msg) => {\n            this.message.content = msg;\n            this.message.contentType = Message.TYPES.QUEUED;\n            resolve();\n          });\n        } else {\n          this.message.content = this.message.getTipForState();\n          this.message.contentType = Message.TYPES.TIP;\n          resolve();\n        }\n      }).then(() => {\n          return this.message.show();\n        })\n        .then(() => {\n          this.hovering = false;\n        })\n    });\n\n    window.addEventListener(Bell.EVENTS.HOVERED, () => {\n      // If a message is displayed (and not a tip), don't control it. Visitors have no control over messages\n      if (this.message.contentType === Message.TYPES.MESSAGE) {\n        return;\n      }\n\n      if (this.hovering) {\n        this.hovering = false;\n        // Only happens on mobile where the message could still be showing (i.e. animating) when a HOVERED event fires\n        // Basically only happens if HOVERING and HOVERED fire within a few milliseconds of each other\n        this.message.waitUntilShown()\n          .then(() => delay(Message.TIMEOUT))\n          .then(() => this.message.hide())\n          .then(() => {\n            if (this.launcher.wasInactive && !this.dialog.shown) {\n              this.launcher.inactivate();\n              this.launcher.wasInactive = null;\n            }\n          });\n      }\n\n\n      if (this.message.shown) {\n        this.message.hide()\n          .then(() => {\n            if (this.launcher.wasInactive && !this.dialog.shown) {\n              this.launcher.inactivate();\n              this.launcher.wasInactive = null;\n            }\n          });\n      }\n    });\n\n    window.addEventListener(OneSignal.EVENTS.SUBSCRIPTION_CHANGED, (e) => {\n      let isSubscribed = e.detail;\n      this.setState(isSubscribed ? Bell.STATES.SUBSCRIBED : Bell.STATES.UNSUBSCRIBED);\n    });\n\n    window.addEventListener(OneSignal.EVENTS.NATIVE_PROMPT_PERMISSIONCHANGED, (from, to) => {\n      this.updateState();\n    });\n\n    window.addEventListener(OneSignal.EVENTS.WELCOME_NOTIFICATION_SENT, (e) => {\n    });\n\n    this.updateState();\n  }\n\n  showDialogProcedure() {\n    if (!this.dialog.shown) {\n      this.dialog.show()\n        .then((e) => {\n          //var id = Math.random().toString(36).substring(7, 11);\n          //console.warn(`Generating %cshowDialogProcedure(${id}):`, getConsoleStyle('code'), '.');\n          once(document, 'click', (e, destroyEventListener) => {\n            let wasDialogClicked = this.dialog.element.contains(e.target);\n            if (wasDialogClicked) {\n            } else {\n              //console.warn(`%cshowDialogProcedure(${id}):`, getConsoleStyle('code'), 'A destroying click was detected.');\n              destroyEventListener();\n              if (this.dialog.shown) {\n                this.dialog.hide()\n                  .then((e) => {\n                    this.launcher.inactivateIfWasInactive();\n                  })\n                  .catch((e) => {\n                    log.error(e);\n                  });\n              }\n            }\n          }, true);\n        })\n        .catch((e) => {\n          log.error(e);\n        });\n    }\n  }\n\n  create() {\n    if (!isPushNotificationsSupported())\n      return;\n\n    if (!this.options.enable)\n      return;\n\n    // Remove any existing bell\n    if (this.container) {\n      removeDomElement('onesignal-bell-container');\n    }\n\n    window.addDomElement = addDomElement;\n    // Insert the bell container\n    addDomElement('body', 'beforeend', '<div id=\"onesignal-bell-container\" class=\"onesignal-bell-container onesignal-reset\"></div>');\n    // Insert the bell launcher\n    addDomElement(this.container, 'beforeend', '<div id=\"onesignal-bell-launcher\" class=\"onesignal-bell-launcher\"></div>');\n    // Insert the bell launcher button\n    addDomElement(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-button\"></div>');\n    // Insert the bell launcher badge\n    addDomElement(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-badge\"></div>');\n    // Insert the bell launcher message\n    addDomElement(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-message\"></div>');\n    addDomElement(this.message.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-message-body\"></div>');\n    // Insert the bell launcher dialog\n    addDomElement(this.launcher.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog\"></div>');\n    addDomElement(this.dialog.selector, 'beforeend', '<div class=\"onesignal-bell-launcher-dialog-body\"></div>');\n\n    // Install events\n\n    // Add visual elements\n    addDomElement(this.button.selector, 'beforeEnd', logoSvg);\n\n    // Add default classes\n    this.launcher.resize(this.options.size).then(() => {\n      if (this.options.position === 'bottom-left') {\n        addCssClass(this.container, 'onesignal-bell-container-bottom-left')\n        addCssClass(this.launcher.selector, 'onesignal-bell-launcher-bottom-left')\n      }\n      else if (this.options.position === 'bottom-right') {\n        addCssClass(this.container, 'onesignal-bell-container-bottom-right')\n        addCssClass(this.launcher.selector, 'onesignal-bell-launcher-bottom-right')\n      }\n      else {\n        throw new Error('Invalid OneSignal notify button position ' + this.options.position);\n      }\n\n      if (this.options.theme === 'default') {\n        addCssClass(this.launcher.selector, 'onesignal-bell-launcher-theme-default')\n      }\n      else if (this.options.theme === 'inverse') {\n        addCssClass(this.launcher.selector, 'onesignal-bell-launcher-theme-inverse')\n      }\n      else {\n        throw new Error('Invalid OneSignal notify button theme ' + this.options.theme);\n      }\n\n      log.info('Showing the notify button.');\n\n      OneSignal.isPushNotificationsEnabled((pushEnabled) => {\n        (pushEnabled ? this.launcher.inactivate() : nothing())\n          .then(() => delay(this.options.showLauncherAfter))\n          .then(() => {\n            return this.launcher.show();\n          })\n          .then(() => {\n            return delay(this.options.showBadgeAfter);\n          })\n          .then(() => {\n            if (this.options.prenotify && !pushEnabled && OneSignal._isNewVisitor) {\n              return this.message.enqueue(this.text['message.prenotify'])\n                .then(() => this.badge.show());\n            }\n            else return nothing();\n          })\n          .then(() => this.initialized = true)\n          .catch((e) => log.error(e));\n      });\n    }).catch(e => log.error(e));\n  }\n\n  _getCurrentSetSubscriptionState() {\n    let setSubscriptionState = LimitStore.get('setsubscription.value');\n    var currentSetSubscription = setSubscriptionState[setSubscriptionState.length - 1];\n    return currentSetSubscription;\n  }\n\n  /**\n   * Updates the current state to the correct new current state. Returns a promise.\n   */\n  updateState() {\n    OneSignal.isPushNotificationsEnabled((isEnabled) => {\n      this.setState(isEnabled ? Bell.STATES.SUBSCRIBED : Bell.STATES.UNSUBSCRIBED);\n      if (LimitStore.getLast('notification.permission') === 'denied') {\n        this.setState(Bell.STATES.BLOCKED);\n      }\n    });\n\n  }\n\n  /**\n   * Updates the current state to the specified new state.\n   * @param newState One of ['subscribed', 'unsubscribed'].\n   */\n  setState(newState) {\n    let lastState = this.state;\n    this.state = newState;\n    if (lastState !== newState) {\n      Event.trigger(Bell.EVENTS.STATE_CHANGED, {from: lastState, to: newState});\n      // Update anything that should be changed here in the new state\n    }\n\n    // Update anything that should be reset to the same state\n  }\n\n  get container() {\n    return document.querySelector('#onesignal-bell-container');\n  }\n\n  get launcher() {\n    if (!this._launcher)\n      this._launcher = new Launcher(this);\n    return this._launcher;\n  }\n\n  get button() {\n    if (!this._button)\n      this._button = new Button(this);\n    return this._button;\n  }\n\n  get badge() {\n    if (!this._badge)\n      this._badge = new Badge(this);\n    return this._badge;\n  }\n\n  get message() {\n    if (!this._message)\n      this._message = new Message(this);\n    return this._message;\n  }\n\n  get dialog() {\n    if (!this._dialog)\n      this._dialog = new Dialog(this);\n    return this._dialog;\n  }\n\n  get subscribed() {\n    return this.state === Bell.STATES.SUBSCRIBED;\n  }\n\n  get unsubscribed() {\n    return this.state === Bell.STATES.UNSUBSCRIBED;\n  }\n\n  get blocked() {\n    return this.state === Bell.STATES.BLOCKED;\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/bell.js\n **/","/*!\n  * Bowser - a browser detector\n  * https://github.com/ded/bowser\n  * MIT License | (c) Dustin Diaz 2015\n  */\n\n!function (name, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else this[name] = definition()\n}('bowser', function () {\n  /**\n    * See useragents.js for examples of navigator.userAgent\n    */\n\n  var t = true\n\n  function detect(ua) {\n\n    function getFirstMatch(regex) {\n      var match = ua.match(regex);\n      return (match && match.length > 1 && match[1]) || '';\n    }\n\n    function getSecondMatch(regex) {\n      var match = ua.match(regex);\n      return (match && match.length > 1 && match[2]) || '';\n    }\n\n    var iosdevice = getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase()\n      , likeAndroid = /like android/i.test(ua)\n      , android = !likeAndroid && /android/i.test(ua)\n      , chromeBook = /CrOS/.test(ua)\n      , edgeVersion = getFirstMatch(/edge\\/(\\d+(\\.\\d+)?)/i)\n      , versionIdentifier = getFirstMatch(/version\\/(\\d+(\\.\\d+)?)/i)\n      , tablet = /tablet/i.test(ua)\n      , mobile = !tablet && /[^-]mobi/i.test(ua)\n      , result\n\n    if (/opera|opr/i.test(ua)) {\n      result = {\n        name: 'Opera'\n      , opera: t\n      , version: versionIdentifier || getFirstMatch(/(?:opera|opr)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/yabrowser/i.test(ua)) {\n      result = {\n        name: 'Yandex Browser'\n      , yandexbrowser: t\n      , version: versionIdentifier || getFirstMatch(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/windows phone/i.test(ua)) {\n      result = {\n        name: 'Windows Phone'\n      , windowsphone: t\n      }\n      if (edgeVersion) {\n        result.msedge = t\n        result.version = edgeVersion\n      }\n      else {\n        result.msie = t\n        result.version = getFirstMatch(/iemobile\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/msie|trident/i.test(ua)) {\n      result = {\n        name: 'Internet Explorer'\n      , msie: t\n      , version: getFirstMatch(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)\n      }\n    } else if (chromeBook) {\n      result = {\n        name: 'Chrome'\n      , chromeBook: t\n      , chrome: t\n      , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n      }\n    } else if (/chrome.+? edge/i.test(ua)) {\n      result = {\n        name: 'Microsoft Edge'\n      , msedge: t\n      , version: edgeVersion\n      }\n    }\n    else if (/chrome|crios|crmo/i.test(ua)) {\n      result = {\n        name: 'Chrome'\n      , chrome: t\n      , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (iosdevice) {\n      result = {\n        name : iosdevice == 'iphone' ? 'iPhone' : iosdevice == 'ipad' ? 'iPad' : 'iPod'\n      }\n      // WTF: version is not part of user agent in web apps\n      if (versionIdentifier) {\n        result.version = versionIdentifier\n      }\n    }\n    else if (/sailfish/i.test(ua)) {\n      result = {\n        name: 'Sailfish'\n      , sailfish: t\n      , version: getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/seamonkey\\//i.test(ua)) {\n      result = {\n        name: 'SeaMonkey'\n      , seamonkey: t\n      , version: getFirstMatch(/seamonkey\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/firefox|iceweasel/i.test(ua)) {\n      result = {\n        name: 'Firefox'\n      , firefox: t\n      , version: getFirstMatch(/(?:firefox|iceweasel)[ \\/](\\d+(\\.\\d+)?)/i)\n      }\n      if (/\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(ua)) {\n        result.firefoxos = t\n      }\n    }\n    else if (/silk/i.test(ua)) {\n      result =  {\n        name: 'Amazon Silk'\n      , silk: t\n      , version : getFirstMatch(/silk\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (android) {\n      result = {\n        name: 'Android'\n      , version: versionIdentifier\n      }\n    }\n    else if (/phantom/i.test(ua)) {\n      result = {\n        name: 'PhantomJS'\n      , phantom: t\n      , version: getFirstMatch(/phantomjs\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/blackberry|\\bbb\\d+/i.test(ua) || /rim\\stablet/i.test(ua)) {\n      result = {\n        name: 'BlackBerry'\n      , blackberry: t\n      , version: versionIdentifier || getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/(web|hpw)os/i.test(ua)) {\n      result = {\n        name: 'WebOS'\n      , webos: t\n      , version: versionIdentifier || getFirstMatch(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)\n      };\n      /touchpad\\//i.test(ua) && (result.touchpad = t)\n    }\n    else if (/bada/i.test(ua)) {\n      result = {\n        name: 'Bada'\n      , bada: t\n      , version: getFirstMatch(/dolfin\\/(\\d+(\\.\\d+)?)/i)\n      };\n    }\n    else if (/tizen/i.test(ua)) {\n      result = {\n        name: 'Tizen'\n      , tizen: t\n      , version: getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i) || versionIdentifier\n      };\n    }\n    else if (/safari/i.test(ua)) {\n      result = {\n        name: 'Safari'\n      , safari: t\n      , version: versionIdentifier\n      }\n    }\n    else {\n      result = {\n        name: getFirstMatch(/^(.*)\\/(.*) /),\n        version: getSecondMatch(/^(.*)\\/(.*) /)\n     };\n   }\n\n    // set webkit or gecko flag for browsers based on these engines\n    if (!result.msedge && /(apple)?webkit/i.test(ua)) {\n      result.name = result.name || \"Webkit\"\n      result.webkit = t\n      if (!result.version && versionIdentifier) {\n        result.version = versionIdentifier\n      }\n    } else if (!result.opera && /gecko\\//i.test(ua)) {\n      result.name = result.name || \"Gecko\"\n      result.gecko = t\n      result.version = result.version || getFirstMatch(/gecko\\/(\\d+(\\.\\d+)?)/i)\n    }\n\n    // set OS flags for platforms that have multiple browsers\n    if (!result.msedge && (android || result.silk)) {\n      result.android = t\n    } else if (iosdevice) {\n      result[iosdevice] = t\n      result.ios = t\n    }\n\n    // OS version extraction\n    var osVersion = '';\n    if (result.windowsphone) {\n      osVersion = getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i);\n    } else if (iosdevice) {\n      osVersion = getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i);\n      osVersion = osVersion.replace(/[_\\s]/g, '.');\n    } else if (android) {\n      osVersion = getFirstMatch(/android[ \\/-](\\d+(\\.\\d+)*)/i);\n    } else if (result.webos) {\n      osVersion = getFirstMatch(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i);\n    } else if (result.blackberry) {\n      osVersion = getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i);\n    } else if (result.bada) {\n      osVersion = getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i);\n    } else if (result.tizen) {\n      osVersion = getFirstMatch(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i);\n    }\n    if (osVersion) {\n      result.osversion = osVersion;\n    }\n\n    // device type extraction\n    var osMajorVersion = osVersion.split('.')[0];\n    if (tablet || iosdevice == 'ipad' || (android && (osMajorVersion == 3 || (osMajorVersion == 4 && !mobile))) || result.silk) {\n      result.tablet = t\n    } else if (mobile || iosdevice == 'iphone' || iosdevice == 'ipod' || android || result.blackberry || result.webos || result.bada) {\n      result.mobile = t\n    }\n\n    // Graded Browser Support\n    // http://developer.yahoo.com/yui/articles/gbs\n    if (result.msedge ||\n        (result.msie && result.version >= 10) ||\n        (result.yandexbrowser && result.version >= 15) ||\n        (result.chrome && result.version >= 20) ||\n        (result.firefox && result.version >= 20.0) ||\n        (result.safari && result.version >= 6) ||\n        (result.opera && result.version >= 10.0) ||\n        (result.ios && result.osversion && result.osversion.split(\".\")[0] >= 6) ||\n        (result.blackberry && result.version >= 10.1)\n        ) {\n      result.a = t;\n    }\n    else if ((result.msie && result.version < 10) ||\n        (result.chrome && result.version < 20) ||\n        (result.firefox && result.version < 20.0) ||\n        (result.safari && result.version < 6) ||\n        (result.opera && result.version < 10.0) ||\n        (result.ios && result.osversion && result.osversion.split(\".\")[0] < 6)\n        ) {\n      result.c = t\n    } else result.x = t\n\n    return result\n  }\n\n  var bowser = detect(typeof navigator !== 'undefined' ? navigator.userAgent : '')\n\n  bowser.test = function (browserList) {\n    for (var i = 0; i < browserList.length; ++i) {\n      var browserItem = browserList[i];\n      if (typeof browserItem=== 'string') {\n        if (browserItem in bowser) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  /*\n   * Set our detect method to the main bowser object so we can\n   * reuse it to test other user agents.\n   * This is needed to implement future tests.\n   */\n  bowser._detect = detect;\n\n  return bowser\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/bowser/bowser.js\n ** module id = 13\n ** module chunks = 0\n **/","import { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, addCssClass, removeCssClass, once } from '../utils.js';\nimport log from 'loglevel';\nimport Event from '../events.js'\n\n\nexport default class AnimatedElement {\n\n  /**\n   * Abstracts common DOM operations like hiding and showing transitionable elements into chainable promises.\n   * @param selector {string} The CSS selector of the element.\n   * @param showClass {string} The CSS class name to add to show the element.\n   * @param hideClass {string} The CSS class name to remove to hide the element.\n   * @param state {string} The current state of the element, defaults to 'shown'.\n   * @param targetTransitionEvents {string} An array of properties (e.g. ['transform', 'opacity']) to look for on transitionend of show() and hide() to know the transition is complete. As long as one matches, the transition is considered complete.\n   * @param nestedContentSelector {string} The CSS selector targeting the nested element within the current element. This nested element will be used for content getters and setters.\n   */\n  constructor(selector, showClass, hideClass, state = 'shown', targetTransitionEvents = ['opacity', 'transform'], nestedContentSelector = null) {\n    this.selector = selector;\n    this.showClass = showClass;\n    this.hideClass = hideClass;\n    this.state = state;\n    this.targetTransitionEvents = targetTransitionEvents;\n    this.nestedContentSelector = nestedContentSelector;\n    this.transitionCheckTimeout = 500;\n  }\n\n  /**\n   * Asynchronously shows an element by applying its {showClass} CSS class.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  show() {\n    if (!this.hidden) {\n      return Promise.resolve(this);\n    }\n    else return new Promise((resolve) => {\n      this.state = 'showing';\n      Event.trigger(AnimatedElement.EVENTS.SHOWING, this);\n      if (this.hideClass)\n        removeCssClass(this.element, this.hideClass);\n      if (this.showClass)\n        addCssClass(this.element, this.showClass);\n      if (this.targetTransitionEvents.length == 0) {\n        return resolve(this);\n      } else {\n        var timerId = setTimeout(() => {\n          log.warn(`${this.constructor.name} did not completely show (state: ${this.state}, activeState: ${this.activeState}).`)\n        }, this.transitionCheckTimeout);\n        once(this.element, 'transitionend', (event, destroyListenerFn) => {\n          if (event.target === this.element &&\n            this.targetTransitionEvents.includes(event.propertyName)) {\n            clearTimeout(timerId);\n            // Uninstall the event listener for transitionend\n            destroyListenerFn();\n            this.state = 'shown';\n            Event.trigger(AnimatedElement.EVENTS.SHOWN, this);\n            return resolve(this);\n          }\n        }, true);\n      }\n    });\n  }\n\n  /**\n   * Asynchronously hides an element by applying its {hideClass} CSS class.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  hide() {\n    if (!this.shown) {\n      return Promise.resolve(this);\n    }\n    else return new Promise((resolve) => {\n      this.state = 'hiding';\n      Event.trigger(AnimatedElement.EVENTS.HIDING, this);\n      if (this.showClass)\n        removeCssClass(this.element, this.showClass);\n      if (this.hideClass)\n        addCssClass(this.element, this.hideClass);\n      if (this.targetTransitionEvents.length == 0) {\n        return resolve(this);\n      } else {\n        once(this.element, 'transitionend', (event, destroyListenerFn) => {\n          var timerId = setTimeout(() => {\n            log.warn(`${this.constructor.name} did not completely hide (state: ${this.state}, activeState: ${this.activeState}).`)\n          }, this.transitionCheckTimeout);\n          if (event.target === this.element &&\n            this.targetTransitionEvents.includes(event.propertyName)) {\n            clearTimeout(timerId);\n            // Uninstall the event listener for transitionend\n            destroyListenerFn();\n            this.state = 'hidden';\n            Event.trigger(AnimatedElement.EVENTS.HIDDEN, this);\n            return resolve(this);\n          }\n        }, true);\n      }\n    });\n  }\n\n  /**\n   * Asynchronously waits for an element to finish transitioning to being shown.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  waitUntilShown() {\n    if (this.state === 'shown')\n      return Promise.resolve(this);\n    else return new Promise((resolve) => {\n      once(window, AnimatedElement.EVENTS.SHOWN, (event, destroyListenerFn) => {\n        var self = this;\n        if (event.detail === this) {\n          destroyListenerFn();\n          return resolve(this);\n        }\n      }, true);\n    });\n  }\n\n  /**\n   * Asynchronously waits for an element to finish transitioning to being hidden.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  waitUntilHidden() {\n    if (this.state === 'hidden')\n      return Promise.resolve(this);\n    else return new Promise((resolve) => {\n      once(window, AnimatedElement.EVENTS.HIDDEN, (event, destroyListenerFn) => {\n        if (event.detail === this) {\n          destroyListenerFn();\n          return resolve(this);\n        }\n      }, true);\n    });\n  }\n\n  static get EVENTS() {\n    return {\n      SHOWING: 'onesignal.nb.animatedelement.showing',\n      SHOWN: 'onesignal.nb.animatedelement.shown',\n      HIDING: 'onesignal.nb.animatedelement.hiding',\n      HIDDEN: 'onesignal.nb.animatedelement.hidden',\n    };\n  }\n\n  /**\n   * Returns the native element's innerHTML property.\n   * @returns {string} Returns the native element's innerHTML property.\n   */\n  get content() {\n    if (this.nestedContentSelector)\n      return this.element.querySelector(this.nestedContentSelector).innerHTML;\n    else\n      return this.element.innerHTML;\n  }\n\n  /**\n   * Sets the native element's innerHTML property.\n   * @param value {string} The HTML to set to the element.\n   */\n  set content(value) {\n    if (this.nestedContentSelector)\n      this.element.querySelector(this.nestedContentSelector).innerHTML = value;\n    else\n      this.element.innerHTML = value;\n  }\n\n\n  /**\n   * Returns the native {Element} via document.querySelector().\n   * @returns {Element} Returns the native {Element} via document.querySelector().\n   */\n  get element() {\n    return document.querySelector(this.selector);\n  }\n\n  /* States an element can be in */\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be transitioning to being shown.\n   */\n  get showing() {\n    return this.state === 'showing';\n  }\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be already shown.\n   */\n  get shown() {\n    return this.state === 'shown';\n  }\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be transitioning to hiding.\n   */\n  get hiding() {\n    return this.state === 'hiding';\n  }\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be already hidden.\n   */\n  get hidden() {\n    return this.state === 'hidden';\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/AnimatedElement.js\n **/","import { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, addCssClass, removeCssClass, once } from '../utils.js';\nimport log from 'loglevel';\nimport Event from '../events.js';\nimport AnimatedElement from './AnimatedElement.js';\n\n\nexport default class ActiveAnimatedElement extends AnimatedElement {\n\n  /**\n   * Abstracts common DOM operations like hiding and showing transitionable elements into chainable promises.\n   * @param selector {string} The CSS selector of the element.\n   * @param showClass {string} The CSS class name to add to show the element.\n   * @param hideClass {string} The CSS class name to remove to hide the element.\n   * @param activeClass {string} The CSS class name to add to activate the element.\n   * @param inactiveClass {string} The CSS class name to remove to inactivate the element.\n   * @param state {string} The current state of the element, defaults to 'shown'.\n   * @param activeState {string} The current state of the element, defaults to 'active'.\n   * @param targetTransitionEvents {string} An array of properties (e.g. ['transform', 'opacity']) to look for on transitionend of show() and hide() to know the transition is complete. As long as one matches, the transition is considered complete.\n   * @param nestedContentSelector {string} The CSS selector targeting the nested element within the current element. This nested element will be used for content getters and setters.\n   */\n  constructor(selector, showClass, hideClass, activeClass, inactiveClass, state = 'shown', activeState = 'active', targetTransitionEvents = ['opacity', 'transform'], nestedContentSelector = null) {\n    super(selector, showClass, hideClass, state, targetTransitionEvents, nestedContentSelector);\n    this.activeClass = activeClass;\n    this.inactiveClass = inactiveClass;\n    this.activeState = activeState;\n  }\n\n  /**\n   * Asynchronously activates an element by applying its {activeClass} CSS class.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  activate() {\n    if (!this.inactive || !this.shown) {\n      return Promise.resolve(this);\n    }\n    else return new Promise((resolve) => {\n      this.activeState = 'activating';\n      Event.trigger(ActiveAnimatedElement.EVENTS.ACTIVATING, this);\n      if (this.inactiveClass)\n        removeCssClass(this.element, this.inactiveClass);\n      if (this.activeClass)\n        addCssClass(this.element, this.activeClass);\n      if (this.shown) {\n        if (this.targetTransitionEvents.length == 0) {\n          return resolve(this);\n        } else {\n          var timerId = setTimeout(() => {\n            log.warn(`${this.constructor.name} did not completely activate (state: ${this.state}, activeState: ${this.activeState}).`)\n          }, this.transitionCheckTimeout);\n          once(this.element, 'transitionend', (event, destroyListenerFn) => {\n            if (event.target === this.element &&\n              this.targetTransitionEvents.includes(event.propertyName)) {\n              clearTimeout(timerId);\n              // Uninstall the event listener for transitionend\n              destroyListenerFn();\n              this.activeState = 'active';\n              Event.trigger(ActiveAnimatedElement.EVENTS.ACTIVE, this);\n              return resolve(this);\n            }\n          }, true);\n        }\n      }\n      else {\n        call.warn(`Ending activate() transition (alternative).`);\n        this.activeState = 'active';\n        Event.trigger(ActiveAnimatedElement.EVENTS.ACTIVE, this);\n        return resolve(this);\n      }\n    });\n  }\n\n  /**\n   * Asynchronously activates an element by applying its {activeClass} CSS class.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  inactivate() {\n    if (this.constructor.name === 'Button') {\n      //debugger;\n    }\n    if (!this.active) {\n      return Promise.resolve(this);\n    }\n    else return new Promise((resolve) => {\n      this.activeState = 'inactivating';\n      Event.trigger(ActiveAnimatedElement.EVENTS.INACTIVATING, this);\n      if (this.activeClass)\n        removeCssClass(this.element, this.activeClass);\n      if (this.inactiveClass)\n        addCssClass(this.element, this.inactiveClass);\n      if (this.shown) {\n        if (this.targetTransitionEvents.length == 0) {\n          return resolve(this);\n        } else {\n          var timerId = setTimeout(() => {\n            log.warn(`${this.constructor.name} did not completely inactivate (state: ${this.state}, activeState: ${this.activeState}).`)\n          }, this.transitionCheckTimeout);\n          once(this.element, 'transitionend', (event, destroyListenerFn) => {\n            if (event.target === this.element &&\n              this.targetTransitionEvents.includes(event.propertyName)) {\n              clearTimeout(timerId);\n              // Uninstall the event listener for transitionend\n              destroyListenerFn();\n              this.activeState = 'inactive';\n              Event.trigger(ActiveAnimatedElement.EVENTS.INACTIVE, this);\n              return resolve(this);\n            }\n          }, true);\n        }\n      }\n      else {\n        this.activeState = 'inactive';\n        Event.trigger(ActiveAnimatedElement.EVENTS.INACTIVE, this);\n        return resolve(this);\n      }\n    });\n  }\n\n  /**\n   * Asynchronously waits for an element to finish transitioning to being active.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  waitUntilActive() {\n    if (this.active)\n      return Promise.resolve(this);\n    else return new Promise((resolve) => {\n      once(window, ActiveAnimatedElement.EVENTS.ACTIVE, (event, destroyListenerFn) => {\n        if (event.detail === this) {\n          destroyListenerFn();\n          return resolve(this);\n        }\n      }, true);\n    });\n  }\n\n  /**\n   * Asynchronously waits for an element to finish transitioning to being inactive.\n   * @returns {Promise} Returns a promise that is resolved with this element when it has completed its transition.\n   */\n  waitUntilInactive() {\n    if (this.inactive)\n      return Promise.resolve(this);\n    else return new Promise((resolve) => {\n      once(window, ActiveAnimatedElement.EVENTS.INACTIVE, (event, destroyListenerFn) => {\n        if (event.detail === this) {\n          destroyListenerFn();\n          return resolve(this);\n        }\n      }, true);\n    });\n  }\n\n  static get EVENTS() {\n    return Object.assign({}, AnimatedElement.EVENTS, {\n      ACTIVATING: 'onesignal.nb.activeanimatedelement.activating',\n      ACTIVE: 'onesignal.nb.activeanimatedelement.active',\n      INACTIVATING: 'onesignal.nb.activeanimatedelement.inactivating',\n      INACTIVE: 'onesignal.nb.activeanimatedelement.inactive',\n    });\n  }\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be transitioning to being activated.\n   */\n  get activating() {\n    return this.activeState === 'activating';\n  }\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be already active.\n   */\n  get active() {\n    return this.activeState === 'active';\n  }\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be transitioning to inactive.\n   */\n  get inactivating() {\n    return this.activeState === 'inactivating';\n  }\n\n  /**\n   * Synchronously returns the last known state of the element.\n   * @returns {boolean} Returns true if the element was last known to be already inactive.\n   */\n  get inactive() {\n    return this.activeState === 'inactive';\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/ActiveAnimatedElement.js\n **/","import { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, hasCssClass, addCssClass, removeCssClass, once, nothing } from '../utils.js';\nimport log from 'loglevel';\nimport Event from '../events.js';\nimport AnimatedElement from './AnimatedElement.js';\nimport ActiveAnimatedElement from './ActiveAnimatedElement.js';\n\n\nexport default class Launcher extends ActiveAnimatedElement {\n\n  constructor(bell) {\n    super('.onesignal-bell-launcher', 'onesignal-bell-launcher-active', null, null, 'onesignal-bell-launcher-inactive', 'hidden', 'active');\n\n    this.bell = bell;\n    this.wasInactive = false;\n  }\n\n  resize(size) {\n    // If the size is the same, do nothing and resolve an empty promise\n    if ((size === 'small' && hasCssClass(this.element, 'onesignal-bell-launcher-sm')) ||\n        (size === 'medium' && hasCssClass(this.element, 'onesignal-bell-launcher-md')) ||\n        (size === 'large' && hasCssClass(this.element, 'onesignal-bell-launcher-lg'))) {\n      return Promise.resolve(this);\n    }\n    removeCssClass(this.element, 'onesignal-bell-launcher-sm');\n    removeCssClass(this.element, 'onesignal-bell-launcher-md');\n    removeCssClass(this.element, 'onesignal-bell-launcher-lg');\n    if (size === 'small') {\n      addCssClass(this.element, 'onesignal-bell-launcher-sm')\n    }\n    else if (size === 'medium') {\n      addCssClass(this.element, 'onesignal-bell-launcher-md')\n    }\n    else if (size === 'large') {\n      addCssClass(this.element, 'onesignal-bell-launcher-lg')\n    }\n    else {\n      throw new Error('Invalid OneSignal bell size ' + size);\n    }\n    if (!this.shown) {\n      return Promise.resolve(this);\n    }\n    else {\n      return new Promise((resolve) => {\n        // Once the launcher has finished shrinking down\n        if (this.targetTransitionEvents.length == 0) {\n          return resolve(this);\n        } else {\n          var timerId = setTimeout(() => {\n            log.warn(`${this.constructor.name} did not completely resize (state: ${this.state}, activeState: ${this.activeState}).`)\n          }, this.transitionCheckTimeout);\n          once(this.element, 'transitionend', (event, destroyListenerFn) => {\n            if (event.target === this.element &&\n              this.targetTransitionEvents.includes(event.propertyName)) {\n              clearTimeout(timerId);\n              // Uninstall the event listener for transitionend\n              destroyListenerFn();\n              return resolve(this);\n            }\n          }, true);\n        }\n      });\n    }\n  }\n\n  activateIfInactive() {\n    if (this.inactive) {\n      this.wasInactive = true;\n      return this.activate();\n    }\n    else return nothing();\n  }\n\n  inactivateIfWasInactive() {\n    if (this.wasInactive) {\n      this.wasInactive = false;\n      return this.inactivate();\n    }\n    else return nothing();\n  }\n\n  clearIfWasInactive() {\n    this.wasInactive = false;\n  }\n\n  inactivate() {\n    return this.bell.message.hide()\n      .then(() => {\n        if (this.bell.badge.content.length > 0) {\n          return this.bell.badge.hide()\n            .then(() => Promise.all([super.inactivate(), this.resize('small')]))\n            .then(() => this.bell.badge.show())\n            .catch((e) => log.error(e))\n        }\n        else {\n          return Promise.all([super.inactivate(), this.resize('small')]);\n        }\n      });\n  }\n\n  activate() {\n    if (this.bell.badge.content.length > 0) {\n      return this.bell.badge.hide()\n        .then(() => Promise.all([super.activate(), this.resize(this.bell.options.size)]))\n        .then(() => this.bell.badge.show())\n        .catch((e) => log.error(e))\n    }\n    else {\n      return Promise.all([super.activate(), this.resize(this.bell.options.size)]);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/Launcher.js\n **/","import { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, addCssClass, removeCssClass, once } from '../utils.js';\nimport log from 'loglevel';\nimport Event from '../events.js';\nimport ActiveAnimatedElement from './ActiveAnimatedElement.js';\n\n\nexport default class Badge extends ActiveAnimatedElement {\n\n  constructor() {\n    super('.onesignal-bell-launcher-badge', 'onesignal-bell-launcher-badge-opened', null, 'onesignal-bell-launcher-badge-active', null, 'hidden');\n  }\n\n  increment() {\n    // If it IS a number (is not not a number)\n    if (!isNaN(this.content)) {\n      let badgeNumber = +this.content; // Coerce to int\n      badgeNumber += 1;\n      this.content = badgeNumber.toString();\n      return badgeNumber;\n    }\n  }\n\n  decrement() {\n    // If it IS a number (is not not a number)\n    if (!isNaN(this.content)) {\n      let badgeNumber = +this.content; // Coerce to int\n      badgeNumber -= 1;\n      if (badgeNumber > 0)\n        this.content = badgeNumber.toString();\n      else\n        this.content = '';\n      return badgeNumber;\n    }\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/Badge.js\n **/","import { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, addCssClass, removeCssClass, removeDomElement, once, when } from '../utils.js';\nimport log from 'loglevel';\nimport Event from '../events.js';\nimport ActiveAnimatedElement from './ActiveAnimatedElement.js';\nimport Bell from './bell.js';\nimport LimitStore from '../limitStore.js';\n\n\nexport default class Button extends ActiveAnimatedElement {\n\n  constructor(bell) {\n    super('.onesignal-bell-launcher-button', null, null, 'onesignal-bell-launcher-button-active', null, 'shown', []);\n\n    this.bell = bell;\n    this.events = {\n      mouse: 'bell.launcher.button.mouse'\n    };\n\n    this.element.addEventListener('touchstart', (e) => {\n      this.onHovering(e);\n      this.onTap(e);\n    });\n\n    this.element.addEventListener('mouseenter', (e) => {\n      this.onHovering(e);\n    });\n\n    this.element.addEventListener('mouseleave', (e) => {\n      this.onHovered(e);\n    });\n    this.element.addEventListener('touchmove', (e) => {\n      this.onHovered(e);\n    });\n\n    this.element.addEventListener('mousedown', (e) => {\n      this.onTap(e);\n    });\n\n    this.element.addEventListener('mouseup', (e) => {\n      this.onEndTap(e);\n    });\n\n    this.element.addEventListener('click', (e) => {\n      this.onHovered(e);\n      this.onClick(e);\n    });\n  }\n\n  onHovering(e) {\n    if (LimitStore.isEmpty(this.events.mouse) || LimitStore.getLast(this.events.mouse) === 'out') {\n      Event.trigger(Bell.EVENTS.HOVERING);\n    }\n    LimitStore.put(this.events.mouse, 'over');\n  }\n\n  onHovered(e) {\n    LimitStore.put(this.events.mouse, 'out');\n    Event.trigger(Bell.EVENTS.HOVERED);\n  }\n\n  onTap(e) {\n    this.pulse();\n    this.activate();\n    this.bell.badge.activate();\n  }\n\n  onEndTap(e) {\n    this.inactivate();\n    this.bell.badge.inactivate();\n  }\n\n  onClick(e) {\n    Event.trigger(Bell.EVENTS.BELL_CLICK);\n    Event.trigger(Bell.EVENTS.LAUNCHER_CLICK);\n  }\n\n  pulse() {\n    removeDomElement('.pulse-ring');\n    addDomElement(this.element, 'beforeend', '<div class=\"pulse-ring\"></div>');\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/Button.js\n **/","import { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, addCssClass, removeCssClass, clearDomElementChildren, once } from '../utils.js';\nimport log from 'loglevel';\nimport Event from '../events.js';\nimport AnimatedElement from './AnimatedElement.js';\nimport * as Browser from 'bowser';\nimport Bell from './bell.js';\nimport { HOST_URL } from '../vars.js';\nimport LimitStore from '../limitStore.js';\n\n\nexport default class Dialog extends AnimatedElement {\n\n  constructor(bell) {\n    super('.onesignal-bell-launcher-dialog', 'onesignal-bell-launcher-dialog-opened', null, 'hidden', ['opacity', 'transform'], '.onesignal-bell-launcher-dialog-body');\n\n    this.bell = bell;\n    this.subscribeButtonId = '#onesignal-bell-container .onesignal-bell-launcher #subscribe-button';\n    this.unsubscribeButtonId = '#onesignal-bell-container .onesignal-bell-launcher #unsubscribe-button';\n    this.notificationIcons = null;\n\n    window.addEventListener(Bell.EVENTS.STATE_CHANGED, (state) => {\n      state = state.detail;\n      if (state.to === Bell.STATES.SUBSCRIBED) {\n        if (this.notificationIcons === null) {\n          this.getNotificationIcons().then((icons) => {\n            this.notificationIcons = icons;\n          });\n        }\n      }\n    });\n\n    window.addEventListener('click', (event) => {\n      if (event.target === document.querySelector(this.subscribeButtonId))\n        Event.trigger(Bell.EVENTS.SUBSCRIBE_CLICK);\n      else if (event.target === document.querySelector(this.unsubscribeButtonId))\n        Event.trigger(Bell.EVENTS.UNSUBSCRIBE_CLICK);\n    });\n  }\n\n  getNotificationIcons() {\n    if (!OneSignal._app_id) {\n      return Promise.resolve(null);\n    }\n    let url = `${OneSignal._API_URL}apps/${OneSignal._app_id}/icon`;\n    return new Promise((resolve, reject) => {\n      fetch(url)\n        .then(function(response) {\n          return response.json()\n        }).then(function(data) {\n          if (data.errors) {\n            log.error(`API call %c${url}`, getConsoleStyle('code'), 'failed with:', data.errors);\n            reject(null);\n          }\n          resolve(data);\n        }).catch(function(ex) {\n          log.error('Call %cgetNotificationIcons()', getConsoleStyle('code'), 'failed with:', ex);\n          reject(null);\n        })\n    });\n  }\n\n  getPlatformNotificationIcon() {\n    if (this.notificationIcons) {\n      if (Browser.chrome || Browser.firefox) {\n        return this.notificationIcons.chrome || this.notificationIcons.safari;\n      }\n      else if (Browser.safari) {\n        return this.notificationIcons.safari || this.notificationIcons.chrome;\n      }\n    }\n    else return null;\n  }\n\n  show() {\n    return this.updateBellLauncherDialogBody()\n      .then(() => super.show())\n      .catch(e => log.error(e));\n  }\n\n  get subscribeButtonSelectorId() {\n    return 'subscribe-button';\n  }\n\n  get unsubscribeButtonSelectorId() {\n    return 'unsubscribe-button';\n  }\n\n  get subscribeButton() {\n    return this.element.querySelector('#' + this.subscribeButtonSelectorId);\n  }\n\n  get unsubscribeButton() {\n    return this.element.querySelector('#' + this.unsubscribeButtonSelectorId);\n  }\n\n  updateBellLauncherDialogBody() {\n    return new Promise((resolve, reject) => {\n      clearDomElementChildren(document.querySelector(this.nestedContentSelector));\n\n      let currentSetSubscription = LimitStore.getLast('setsubscription.value');\n      let contents = 'Nothing to show.';\n\n      var footer = '';\n      if (this.bell.options.showCredit) {\n        footer = `<div class=\"divider\"></div>\n                  <div class=\"kickback\">Powered by <a href=\"https://onesignal.com\" class=\"kickback\" target=\"_blank\">OneSignal</a></div>`;\n      }\n\n      if (this.bell.state === Bell.STATES.SUBSCRIBED && currentSetSubscription === true ||\n        this.bell.state === Bell.STATES.UNSUBSCRIBED && currentSetSubscription === false) {\n\n        let notificationIconHtml = '';\n        let imageUrl = this.getPlatformNotificationIcon();\n        if (imageUrl) {\n          notificationIconHtml = `<div class=\"push-notification-icon\"><img src=\"${imageUrl}\"></div>`\n        } else {\n          notificationIconHtml = `<div class=\"push-notification-icon push-notification-icon-default\"></div>`\n        }\n\n        let buttonHtml = '';\n        if (this.bell.state !== Bell.STATES.SUBSCRIBED)\n          buttonHtml = `<button type=\"button\" class=\"action\" id=\"${this.subscribeButtonSelectorId}\">${this.bell.text['dialog.main.button.subscribe']}</button>`;\n        else\n          buttonHtml = `<button type=\"button\" class=\"action\" id=\"${this.unsubscribeButtonSelectorId}\">${this.bell.text['dialog.main.button.unsubscribe']}</button>`;\n\n        contents = `\n                  <h1>${this.bell.text['dialog.main.title']}</h1>\n                  <div class=\"divider\"></div>\n                  <div class=\"push-notification\">\n                    ${notificationIconHtml}\n                    <div class=\"push-notification-text-container\">\n                      <div class=\"push-notification-text push-notification-text-short\"></div>\n                      <div class=\"push-notification-text\"></div>\n                      <div class=\"push-notification-text push-notification-text-medium\"></div>\n                      <div class=\"push-notification-text\"></div>\n                      <div class=\"push-notification-text push-notification-text-medium\"></div>\n                    </div>\n                  </div>\n                  <div class=\"action-container\">\n                    ${buttonHtml}\n                  </div>\n                  ${footer}\n                `;\n      }\n      else if (this.bell.state === Bell.STATES.BLOCKED) {\n        let imageUrl = null;\n        if (Browser.chrome) {\n          if (!Browser.mobile && !Browser.tablet) {\n            imageUrl = HOST_URL + '/bell/chrome-unblock.jpg';\n          }\n        }\n        else if (Browser.firefox)\n          imageUrl = HOST_URL + '/bell/firefox-unblock.jpg';\n        else if (Browser.safari)\n          imageUrl = HOST_URL + '/bell/safari-unblock.jpg';\n\n        let instructionsHtml = '';\n        if (imageUrl) {\n          instructionsHtml = `\n\n            <a href=\"${imageUrl}\" target=\"_blank\"><img src=\"${imageUrl}\"></a></div>\n            `;\n        }\n\n        if ((Browser.mobile || Browser.tablet) && Browser.chrome) {\n          instructionsHtml = `\n            <ol>\n            <li>Access <strong>Settings</strong> by tapping the three menu dots <strong></strong></li>\n            <li>Click <strong>Site settings</strong> under Advanced.</li>\n            <li>Click <strong>Notifications</strong>.</li>\n            <li>Find and click this entry for this website.</li>\n            <li>Click <strong>Notifications</strong> and set it to <strong>Allow</strong>.</li>\n            </ol>\n          `;\n        }\n        contents = `\n                  <h1>${this.bell.text['dialog.blocked.title']}</h1>\n                  <div class=\"divider\"></div>\n                  <div class=\"instructions\">\n                  <p>${this.bell.text['dialog.blocked.message']}</p>\n                  ${instructionsHtml}\n                  </div>\n                  ${footer}\n                `;\n      }\n\n      addDomElement(document.querySelector(this.nestedContentSelector), 'beforeend', contents);\n      resolve();\n    }).catch(e => log.error(e));\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/Dialog.js\n **/","import { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle, addCssClass, removeCssClass, once, delay, when, nothing } from '../utils.js';\nimport log from 'loglevel';\nimport Event from '../events.js';\nimport AnimatedElement from './AnimatedElement.js';\nimport Bell from './bell.js';\n\n\nexport default class Message extends AnimatedElement {\n\n  constructor(bell) {\n    super('.onesignal-bell-launcher-message', 'onesignal-bell-launcher-message-opened', null, 'hidden', ['opacity', 'transform'], '.onesignal-bell-launcher-message-body');\n\n    this.bell = bell;\n    this.contentType = '';\n    this.queued = [];\n  }\n\n  static get TIMEOUT() {\n    return 2500;\n  }\n\n  static get TYPES() {\n    return {\n      TIP: 'tip', // Appears on button hover, disappears on button endhover\n      MESSAGE: 'message', // Appears manually for a specified duration, site visitor cannot control its display. Messages override tips\n      QUEUED: 'queued' // This message was a user-queued message\n    };\n  }\n\n  display(type, content, duration = 0) {\n    log.debug(`Calling %cdisplay(${type}, ${content}, ${duration}).`, getConsoleStyle('code'));\n    return new Promise((resolve, reject) => {\n      (this.shown ? this.hide() : nothing())\n        .then(() => {\n          this.content = content;\n          this.contentType = type;\n        })\n        .then(() => {\n          return this.show();\n        })\n        .then(() => delay(duration))\n        .then(() => {\n          return this.hide();\n        })\n        .then(() => {\n          // Reset back to normal content type so stuff can show a gain\n          this.content = this.getTipForState();\n          this.contentType = 'tip';\n        })\n        .then(resolve)\n        .catch((e) => log.error(e));\n    });\n  }\n\n  getTipForState() {\n    if (this.bell.state === Bell.STATES.UNSUBSCRIBED)\n      return this.bell.text['tip.state.unsubscribed'];\n    else if (this.bell.state === Bell.STATES.SUBSCRIBED)\n      return this.bell.text['tip.state.subscribed'];\n    else if (this.bell.state === Bell.STATES.BLOCKED)\n      return this.bell.text['tip.state.blocked'];\n  }\n\n  enqueue(message, notify = false) {\n    this.queued.push(message);\n    return new Promise((resolve) => {\n      if (this.bell.badge.shown) {\n        this.bell.badge.hide()\n          .then(() => this.bell.badge.increment())\n          .then(() => this.bell.badge.show())\n          .then(resolve);\n      } else {\n        this.bell.badge.increment();\n        if (this.bell.initialized)\n          this.bell.badge.show().then(resolve)\n        else resolve();\n      }\n    });\n  }\n\n  dequeue(message) {\n    let dequeuedMessage = this.queued.pop(message);\n    return new Promise((resolve) => {\n      if (this.bell.badge.shown) {\n        this.bell.badge.hide()\n          .then(() => this.bell.badge.decrement())\n          .then((numMessagesLeft) => {\n            if (numMessagesLeft > 0) {\n              return this.bell.badge.show()\n            } else {\n              return Promise.resolve(this);\n            }\n          })\n          .then(resolve(dequeuedMessage));\n      } else {\n        this.bell.badge.decrement();\n        resolve(dequeuedMessage);\n      }\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/bell/Message.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js!./bell.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js!./bell.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js!./bell.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/bell/bell.scss\n ** module id = 21\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*!\\n* CleanSlate\\n*   github.com/premasagar/cleanslate\\n*\\n*/.onesignal-reset,.onesignal-reset a,.onesignal-reset abbr,.onesignal-reset acronym,.onesignal-reset address,.onesignal-reset applet,.onesignal-reset area,.onesignal-reset article,.onesignal-reset aside,.onesignal-reset audio,.onesignal-reset b,.onesignal-reset big,.onesignal-reset blockquote,.onesignal-reset button,.onesignal-reset canvas,.onesignal-reset caption,.onesignal-reset cite,.onesignal-reset code,.onesignal-reset col,.onesignal-reset colgroup,.onesignal-reset datalist,.onesignal-reset dd,.onesignal-reset del,.onesignal-reset dfn,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset em,.onesignal-reset fieldset,.onesignal-reset figcaption,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hr,.onesignal-reset i,.onesignal-reset iframe,.onesignal-reset img,.onesignal-reset input,.onesignal-reset ins,.onesignal-reset kbd,.onesignal-reset label,.onesignal-reset legend,.onesignal-reset li,.onesignal-reset main,.onesignal-reset map,.onesignal-reset mark,.onesignal-reset menu,.onesignal-reset meta,.onesignal-reset nav,.onesignal-reset object,.onesignal-reset ol,.onesignal-reset optgroup,.onesignal-reset option,.onesignal-reset output,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset q,.onesignal-reset samp,.onesignal-reset section,.onesignal-reset select,.onesignal-reset small,.onesignal-reset span,.onesignal-reset strike,.onesignal-reset strong,.onesignal-reset sub,.onesignal-reset summary,.onesignal-reset sup,.onesignal-reset table,.onesignal-reset tbody,.onesignal-reset td,.onesignal-reset textarea,.onesignal-reset tfoot,.onesignal-reset th,.onesignal-reset thead,.onesignal-reset time,.onesignal-reset tr,.onesignal-reset tt,.onesignal-reset ul,.onesignal-reset var,.onesignal-reset video{background-attachment:scroll;background-color:transparent;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#000;border:medium none currentColor;bottom:auto;clear:none;clip:auto;color:inherit;counter-increment:none;counter-reset:none;cursor:auto;direction:inherit;display:inline;float:none;font-family:inherit;font-size:inherit;font-style:inherit;font-variant:normal;font-weight:inherit;height:auto;left:auto;letter-spacing:normal;line-height:inherit;list-style-type:inherit;list-style-position:outside;list-style-image:none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;outline:medium none invert;overflow:visible;padding:0;position:static;quotes:\\\"\\\" \\\"\\\";right:auto;table-layout:auto;text-align:inherit;text-decoration:inherit;text-indent:0;text-transform:none;top:auto;unicode-bidi:normal;vertical-align:baseline;visibility:inherit;white-space:normal;width:auto;word-spacing:normal;z-index:auto;background-origin:padding-box;background-clip:border-box;background-size:auto;-webkit-border-image:none;-o-border-image:none;border-image:none;border-radius:0;box-shadow:none;box-sizing:content-box;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;-webkit-column-gap:normal;-moz-column-gap:normal;column-gap:normal;-webkit-column-rule:medium none #000;-moz-column-rule:medium none #000;column-rule:medium none #000;-webkit-column-span:1;-moz-column-span:1;column-span:1;-webkit-column-width:auto;-moz-column-width:auto;column-width:auto;-webkit-font-feature-settings:normal;font-feature-settings:normal;overflow-x:visible;overflow-y:visible;-webkit-hyphens:manual;-moz-hyphens:manual;-ms-hyphens:manual;hyphens:manual;-webkit-perspective:none;-ms-perspective:none;-o-perspective:none;perspective:none;-webkit-perspective-origin:50% 50%;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%;-webkit-backface-visibility:visible;backface-visibility:visible;text-shadow:none;-webkit-transition:all 0s ease 0s;transition:all 0s ease 0s;-webkit-transform:none;-ms-transform:none;transform:none;-webkit-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform-style:flat;transform-style:flat;word-break:normal}.onesignal-reset,.onesignal-reset address,.onesignal-reset article,.onesignal-reset audio,.onesignal-reset blockquote,.onesignal-reset caption,.onesignal-reset colgroup,.onesignal-reset dd,.onesignal-reset dialog,.onesignal-reset div,.onesignal-reset dl,.onesignal-reset dt,.onesignal-reset fieldset,.onesignal-reset figure,.onesignal-reset footer,.onesignal-reset form,.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6,.onesignal-reset header,.onesignal-reset hgroup,.onesignal-reset hr,.onesignal-reset main,.onesignal-reset menu,.onesignal-reset nav,.onesignal-reset ol,.onesignal-reset option,.onesignal-reset p,.onesignal-reset pre,.onesignal-reset progress,.onesignal-reset section,.onesignal-reset summary,.onesignal-reset ul,.onesignal-reset video{display:block}.onesignal-reset h1,.onesignal-reset h2,.onesignal-reset h3,.onesignal-reset h4,.onesignal-reset h5,.onesignal-reset h6{font-weight:700}.onesignal-reset h1{font-size:2em;padding:.67em 0}.onesignal-reset h2{font-size:1.5em;padding:.83em 0}.onesignal-reset h3{font-size:1.17em;padding:.83em 0}.onesignal-reset h4{font-size:1em}.onesignal-reset h5{font-size:.83em}.onesignal-reset p{margin:1em 0}.onesignal-reset table{display:table}.onesignal-reset thead{display:table-header-group}.onesignal-reset tbody{display:table-row-group}.onesignal-reset tfoot{display:table-footer-group}.onesignal-reset tr{display:table-row}.onesignal-reset td,.onesignal-reset th{display:table-cell;padding:2px}.onesignal-reset ol,.onesignal-reset ul{margin:1em 0}.onesignal-reset ol li,.onesignal-reset ol ol li,.onesignal-reset ol ol ol li,.onesignal-reset ol ol ul li,.onesignal-reset ol ul ul li,.onesignal-reset ul li,.onesignal-reset ul ol ol li,.onesignal-reset ul ul li,.onesignal-reset ul ul ol li,.onesignal-reset ul ul ul li{list-style-position:inside;margin-top:.08em}.onesignal-reset ol ol,.onesignal-reset ol ol ol,.onesignal-reset ol ol ul,.onesignal-reset ol ul,.onesignal-reset ol ul ul,.onesignal-reset ul ol,.onesignal-reset ul ol ol,.onesignal-reset ul ul,.onesignal-reset ul ul ol,.onesignal-reset ul ul ul{padding-left:40px;margin:0}.onesignal-reset nav ol,.onesignal-reset nav ul{list-style-type:none}.onesignal-reset menu,.onesignal-reset ul{list-style-type:disc}.onesignal-reset ol{list-style-type:decimal}.onesignal-reset menu menu,.onesignal-reset menu ul,.onesignal-reset ol menu,.onesignal-reset ol ul,.onesignal-reset ul menu,.onesignal-reset ul ul{list-style-type:circle}.onesignal-reset menu menu menu,.onesignal-reset menu menu ul,.onesignal-reset menu ol menu,.onesignal-reset menu ol ul,.onesignal-reset menu ul menu,.onesignal-reset menu ul ul,.onesignal-reset ol menu menu,.onesignal-reset ol menu ul,.onesignal-reset ol ol menu,.onesignal-reset ol ol ul,.onesignal-reset ol ul menu,.onesignal-reset ol ul ul,.onesignal-reset ul menu menu,.onesignal-reset ul menu ul,.onesignal-reset ul ol menu,.onesignal-reset ul ol ul,.onesignal-reset ul ul menu,.onesignal-reset ul ul ul{list-style-type:square}.onesignal-reset li{display:list-item;min-height:auto;min-width:auto;padding-left:20px}.onesignal-reset strong{font-weight:700}.onesignal-reset em{font-style:italic}.onesignal-reset code,.onesignal-reset kbd,.onesignal-reset pre,.onesignal-reset samp{font-family:monospace}.onesignal-reset a{color:blue;text-decoration:underline}.onesignal-reset a:visited{color:#529}.onesignal-reset a,.onesignal-reset a *,.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio],.onesignal-reset input[type=submit],.onesignal-reset select{cursor:pointer}.onesignal-reset button,.onesignal-reset input[type=submit]{text-align:center;padding:2px 6px 3px;border-radius:4px;text-decoration:none;font-family:arial,helvetica,sans-serif;font-size:small;-webkit-appearance:push-button;color:buttontext;border:1px solid #a6a6a6;background:#d3d3d3;background:#fff;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),color-stop(100%,#ddd),color-stop(100%,#d1d1d1),color-stop(100%,#ddd));background:-webkit-linear-gradient(top,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);background:linear-gradient(to bottom,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff',endColorstr='#dddddd',GradientType=0);-o-box-shadow:1px 1px 0 #eee;box-shadow:1px 1px 0 #eee;outline:initial}.onesignal-reset button{padding:1px 6px 2px;margin-right:5px}.onesignal-reset input[type=hidden]{display:none}.onesignal-reset textarea{-webkit-appearance:textarea;background:#fff;padding:2px;margin-left:4px;word-wrap:break-word;white-space:pre-wrap;font-size:11px;font-family:arial,helvetica,sans-serif;line-height:13px;resize:both}.onesignal-reset input,.onesignal-reset select,.onesignal-reset textarea{border:1px solid #ccc}.onesignal-reset select{font-size:11px;font-family:helvetica,arial,sans-serif;display:inline-block}.onesignal-reset input:focus,.onesignal-reset textarea:focus{outline:5px auto -webkit-focus-ring-color;outline:initial}.onesignal-reset input[type=text]{background:#fff;padding:1px;font-family:initial;font-size:small}.onesignal-reset input[type=checkbox],.onesignal-reset input[type=radio]{border:1px solid #2b2b2b;border-radius:4px;outline:intial}.onesignal-reset input[type=radio]{margin:2px 2px 3px}.onesignal-reset button:active,.onesignal-reset input[type=submit]:active{background:#3b679e;background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3b679e),color-stop(50%,#2b88d9),color-stop(51%,#207cca),color-stop(100%,#7db9e8));background:-webkit-linear-gradient(top,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);background:linear-gradient(to bottom,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);border-color:#5259b0}.onesignal-reset abbr[title],.onesignal-reset acronym[title],.onesignal-reset dfn[title]{cursor:help;border-bottom-width:1px;border-bottom-style:dotted}.onesignal-reset ins{background-color:#ff9;color:#000}.onesignal-reset del{text-decoration:line-through}.onesignal-reset blockquote,.onesignal-reset q{quotes:none}.onesignal-reset blockquote:after,.onesignal-reset blockquote:before,.onesignal-reset li:after,.onesignal-reset li:before,.onesignal-reset q:after,.onesignal-reset q:before{content:\\\"\\\"}.onesignal-reset input,.onesignal-reset select{vertical-align:middle}.onesignal-reset table{border-collapse:collapse;border-spacing:0}.onesignal-reset hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0}.onesignal-reset [dir=rtl]{direction:rtl}.onesignal-reset mark{background-color:#ff9;color:#000;font-style:italic;font-weight:700}.onesignal-reset menu{padding-left:40px;padding-top:8px}.onesignal-reset [hidden],.onesignal-reset template{display:none}.onesignal-reset abbr[title]{border-bottom:1px dotted}.onesignal-reset sub,.onesignal-reset sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.onesignal-reset sup{top:-.5em}.onesignal-reset sub{bottom:-.25em}.onesignal-reset img{border:0}.onesignal-reset figure{margin:0}.onesignal-reset textarea{overflow:auto;vertical-align:top}.onesignal-reset{font-size:medium;line-height:1;direction:ltr;text-align:left;text-align:start;font-family:Times New Roman,Times,serif;color:#000;font-style:normal;font-weight:400;text-decoration:none;list-style-type:disc}.onesignal-reset pre{white-space:pre}#onesignal-bell-container.onesignal-reset{z-index:2147483000;position:fixed}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-left{bottom:0;left:0}#onesignal-bell-container.onesignal-reset.onesignal-bell-container-bottom-right{bottom:0;right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;z-index:2147483000;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;-webkit-transform:scale(.01) translateZ(0);transform:scale(.01) translateZ(0);opacity:0;-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;width:330px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left{bottom:20px;left:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm{-webkit-transform-origin:16px center;-ms-transform-origin:16px center;transform-origin:16px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{left:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px;left:0;-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{left:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{left:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md{-webkit-transform-origin:24px center;-ms-transform-origin:24px center;transform-origin:24px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-message{left:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px;left:0;-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{left:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{left:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg{-webkit-transform-origin:32px center;-ms-transform-origin:32px center;transform-origin:32px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{left:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px;left:0;-webkit-transform-origin:left bottom;-ms-transform-origin:left bottom;transform-origin:left bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{left:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{left:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-badge{left:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message{-webkit-transform-origin:left center;-ms-transform-origin:left center;transform-origin:left center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-message:after{right:100%;border-right-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-left .onesignal-bell-launcher-button{left:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right{bottom:20px;right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm{-webkit-transform-origin:314px center;-ms-transform-origin:314px center;transform-origin:314px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{right:42px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{bottom:39px;right:0;-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{right:5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{right:7px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md{-webkit-transform-origin:306px center;-ms-transform-origin:306px center;transform-origin:306px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-message{right:61px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{bottom:58px;right:0;-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{right:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{right:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg{-webkit-transform-origin:298px center;-ms-transform-origin:298px center;transform-origin:298px center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{right:81px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{bottom:78px;right:0;-webkit-transform-origin:right bottom;-ms-transform-origin:right bottom;transform-origin:right bottom}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{right:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{right:20px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-badge{right:4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message{-webkit-transform-origin:right center;-ms-transform-origin:right center;transform-origin:right center}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-message:after{left:100%;border-left-color:#000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-bottom-right .onesignal-bell-launcher-button{right:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button{position:absolute;bottom:0;border-radius:50%;-webkit-transition:border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out;cursor:pointer;z-index:2147483000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button svg{width:100%;height:100%;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));filter:drop-shadow(0 2px 4px rgba(34,36,38,.35))}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-button.onesignal-bell-launcher-button-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge{position:absolute;bottom:0;border-radius:50%;text-align:center;top:0;cursor:pointer;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,0));filter:drop-shadow(0 2px 4px rgba(34,36,38,0));-webkit-transition:border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out,-webkit-transform 175ms ease-in-out;transition:border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,opacity .21s ease-in-out,width .21s ease-in-out,height .21s ease-in-out,position .21s ease-in-out,right .21s ease-in-out,top .21s ease-in-out,bottom .21s ease-in-out,left .21s ease-in-out,-webkit-transform 175ms ease-in-out;z-index:2147483400;opacity:0;-webkit-transform:scale(.01);-ms-transform:scale(.01);transform:scale(.01);pointer-events:none}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-hover{cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-badge.onesignal-bell-launcher-badge-opened{opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message{position:absolute;color:#fff;background:#000;cursor:pointer;border-radius:5px;-webkit-transform:translateY(-50%) scaleX(0) translateZ(0);transform:translateY(-50%) scaleX(0) translateZ(0);opacity:0;pointer-events:none;-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;top:50%;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message:after{top:50%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute;pointer-events:none;border-color:transparent}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-message.onesignal-bell-launcher-message-opened{pointer-events:auto;opacity:1;-webkit-transform:translateY(-50%) scaleX(1) translateZ(0);transform:translateY(-50%) scaleX(1) translateZ(0)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog{cursor:pointer;position:absolute;background-color:#fff;border-radius:5px;border:1px solid rgba(0,0,0,.1);-webkit-filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));filter:drop-shadow(0 2px 2px rgba(34,36,38,.15));opacity:0;-webkit-transform:scale(0) translateZ(0);transform:scale(0) translateZ(0);-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;z-index:2147481000}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog ol{counter-reset:foo;display:table;border-spacing:.3em .75em}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog ol>li{counter-increment:foo;display:table-row;margin-bottom:.75em}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog ol>li:before{content:counter(foo) \\\".\\\";display:table-cell;text-align:right}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:after,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog:before{top:100%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{z-index:2147482000;max-width:100%;white-space:nowrap;text-overflow:ellipsis;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog.onesignal-bell-launcher-dialog-opened{-webkit-transform:scale(1) translateZ(0);transform:scale(1) translateZ(0);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a{box-sizing:border-box;text-decoration:none;color:initial}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:focus,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:hover,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:hover:active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog a:visited{text-decoration:none;color:initial}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button{box-sizing:border-box;border:1px solid transparent;padding:.625em 1em;box-shadow:none;border-radius:4px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;letter-spacing:.65px;cursor:pointer}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button.action{color:#fff;background:#e54b4d;width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button.action:hover{background:#dd2022}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher .onesignal-bell-launcher-dialog button.action:active{background:#b1191b}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm{height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-button{width:32px;height:32px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-badge{font-size:8px;width:12px;height:12px;line-height:12px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message{padding:9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message:after{border-width:6.6px;margin-top:-6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog{padding:.5em 1em;color:#333}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:6.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog:before{border-top-color:hsla(0,0%,71%,.1);border-width:8.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:15px;font-weight:500;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;letter-spacing:.2px;text-align:center;color:#41090a}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body p{font-size:14px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .divider{border-bottom:1px solid rgba(0,0,0,.1);margin:3.2px -9.6px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .kickback{text-align:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:300;font-size:9.8px;letter-spacing:.5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions{max-width:95vw;max-height:70vh;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions img{width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification{display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:330px;border:1px solid rgba(0,0,0,.1);border-radius:3px;background:hsla(0,0%,98%,.5);overflow:auto;margin:.5em 0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon{width:50px;height:50px;margin:6px;margin-right:3px;border-radius:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon.push-notification-icon-default{background:#e3e4e5}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon img{width:50px;height:50px;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container{margin:6px;margin-left:3px;-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text{height:5px;width:100%;background:#e3e4e5;margin:5px 0;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-short{width:75%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-medium{width:87%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:first-of-type{margin-top:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-sm .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:last-of-type{margin-bottom:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md{height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-button{width:48px;height:48px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-badge{font-size:12px;width:18px;height:18px;line-height:18px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message{padding:14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message:after{border-width:9.9px;margin-top:-9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog{padding:.5em 1em;color:#333}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:9.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog:before{border-top-color:hsla(0,0%,71%,.1);border-width:11.9px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:15px;font-weight:500;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;letter-spacing:.2px;text-align:center;color:#41090a}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body p{font-size:14px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .divider{border-bottom:1px solid rgba(0,0,0,.1);margin:4.8px -14.4px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .kickback{text-align:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:300;font-size:9.8px;letter-spacing:.5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions{max-width:95vw;max-height:70vh;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions img{width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification{display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:330px;border:1px solid rgba(0,0,0,.1);border-radius:3px;background:hsla(0,0%,98%,.5);overflow:auto;margin:.5em 0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon{width:50px;height:50px;margin:6px;margin-right:3px;border-radius:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon.push-notification-icon-default{background:#e3e4e5}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon img{width:50px;height:50px;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container{margin:6px;margin-left:3px;-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text{height:5px;width:100%;background:#e3e4e5;margin:5px 0;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-short{width:75%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-medium{width:87%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:first-of-type{margin-top:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-md .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:last-of-type{margin-bottom:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg{height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-button{width:64px;height:64px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-badge{font-size:12px;width:24px;height:24px;line-height:24px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message{padding:19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message:after{border-width:13.2px;margin-top:-13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-message .onesignal-bell-launcher-message-body{font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog{padding:.5em 1em;color:#333}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:after{border-top-color:#fff;border-width:13.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog:before{border-top-color:hsla(0,0%,71%,.1);border-width:15.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body{font-size:14px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body h1{font-size:15px;font-weight:500;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;letter-spacing:.2px;text-align:center;color:#41090a}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body p{font-size:14px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .divider{border-bottom:1px solid rgba(0,0,0,.1);margin:6.4px -19.2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .kickback{text-align:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:300;font-size:9.8px;letter-spacing:.5px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions{max-width:95vw;max-height:70vh;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;font-size:14px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .instructions img{width:100%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification{display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:330px;border:1px solid rgba(0,0,0,.1);border-radius:3px;background:hsla(0,0%,98%,.5);overflow:auto;margin:.5em 0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon{width:50px;height:50px;margin:6px;margin-right:3px;border-radius:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon.push-notification-icon-default{background:#e3e4e5}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-icon img{width:50px;height:50px;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container{margin:6px;margin-left:3px;-webkit-flex:1;-webkit-box-flex:1;-ms-flex:1;flex:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text{height:5px;width:100%;background:#e3e4e5;margin:5px 0;border-radius:1px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-short{width:75%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text.push-notification-text-medium{width:87%}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:first-of-type{margin-top:2px}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-lg .onesignal-bell-launcher-dialog .onesignal-bell-launcher-dialog-body .push-notification .push-notification-text-container .push-notification-text:last-of-type{margin-bottom:0}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .background{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .foreground{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#fff;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#dd2022!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-button .pulse-ring{border:7px solid hsla(0,0%,100%,.4)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-default .onesignal-bell-launcher-badge{border:1px solid #fff;background:#000;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .background{fill:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .foreground{fill:#e54b4d}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button svg .stroke{fill:none;stroke:#e54b4d;stroke-width:3px;stroke-miterlimit:10}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-badge-active svg .background,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button.onesignal-bell-launcher-button-active svg .background{fill:#f2f2f2!important}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-button .pulse-ring{border:7px solid rgba(229,75,77,.4)}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher.onesignal-bell-launcher-theme-inverse .onesignal-bell-launcher-badge{border:1px solid #fff;background:#e54b4d;color:#fff}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-active,#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-enabled{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-disabled{visibility:hidden}#onesignal-bell-container.onesignal-reset .onesignal-bell-launcher-inactive{opacity:.6}#onesignal-bell-container.onesignal-reset .pulse-ring{border-radius:50%;position:absolute;left:0;top:0;bottom:0;right:0;-webkit-animation:pulse .35s ease-in-out;animation:pulse .35s ease-in-out;-webkit-animation-iteration-count:1;animation-iteration-count:1;opacity:0;z-index:1000;pointer-events:none}@media print{#onesignal-bell-container{display:none}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(.1);opacity:0;border-width:10px}50%{opacity:1;border-width:5px}to{-webkit-transform:scale(1.2);opacity:0;border-width:1px}}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/autoprefixer-loader!./~/sass-loader!./src/bell/bell.scss\n ** module id = 22\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 23\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 24\n ** module chunks = 0\n **/","module.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\n<svg version=\\\"1.1\\\" class=\\\"onesignal-bell-svg\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t width=\\\"99.7px\\\" height=\\\"99.7px\\\" viewBox=\\\"0 0 99.7 99.7\\\" style=\\\"enable-background:new 0 0 99.7 99.7;\\\" xml:space=\\\"preserve\\\">\\n<g>\\n\\t<circle class=\\\"background\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" r=\\\"49.9\\\"/>\\n\\t<g id=\\\"Layer_2\\\">\\n\\t\\t<g>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M50.1,66.2H27.7c0,0-2-0.2-2-2.1c0-1.9,1.7-2,1.7-2s6.7-3.2,6.7-5.5c0-2.3-1.1-3.9-1.1-13.3\\n\\t\\t\\t\\ts6-16.6,13.2-16.6c0,0,1-2.4,3.9-2.4c2.8,0,3.8,2.4,3.8,2.4c7.2,0,13.2,7.2,13.2,16.6s-1,11-1,13.3c0,2.3,6.7,5.5,6.7,5.5\\n\\t\\t\\t\\ts1.7,0.1,1.7,2c0,1.8-2.1,2.1-2.1,2.1H50.1z\\\"/>\\n\\t\\t\\t<path class=\\\"foreground\\\" d=\\\"M42.9,68.5h14.5c0,0-1,6.3-7.2,6.3S42.9,68.5,42.9,68.5z\\\"/>\\n\\t\\t\\t<ellipse class=\\\"stroke\\\" cx=\\\"49.9\\\" cy=\\\"49.9\\\" rx=\\\"37.4\\\" ry=\\\"36.9\\\"/>\\n\\t\\t</g>\\n\\t</g>\\n</g>\\n</svg>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/raw-loader!./src/bell/bell.svg\n ** module id = 25\n ** module chunks = 0\n **/","import log from 'loglevel';\nimport Event from './events.js';\n\n\nexport default class Database {\n\n  static get EVENTS() {\n    return {\n      REBUILT: 'onesignal.db.rebuilt',\n      RETRIEVED: 'onesignal.db.retrieved',\n      SET: 'onesignal.db.set'\n    };\n  }\n\n  /**\n   * Returns an existing instance or creates a new instances of the database.\n   * @returns {Promise} Returns a promise that is fulfilled when the database becomes accessible or rejects when an error occurs.\n   */\n  static getInstance() {\n    return new Promise(function (resolve, reject) {\n      if (Database._instance) {\n        resolve(Database._instance);\n      } else {\n        let request = indexedDB.open(\"ONE_SIGNAL_SDK_DB\", 1);\n        request.onsuccess = (event) => {\n          let database = event.target.result;\n          Database._instance = database;\n          log.debug('Opening IndexedDB instance.');\n          resolve(database);\n        };\n        request.onerror = (event) => {\n          log.error('Unable to open IndexedDB.', event);\n          reject(event);\n        };\n        request.onupgradeneeded = (event) => {\n          log.info('The OneSignal SDK is rebuilding its IndexedDB schema from a clean slate.');\n          let db = event.target.result;\n          db.createObjectStore(\"Ids\", {\n            keyPath: \"type\"\n          });\n          db.createObjectStore(\"NotificationOpened\", {\n            keyPath: \"url\"\n          });\n          db.createObjectStore(\"Options\", {\n            keyPath: \"key\"\n          });\n          Event.trigger(Database.EVENTS.REBUILT);\n        };\n      }\n    });\n  }\n\n  /**\n   * Asynchronously retrieves the value of the key at the table (if key is specified), or the entire table (if key is not specified).\n   * @param table The table to retrieve the value from.\n   * @param key The key in the table to retrieve the value of. Leave blank to get the entire table.\n   * @returns {Promise} Returns a promise that fulfills when the value(s) are available.\n   */\n  static get(table, key) {\n    if (key) {\n      // Return a table-key value\n      return new Promise(function (resolve, reject) {\n        Database.getInstance().then((database) => {\n          var request = database.transaction(table).objectStore(table).get(key);\n          request.onsuccess = () => {\n            Event.trigger(Database.EVENTS.RETRIEVED, {table: table, key: key, result: request.result});\n            resolve(request.result);\n          };\n          request.onerror = () => {\n            reject(request.errorCode);\n          };\n        }).catch(function (e) {\n          log.error(e);\n          reject(e);\n        });\n      });\n    } else {\n      // Return all values in table\n      return new Promise(function (resolve, reject) {\n        Database.getInstance().then((database) => {\n          let jsonResult = {};\n          let cursor = database.transaction(table).objectStore(table).openCursor();\n          cursor.onsuccess = (event) => {\n            var cursorResult = event.target.result;\n            if (cursorResult) {\n              Event.trigger(Database.EVENTS.RETRIEVED, cursorResult.value);\n              jsonResult[cursorResult.key] = cursorResult.value.value;\n              cursorResult.continue();\n            } else {\n              resolve(jsonResult);\n            }\n          };\n          cursor.onerror = (event) => {\n            reject(cursor.errorCode);\n          };\n        }).catch(function (e) {\n          log.error(e);\n          reject(e);\n        });\n      });\n    }\n  }\n\n  /**\n   * Asynchronously puts the specified value in the specified table.\n   * @param table\n   * @param key\n   */\n  static put(table, value) {\n    return new Promise(function (resolve, reject) {\n      Database.getInstance().then((database) => {\n        database.transaction([table], 'readwrite').objectStore(table).put(value);\n        Event.trigger(Database.EVENTS.SET, value);\n        resolve(value);\n      }).catch(function (e) {\n        log.error(e);\n        reject(e);\n      });\n    });\n  }\n\n  /**\n   * Asynchronously removes the specified key from the table.\n   * @returns {Promise} Returns a promise containing a key that is fulfilled when deletion is completed.\n   */\n  static remove(table, key) {\n    return new Promise(function (resolve) {\n      Database.getInstance().then((database) => {\n        database.transaction([table], 'readwrite').objectStore(table).delete(key);\n        resolve(key);\n      }).catch(function (e) {\n        log.error(e);\n        reject(e);\n      });\n    });\n  }\n\n  static printIds() {\n    Promise.all([\n      Database.get('Ids', 'appId'),\n      Database.get('Ids', 'registrationId'),\n      Database.get('Ids', 'userId')\n    ]).then(function(contents) {\n      log.info('appId:', contents[0]);\n      log.info('registrationId:', contents[1]);\n      log.info('userId:', contents[2]);\n    });\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/database.js\n **/","module.exports = global[\"ServiceWorker\"] = require(\"-!/Users/jpang/code/OneSignal-Website-SDK/node_modules/babel-loader/index.js?{\\\"presets\\\":[\\\"es2015\\\"],\\\"cacheDirectory\\\":true}!/Users/jpang/code/OneSignal-Website-SDK/src/ServiceWorker.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/expose-loader?ServiceWorker!./src/ServiceWorker.js\n ** module id = 27\n ** module chunks = 0\n **/","import { DEV_HOST, PROD_HOST, API_URL } from './vars.js';\nimport Environment from './environment.js'\nimport { sendNotification, apiCall } from './api.js';\nimport log from 'loglevel';\nimport LimitStore from './limitStore.js';\nimport \"./cache-polyfill.js\";\nimport Database from './database.js';\nimport { isPushNotificationsSupported, isBrowserSafari, isSupportedFireFox, isBrowserFirefox, getFirefoxVersion, isSupportedSafari, getConsoleStyle } from './utils.js';\n\nclass ServiceWorker {\n\n  static run() {\n    self.addEventListener('push', ServiceWorker.onPushReceived);\n    self.addEventListener('notificationclick', ServiceWorker.onNotificationClicked);\n    self.addEventListener('install', ServiceWorker.onServiceWorkerInstalled);\n\n    // If the user is proxying through our subdomain (e.g. website.onesignal.com/sdks/)\n    if (ServiceWorker.onOurSubdomain) {\n      // Cache resources?\n      self.addEventListener('fetch', ServiceWorker.onFetch);\n    }\n  }\n\n  static get CACHE_URLS() {\n    return [\n      '/sdks/initOneSignalHttpIframe',\n      '/sdks/initOneSignalHttpIframe?session=*',\n      '/sdks/manifest_json',\n      '/dev_sdks/initOneSignalHttpIframe',\n      '/dev_sdks/initOneSignalHttpIframe?session=*',\n      '/dev_sdks/manifest_json'\n      ];\n  }\n\n  /**\n   * Occurs when a push message is received.\n   * This method handles the receipt of a push signal on all web browsers except Safari, which uses the OS to handle notifications.\n   * @param event\n   */\n  static onPushReceived(event) {\n    log.debug(`Called %conPushReceived(${JSON.stringify(event, null, 4)})`, getConsoleStyle('code'));\n\n\n    event.waitUntil(new Promise((resolve, reject) => {\n      var extra = {};\n      ServiceWorker._getTitle()\n        .then(title => {\n          extra.title = title;\n          return Database.get('Options', 'defaultIcon');\n\n        })\n        .then(defaultIconResult => {\n          extra.defaultIconResult = defaultIconResult\n          return extra;\n\n        })\n        .then(extra => {\n          return ServiceWorker._getLastNotifications();\n\n        })\n        .then(notifications => {\n\n          // At this point, we have an array of notification objects (all the JSON is parsed)\n          // We want to fire a notification for each object\n          // We need to use event.waitUntil() to extend the life of the service worker (workers can be killed if idling)\n          // We want to extend the service worker lifetime until all promises for showNotification resolve\n          let notificationEventPromises = [];\n\n          for (let notification of notifications) {\n            let data = {\n              id: notification.custom.i,\n              message: notification.alert,\n              additionalData: notification.custom.a\n            };\n\n            if (notification.title)\n              data.title = notification.title;\n            else\n              data.title = extra.title;\n\n            if (notification.custom.u)\n              data.launchURL = notification.custom.u;\n\n            if (notification.icon)\n              data.icon = notification.icon;\n            else if (extra.defaultIconResult)\n              data.icon = extra.defaultIconResult;\n\n            // Never nest the following line in a callback from the point of entering from _getLastNotifications\n            let notificationEventPromise = self.registration.showNotification(data.title, {\n              // https://developers.google.com/web/updates/2015/10/notification-requireInteraction?hl=en\n              // On Chrome 47+ Desktop only, notifications will be dismissed after 20 seconds unless requireInteraction is set to true\n              requireInteraction: true,\n              body: data.message,\n              icon: data.icon,\n              tag: JSON.stringify(data)\n            });\n\n            notificationEventPromises.push(notificationEventPromise);\n            return Promise.all(notificationEventPromises);\n          }\n        })\n        .then(resolve)\n        .catch(e => log.error(e));\n    }));\n  }\n\n  static onNotificationClicked(event) {\n    log.debug(`Called %conNotificationClicked(${JSON.stringify(event, null, 4)})`, getConsoleStyle('code'));\n\n    var notificationData = JSON.parse(event.notification.tag);\n    event.notification.close();\n\n    event.waitUntil(\n      Database.get('Options', 'defaultUrl')\n        .then(defaultUrlResult => {\n\n          if (defaultUrlResult)\n            ServiceWorker.defaultLaunchUrl = defaultUrlResult.value;\n        })\n        .then(() => {\n          return clients.matchAll({type: 'window'});\n        })\n        .then(clientList => {\n\n          var launchURL = registration.scope;\n          if (ServiceWorker.defaultLaunchUrl)\n            launchURL = ServiceWorker.defaultLaunchUrl;\n          if (notificationData.launchURL)\n            launchURL = notificationData.launchURL;\n\n          for (let i = 0; i < clientList.length; i++) {\n            var client = clientList[i];\n            if ('focus' in client && client.url == launchURL) {\n              client.focus();\n\n              // targetOrigin not valid here as the service worker owns the page.\n              client.postMessage(notificationData);\n              return;\n            }\n          }\n\n          let launchURLObject = new URL(launchURL);\n          if (launchURL !== 'javascript:void(0);' &&\n              launchURL !== 'do_not_open' &&\n              !launchURLObject.search.includes('_osp=do_not_open')) {\n            return Database.put(\"NotificationOpened\", {url: launchURL, data: notificationData})\n              .then(() => {\n\n                clients.openWindow(launchURL).catch(function (error) {\n                  // Should only fall into here if going to an external URL on Chrome older than 43.\n                  clients.openWindow(registration.scope + \"redirector.html?url=\" + launchURL);\n                });\n              });\n          }\n        })\n        .then(() => {\n          return Promise.all([Database.get('Ids', 'appId'), Database.get('Ids', 'userId')])\n        })\n        .then(results => {\n\n          var [ appIdResult, userIdResult ] = results;\n          if (appIdResult && userIdResult) {\n            apiCall(\"notifications/\" + notificationData.id, \"PUT\", {\n              app_id: appIdResult.id,\n              player_id: userIdResult.id,\n              opened: true\n            });\n          }\n        })\n        .catch(e => log.error(e))\n    );\n  }\n\n  static onServiceWorkerInstalled(event) {\n    log.debug(`Called %conServiceWorkerInstalled(${JSON.stringify(event, null, 4)})`, getConsoleStyle('code'));\n    log.info(`Installing service worker: %c${self.location.pathname}`, getConsoleStyle('code'), `(version ${__VERSION__})`);\n\n    if (self.location.pathname.indexOf(\"OneSignalSDKWorker.js\") > -1)\n      var serviceWorkerVersionType = 'WORKER1_ONE_SIGNAL_SW_VERSION'\n    else\n      var serviceWorkerVersionType = 'WORKER2_ONE_SIGNAL_SW_VERSION';\n\n    if (ServiceWorker.onOurSubdomain) {\n      event.waitUntil(\n        Database.put(\"Ids\", {type: serviceWorkerVersionType, id: __VERSION__})\n          .then(() => {\n            return caches.open(\"OneSignal_\" + __VERSION__)\n          })\n          .then(cache => {\n\n            return cache.addAll(ServiceWorker.CACHE_URLS);\n          })\n          .catch(e => log.error(e))\n      );\n    } else {\n      event.waitUntil(Database.put(\"Ids\", {type: serviceWorkerVersionType, id: __VERSION__}));\n    }\n  }\n\n  static onFetch(event) {\n    let url = event.request.url;\n    for (let cacheUrl of ServiceWorker.CACHE_URLS) {\n      if (url.indexOf(cacheUrl) > -1) {\n        event.respondWith(\n          caches.match(event.request)\n            .then((response) => {\n              // Cache hit -- return response\n              if (response) {\n                return response;\n              }\n              return fetch(event.request);\n            })\n            .catch((e) => log.error(e))\n        );\n      }\n    }\n  }\n\n  static get onOurSubdomain() {\n    return __DEV__ || location.href.match(/https:\\/\\/.*\\.onesignal.com\\/sdks\\//) !== null;\n  }\n\n  /**\n   * Returns a promise that is fulfilled with either the default title from the database (first priority) or the page title from the database (alternate result).\n   */\n  static _getTitle() {\n    return new Promise((resolve, reject) => {\n      Promise.all([Database.get('Options', 'defaultTitle'), Database.get('Options', 'pageTitle')])\n        .then((results) => {\n          var [ defaultTitleResult, pageTitleResult ] = results;\n\n          if (defaultTitleResult) {\n            resolve(defaultTitleResult.value);\n          }\n          else if (pageTitleResult && pageTitleResult.value != null) {\n            resolve(pageTitleResult.value);\n          }\n          else {\n            resolve('');\n          }\n        })\n        .catch(function (e) {\n          log.error(e);\n          reject(e);\n        });\n    });\n  }\n\n  /**\n   * Returns a promise that is fulfilled with the JSON result of chrome notifications.\n   */\n  static _getLastNotifications() {\n    return new Promise((resolve, reject) => {\n      var notifications = [];\n      // Each entry is like:\n      /*\n       Object {custom: Object, icon: \"https://onesignal.com/images/notification_logo.png\", alert: \"asd\", title: \"ss\"}\n       alert: \"asd\"\n       custom: Object\n       i: \"6d7ec82f-bc56-494f-b73a-3a3b48baa2d8\"\n       __proto__: Object\n       icon: \"https://onesignal.com/images/notification_logo.png\"\n       title: \"ss\"\n       __proto__: Object\n       */\n      Database.get('Ids', 'userId')\n        .then(userIdResult => {\n          if (userIdResult) {\n            return apiCall(\"players/\" + userIdResult.id + \"/chromeweb_notification\", \"GET\");\n          }\n          else {\n            log.error('Tried to get last notifications, but there was no userId found in the database.');\n            reject(new Error('Tried to get last notifications, but there was no userId found in the database.'));\n          }\n        })\n        .then(response => {\n          // The response is an array literal -- response.json() has been called by apiCall()\n          // The result looks like this:\n          // apiCall(\"players/7442a553-5f61-4b3e-aedd-bb574ef6946f/chromeweb_notification\", \"GET\").then(function(response) { console.log(response); });\n          // [\"{\"custom\":{\"i\":\"6d7ec82f-bc56-494f-b73a-3a3b48baa2d8\"},\"icon\":\"https://onesignal.com/images/notification_logo.png\",\"alert\":\"asd\",\"title\":\"ss\"}\"]\n          // ^ Notice this is an array literal with JSON data inside\n          for (var i = 0; i < response.length; i++) {\n            notifications.push(JSON.parse(response[i]));\n          }\n          resolve(notifications);\n        })\n        .catch(e => {\n          log.error(e);\n          reject(e);\n        });\n    });\n  }\n}\n\n// Expose this class to the global scope\nself.OneSignalServiceWorker = ServiceWorker;\n\n// Set logging to the appropriate level\nlog.setDefaultLevel(__DEV__ ? log.levels.TRACE : log.levels.ERROR);\n\n// Print it's happy time!\nlog.info(`%cOneSignal Service Worker loaded (version ${__VERSION__}, ${Environment.getEnv()} environment).`, getConsoleStyle('bold'));\n\n// Run our main file\nServiceWorker.run();\n\n\n/** WEBPACK FOOTER **\n ** ./src/ServiceWorker.js\n **/","/**\n * https://github.com/coonsta/cache-polyfill\n *\n * Copyright 2015 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nif (!Cache.prototype.addAll) {\n  Cache.prototype.addAll = function addAll(requests) {\n    var cache = this;\n\n    // Since DOMExceptions are not constructable:\n    function NetworkError(message) {\n      this.name = 'NetworkError';\n      this.code = 19;\n      this.message = message;\n    }\n    NetworkError.prototype = Object.create(Error.prototype);\n\n    return Promise.resolve().then(function() {\n      if (arguments.length < 1) throw new TypeError();\n\n      // Simulate sequence<(Request or USVString)> binding:\n      var sequence = [];\n\n      requests = requests.map(function(request) {\n        if (request instanceof Request) {\n          return request;\n        }\n        else {\n          return String(request); // may throw TypeError\n        }\n      });\n\n      return Promise.all(\n        requests.map(function(request) {\n          if (typeof request === 'string') {\n            request = new Request(request);\n          }\n\n          var scheme = new URL(request.url).protocol;\n\n          if (scheme !== 'http:' && scheme !== 'https:') {\n            throw new NetworkError(\"Invalid scheme\");\n          }\n\n          return fetch(request.clone());\n        })\n      );\n    }).then(function(responses) {\n      // TODO: check that requests don't overwrite one another\n      // (don't think this is possible to polyfill due to opaque responses)\n      return Promise.all(\n        responses.map(function(response, i) {\n          return cache.put(requests[i], response);\n        })\n      );\n    }).then(function() {\n      return undefined;\n    });\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/cache-polyfill.js\n **/"],"sourceRoot":""}